{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import AsyncStorage from\"@react-native-async-storage/async-storage\";import{useFonts}from\"expo-font\";import{StatusBar}from\"expo-status-bar\";import{FernsProvider}from\"ferns-ui\";import React,{useEffect,useState}from\"react\";import Pressable from\"react-native-web/dist/exports/Pressable\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import{Host}from\"react-native-portalize\";import{SafeAreaProvider,useSafeAreaInsets}from\"react-native-safe-area-context\";import*as Stories from\"./src/stories\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var stories=Object.values(Stories);var allStories={};for(var story of stories){for(var storyName of Object.keys(story.stories)){allStories[storyName]=story.stories[storyName];}}var App=function App(){var insets=useSafeAreaInsets();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentStory=_useState2[0],setStory=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),scrollEnabled=_useState4[0],setScrollEnabled=_useState4[1];useEffect(function(){if(!currentStory){setScrollEnabled(true);}},[currentStory]);useEffect(function(){void AsyncStorage.getItem(\"story\").then(function(story){if(story&&allStories[story]){setStory(story);}});},[]);var _useFonts=useFonts({\"Comfortaa-Light\":require(\"./assets/Comfortaa-Light.ttf\"),\"Comfortaa-Bold\":require(\"./assets/Comfortaa-Bold.ttf\"),IMFellEnglishSC:require(\"./assets/IMFellEnglishSC-Regular.ttf\"),\"DancingScript-Regular\":require(\"./assets/DancingScript-Regular.ttf\"),Cochin:require(\"./assets/Cochin.ttf\")}),_useFonts2=_slicedToArray(_useFonts,1),loaded=_useFonts2[0];if(!loaded){return null;}return _jsx(Host,{children:_jsxs(View,{style:_objectSpread(_objectSpread({},styles.container),{},{paddingTop:insets.top,paddingBottom:insets.bottom,paddingLeft:insets.left,paddingRight:insets.right,backgroundColor:\"#fff\"}),children:[_jsx(StatusBar,{style:\"auto\"}),_jsxs(View,{style:styles.header,children:[!currentStory&&_jsx(Text,{style:{fontWeight:\"bold\",fontSize:20},children:\"Pick A Story:\"}),currentStory&&_jsx(Pressable,{onPress:_asyncToGenerator(function*(){setStory(null);yield AsyncStorage.setItem(\"story\",\"\");}),children:_jsx(Text,{style:{fontWeight:\"bold\"},children:\"< Back\"})}),_jsx(Text,{style:{marginLeft:20,fontWeight:\"bold\"},children:currentStory})]}),_jsxs(View,{style:styles.body,children:[currentStory&&allStories[currentStory]&&allStories[currentStory](setScrollEnabled),!currentStory&&_jsx(ScrollView,{scrollEnabled:scrollEnabled,children:_jsx(View,{style:styles.storyList,children:stories.map(function(s){return _jsxs(React.Fragment,{children:[_jsx(Text,{style:{fontWeight:\"bold\",fontSize:20,marginBottom:12},children:s.title}),Object.keys(s.stories).map(function(title){return _jsx(Pressable,{onPress:_asyncToGenerator(function*(){setStory(title);yield AsyncStorage.setItem(\"story\",title);}),children:_jsx(Text,{style:{fontSize:16,marginBottom:8},children:title})},title);})]},s.title);})})})]})]})});};var AppRoot=function AppRoot(){return _jsx(SafeAreaProvider,{children:_jsx(FernsProvider,{children:_jsx(App,{})})});};var styles=StyleSheet.create({container:{backgroundColor:\"#fff\",width:\"100%\",height:\"100%\",maxHeight:\"100%\",position:\"absolute\",overflow:\"hidden\"},header:{backgroundColor:\"#ccc\",display:\"flex\",flexDirection:\"row\",width:\"100%\",height:50,maxHeight:50,alignItems:\"center\",paddingLeft:16},body:{width:\"100%\",display:\"flex\",flex:1,flexDirection:\"column\",overflow:\"scroll\",backgroundColor:\"#eee\",maxHeight:\"100%\"},storyList:{display:\"flex\",flex:1,paddingLeft:16,paddingRight:16,paddingTop:16,overflow:\"scroll\",paddingBottom:120}});export default AppRoot;","map":{"version":3,"names":["AsyncStorage","useFonts","StatusBar","FernsProvider","React","useEffect","useState","Pressable","ScrollView","StyleSheet","Text","View","Host","SafeAreaProvider","useSafeAreaInsets","Stories","jsx","_jsx","jsxs","_jsxs","stories","Object","values","allStories","story","storyName","keys","App","insets","_useState","_useState2","_slicedToArray","currentStory","setStory","_useState3","_useState4","scrollEnabled","setScrollEnabled","getItem","then","_useFonts","require","IMFellEnglishSC","Cochin","_useFonts2","loaded","children","style","_objectSpread","styles","container","paddingTop","top","paddingBottom","bottom","paddingLeft","left","paddingRight","right","backgroundColor","header","fontWeight","fontSize","onPress","_asyncToGenerator","setItem","marginLeft","body","storyList","map","s","Fragment","marginBottom","title","AppRoot","create","width","height","maxHeight","position","overflow","display","flexDirection","alignItems","flex"],"sources":["/Users/josh/src/ui/packages/ui-demo/App.tsx"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport {useFonts} from \"expo-font\";\nimport {StatusBar} from \"expo-status-bar\";\nimport {FernsProvider} from \"ferns-ui\";\nimport React, {ReactElement, useEffect, useState} from \"react\";\nimport {Pressable, ScrollView, StyleSheet, Text, View} from \"react-native\";\nimport {Host} from \"react-native-portalize\";\nimport {SafeAreaProvider, useSafeAreaInsets} from \"react-native-safe-area-context\";\n\nimport * as Stories from \"./src/stories\";\n\ntype StoryFunc = (setScrollEnabled?: any) => ReactElement;\n\nexport interface Story {\n  title: string;\n  component: any;\n  stories: {[name: string]: StoryFunc};\n}\n\nconst stories: Story[] = Object.values(Stories);\nconst allStories: {[name: string]: StoryFunc} = {};\nfor (const story of stories) {\n  for (const storyName of Object.keys(story.stories)) {\n    allStories[storyName] = story.stories[storyName];\n  }\n}\n\nconst App = () => {\n  const insets = useSafeAreaInsets();\n  const [currentStory, setStory] = useState<string | null>(null);\n  // this is just for the signature field, because we need to disable scroll while signing or else\n  // it will scroll the page instead of signing in the box with the signature pad\n  const [scrollEnabled, setScrollEnabled] = useState(true);\n\n  // set scroll to enabled if no current story. it should be enabled for all stories except\n  // signature\n  useEffect(() => {\n    if (!currentStory) {\n      setScrollEnabled(true);\n    }\n  }, [currentStory]);\n\n  // get story from storage instead of going back to list view on every reload\n  useEffect(() => {\n    void AsyncStorage.getItem(\"story\").then((story) => {\n      if (story && allStories[story]) {\n        setStory(story);\n      }\n    });\n  }, []);\n\n  const [loaded] = useFonts({\n    \"Comfortaa-Light\": require(\"./assets/Comfortaa-Light.ttf\"),\n    \"Comfortaa-Bold\": require(\"./assets/Comfortaa-Bold.ttf\"),\n    IMFellEnglishSC: require(\"./assets/IMFellEnglishSC-Regular.ttf\"),\n    \"DancingScript-Regular\": require(\"./assets/DancingScript-Regular.ttf\"),\n    Cochin: require(\"./assets/Cochin.ttf\"),\n  });\n\n  if (!loaded) {\n    return null;\n  }\n\n  return (\n    <Host>\n      <View\n        style={{\n          ...styles.container,\n          paddingTop: insets.top,\n          paddingBottom: insets.bottom,\n          paddingLeft: insets.left,\n          paddingRight: insets.right,\n          backgroundColor: \"#fff\",\n        }}\n      >\n        <StatusBar style=\"auto\" />\n        <View style={styles.header}>\n          {!currentStory && <Text style={{fontWeight: \"bold\", fontSize: 20}}>Pick A Story:</Text>}\n          {currentStory && (\n            <Pressable\n              onPress={async () => {\n                setStory(null);\n                await AsyncStorage.setItem(\"story\", \"\");\n              }}\n            >\n              <Text style={{fontWeight: \"bold\"}}>&lt; Back</Text>\n            </Pressable>\n          )}\n          <Text style={{marginLeft: 20, fontWeight: \"bold\"}}>{currentStory}</Text>\n        </View>\n        <View style={styles.body}>\n          {currentStory && allStories[currentStory] && allStories[currentStory](setScrollEnabled)}\n          {!currentStory && (\n            <ScrollView scrollEnabled={scrollEnabled}>\n              <View style={styles.storyList}>\n                {stories.map((s) => (\n                  <React.Fragment key={s.title}>\n                    <Text style={{fontWeight: \"bold\", fontSize: 20, marginBottom: 12}}>\n                      {s.title}\n                    </Text>\n                    {Object.keys(s.stories).map((title) => (\n                      <Pressable\n                        key={title}\n                        onPress={async () => {\n                          setStory(title);\n                          await AsyncStorage.setItem(\"story\", title);\n                        }}\n                      >\n                        <Text style={{fontSize: 16, marginBottom: 8}}>{title}</Text>\n                      </Pressable>\n                    ))}\n                  </React.Fragment>\n                ))}\n              </View>\n            </ScrollView>\n          )}\n        </View>\n      </View>\n    </Host>\n  );\n};\n\nconst AppRoot = (): ReactElement => {\n  return (\n    <SafeAreaProvider>\n      <FernsProvider>\n        <App />\n      </FernsProvider>\n    </SafeAreaProvider>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#fff\",\n    width: \"100%\",\n    height: \"100%\",\n    maxHeight: \"100%\",\n    position: \"absolute\",\n    overflow: \"hidden\",\n  },\n  header: {\n    backgroundColor: \"#ccc\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    width: \"100%\",\n    height: 50,\n    maxHeight: 50,\n    alignItems: \"center\",\n    paddingLeft: 16,\n  },\n  body: {\n    width: \"100%\",\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"column\",\n    overflow: \"scroll\",\n    backgroundColor: \"#eee\",\n    maxHeight: \"100%\",\n  },\n  storyList: {\n    display: \"flex\",\n    flex: 1,\n    paddingLeft: 16,\n    paddingRight: 16,\n    paddingTop: 16,\n    overflow: \"scroll\",\n    paddingBottom: 120, // ScrollView isn't the proper height so you can't get to the bottom.\n  },\n});\n\n// eslint-disable-next-line import/no-default-export\nexport default AppRoot;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}