{"ast":null,"code":"'use strict';import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return typeof key===\"symbol\"?key:String(key);}function _toPrimitive(input,hint){if(typeof input!==\"object\"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||\"default\");if(typeof res!==\"object\")return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(hint===\"string\"?String:Number)(input);}import{runOnUI}from'../core';import{prepareUIRegistry}from'./FrameCallbackRegistryUI';var _worklet_9769030538367_init_data={code:\"function anonymous(){const{callback,callbackId}=this.__closure;global._frameCallbackRegistry.registerFrameCallback(callback,callbackId);}\"};var _worklet_3563696229796_init_data={code:\"function anonymous(){const{callbackId}=this.__closure;global._frameCallbackRegistry.unregisterFrameCallback(callbackId);}\"};var _worklet_12225017345728_init_data={code:\"function anonymous(){const{callbackId,state}=this.__closure;global._frameCallbackRegistry.manageStateFrameCallback(callbackId,state);}\"};var FrameCallbackRegistryJS=function(){function FrameCallbackRegistryJS(){_classCallCheck(this,FrameCallbackRegistryJS);_defineProperty(this,\"nextCallbackId\",0);prepareUIRegistry();}_createClass(FrameCallbackRegistryJS,[{key:\"registerFrameCallback\",value:function registerFrameCallback(callback){if(!callback){return-1;}var callbackId=this.nextCallbackId;this.nextCallbackId++;runOnUI(function(){var anonymous=function anonymous(){global._frameCallbackRegistry.registerFrameCallback(callback,callbackId);};anonymous.__closure={callback:callback,callbackId:callbackId};anonymous.__workletHash=9769030538367;anonymous.__initData=_worklet_9769030538367_init_data;return anonymous;}())();return callbackId;}},{key:\"unregisterFrameCallback\",value:function unregisterFrameCallback(callbackId){runOnUI(function(){var anonymous=function anonymous(){global._frameCallbackRegistry.unregisterFrameCallback(callbackId);};anonymous.__closure={callbackId:callbackId};anonymous.__workletHash=3563696229796;anonymous.__initData=_worklet_3563696229796_init_data;return anonymous;}())();}},{key:\"manageStateFrameCallback\",value:function manageStateFrameCallback(callbackId,state){runOnUI(function(){var anonymous=function anonymous(){global._frameCallbackRegistry.manageStateFrameCallback(callbackId,state);};anonymous.__closure={callbackId:callbackId,state:state};anonymous.__workletHash=12225017345728;anonymous.__initData=_worklet_12225017345728_init_data;return anonymous;}())();}}]);return FrameCallbackRegistryJS;}();export{FrameCallbackRegistryJS as default};","map":{"version":3,"sources":["FrameCallbackRegistryJS.ts"],"names":["runOnUI","prepareUIRegistry","FrameCallbackRegistryJS","constructor","_defineProperty","registerFrameCallback","callback","callbackId","nextCallbackId","global","_frameCallbackRegistry","unregisterFrameCallback","manageStateFrameCallback","state"],"mappings":"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","sourcesContent":["'use strict';\nimport { runOnUI } from '../core';\nimport type { FrameInfo } from './FrameCallbackRegistryUI';\nimport { prepareUIRegistry } from './FrameCallbackRegistryUI';\n\nexport default class FrameCallbackRegistryJS {\n  private nextCallbackId = 0;\n\n  constructor() {\n    prepareUIRegistry();\n  }\n\n  registerFrameCallback(callback: (frameInfo: FrameInfo) => void): number {\n    if (!callback) {\n      return -1;\n    }\n\n    const callbackId = this.nextCallbackId;\n    this.nextCallbackId++;\n\n    runOnUI(() => {\n      global._frameCallbackRegistry.registerFrameCallback(callback, callbackId);\n    })();\n\n    return callbackId;\n  }\n\n  unregisterFrameCallback(callbackId: number): void {\n    runOnUI(() => {\n      global._frameCallbackRegistry.unregisterFrameCallback(callbackId);\n    })();\n  }\n\n  manageStateFrameCallback(callbackId: number, state: boolean): void {\n    runOnUI(() => {\n      global._frameCallbackRegistry.manageStateFrameCallback(callbackId, state);\n    })();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}