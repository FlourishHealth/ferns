{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var CircularBuffer=function(){function CircularBuffer(size){_classCallCheck(this,CircularBuffer);_defineProperty(this,\"bufferSize\",void 0);_defineProperty(this,\"buffer\",void 0);_defineProperty(this,\"index\",void 0);_defineProperty(this,\"actualSize\",void 0);this.bufferSize=size;this.buffer=new Array(size);this.index=0;this.actualSize=0;}_createClass(CircularBuffer,[{key:\"size\",get:function get(){return this.actualSize;}},{key:\"push\",value:function push(element){this.buffer[this.index]=element;this.index=(this.index+1)%this.bufferSize;this.actualSize=Math.min(this.actualSize+1,this.bufferSize);}},{key:\"get\",value:function get(at){if(this.actualSize===this.bufferSize){var index=(this.index+at)%this.bufferSize;if(index<0){index+=this.bufferSize;}return this.buffer[index];}else{return this.buffer[at];}}},{key:\"clear\",value:function clear(){this.buffer=new Array(this.bufferSize);this.index=0;this.actualSize=0;}}]);return CircularBuffer;}();export{CircularBuffer as default};","map":{"version":3,"sources":["CircularBuffer.ts"],"names":["CircularBuffer","constructor","size","bufferSize","buffer","Array","index","actualSize","push","element","Math","min","get","at","clear"],"mappings":"yTAAqBA,CAAAA,cAAN,YAMbC,SAAAA,eAAYC,IAAD,CAAe,CAAA,eAAA,MAAA,cAAA,EAAA,eAAA,CAAA,IAAA,CAAA,YAAA,CAAA,IAAA,EAAA,CAAA,CAAA,eAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAA,EAAA,CAAA,CAAA,eAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,EAAA,CAAA,CAAA,eAAA,CAAA,IAAA,CAAA,YAAA,CAAA,IAAA,EAAA,CAAA,CACxB,IAAA,CAAKC,UAAL,CAAkBD,IAAlB,CACA,IAAA,CAAKE,MAAL,CAAc,GAAIC,CAAAA,KAAJ,CAAaH,IAAb,CAAd,CACA,IAAA,CAAKI,KAAL,CAAa,CAAb,CACA,IAAA,CAAKC,UAAL,CAAkB,CAAlB,CACD,CAAA,YAAA,CAAA,cAAA,GAAA,GAAA,QAAA,GAAA,CAEUL,SAAAA,IAAAA,CAAe,CACxB,MAAO,KAAA,CAAKK,UAAZ,CACD,CAAA,GAAA,GAAA,QAAA,KAAA,CAEMC,SAAAA,KAAKC,OAAD,CAAmB,CAC5B,IAAA,CAAKL,MAAL,CAAY,IAAA,CAAKE,KAAjB,CAAA,CAA0BG,OAA1B,CACA,IAAA,CAAKH,KAAL,CAAa,CAAC,IAAA,CAAKA,KAAL,CAAa,CAAd,EAAmB,IAAA,CAAKH,UAArC,CACA,IAAA,CAAKI,UAAL,CAAkBG,IAAI,CAACC,GAALD,CAAS,IAAA,CAAKH,UAAL,CAAkB,CAA3BG,CAA8B,IAAA,CAAKP,UAAnCO,CAAlB,CACD,CAAA,GAAA,GAAA,OAAA,KAAA,CAEME,SAAAA,IAAIC,EAAD,CAAgB,CACxB,GAAI,IAAA,CAAKN,UAAL,GAAoB,IAAA,CAAKJ,UAA7B,CAAyC,CACvC,GAAIG,CAAAA,KAAK,CAAG,CAAC,IAAA,CAAKA,KAAL,CAAaO,EAAd,EAAoB,IAAA,CAAKV,UAArC,CACA,GAAIG,KAAK,CAAG,CAAZ,CAAe,CACbA,KAAK,EAAI,IAAA,CAAKH,UAAdG,CACD,CAED,MAAO,KAAA,CAAKF,MAAL,CAAYE,KAAZ,CAAP,CACD,CAPD,IAOO,CACL,MAAO,KAAA,CAAKF,MAAL,CAAYS,EAAZ,CAAP,CACD,CACF,CAAA,GAAA,GAAA,SAAA,KAAA,CAEMC,SAAAA,MAAAA,CAAc,CACnB,IAAA,CAAKV,MAAL,CAAc,GAAIC,CAAAA,KAAJ,CAAa,IAAA,CAAKF,UAAlB,CAAd,CACA,IAAA,CAAKG,KAAL,CAAa,CAAb,CACA,IAAA,CAAKC,UAAL,CAAkB,CAAlB,CACD,CAAA,WAAA,cAAA,YAxCkBP,cAAN,IAAA,OAAA","sourcesContent":["export default class CircularBuffer<T> {\n  private bufferSize: number;\n  private buffer: T[];\n  private index: number;\n  private actualSize: number;\n\n  constructor(size: number) {\n    this.bufferSize = size;\n    this.buffer = new Array<T>(size);\n    this.index = 0;\n    this.actualSize = 0;\n  }\n\n  public get size(): number {\n    return this.actualSize;\n  }\n\n  public push(element: T): void {\n    this.buffer[this.index] = element;\n    this.index = (this.index + 1) % this.bufferSize;\n    this.actualSize = Math.min(this.actualSize + 1, this.bufferSize);\n  }\n\n  public get(at: number): T {\n    if (this.actualSize === this.bufferSize) {\n      let index = (this.index + at) % this.bufferSize;\n      if (index < 0) {\n        index += this.bufferSize;\n      }\n\n      return this.buffer[index];\n    } else {\n      return this.buffer[at];\n    }\n  }\n\n  public clear(): void {\n    this.buffer = new Array<T>(this.bufferSize);\n    this.index = 0;\n    this.actualSize = 0;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}