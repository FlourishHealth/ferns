{"ast":null,"code":"\"use strict\";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(Object.hasOwnProperty.call(mod,k))result[k]=mod[k];result[\"default\"]=mod;return result;};Object.defineProperty(exports,\"__esModule\",{value:true});var React=__importStar(require(\"react\"));var keyGenerator=function keyGenerator(){return`portalize_${Math.random().toString(36).substr(2,16)}-${Math.random().toString(36).substr(2,16)}-${Math.random().toString(36).substr(2,16)}`;};exports.useKey=function(){var usedKeys=React.useRef([]);var generateKey=function generateKey(){var foundUniqueKey=false;var newKey='';var tries=0;while(!foundUniqueKey&&tries<3){tries++;newKey=keyGenerator();if(!usedKeys.current.includes(newKey)){foundUniqueKey=true;}}if(!foundUniqueKey){newKey=`portalize_${Date.now()}_${Math.floor(Math.random()*1000)}`;}usedKeys.current.push(newKey);return newKey;};var removeKey=function removeKey(key){usedKeys.current=usedKeys.current.filter(function(k){return k!==key;});};return{generateKey:generateKey,removeKey:removeKey};};","map":{"version":3,"names":["__importStar","mod","__esModule","result","k","Object","hasOwnProperty","call","defineProperty","exports","value","React","require","keyGenerator","Math","random","toString","substr","useKey","usedKeys","useRef","generateKey","foundUniqueKey","newKey","tries","current","includes","Date","now","floor","push","removeKey","key","filter"],"sources":["/Users/josh/src/ui/node_modules/react-native-portalize/lib/hooks/useKey.js"],"sourcesContent":["\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __importStar(require(\"react\"));\n// Generates a random key\nconst keyGenerator = () => {\n    return `portalize_${Math.random().toString(36).substr(2, 16)}-${Math.random()\n        .toString(36)\n        .substr(2, 16)}-${Math.random().toString(36).substr(2, 16)}`;\n};\n// Custom hook that checks for uniqueness and retries if clashes\nexports.useKey = () => {\n    const usedKeys = React.useRef([]);\n    const generateKey = () => {\n        let foundUniqueKey = false;\n        let newKey = '';\n        let tries = 0;\n        while (!foundUniqueKey && tries < 3) {\n            // limit number of tries to stop endless loop of pain\n            tries++;\n            newKey = keyGenerator();\n            if (!usedKeys.current.includes(newKey)) {\n                foundUniqueKey = true;\n            }\n        }\n        // will only run if exited while loop without finding a unique key\n        if (!foundUniqueKey) {\n            newKey = `portalize_${Date.now()}_${Math.floor(Math.random() * 1000)}`; // fallback method\n        }\n        usedKeys.current.push(newKey);\n        return newKey;\n    };\n    // Removes our key to make it 'available' again\n    const removeKey = (key) => {\n        usedKeys.current = usedKeys.current.filter(k => k !== key);\n    };\n    return { generateKey, removeKey };\n};\n"],"mappings":"AAAA,YAAY,CACZ,GAAI,CAAAA,YAAY,CAAI,IAAI,EAAI,IAAI,CAACA,YAAY,EAAK,SAAUC,GAAG,CAAE,CAC7D,GAAIA,GAAG,EAAIA,GAAG,CAACC,UAAU,CAAE,MAAO,CAAAD,GAAG,CACrC,GAAI,CAAAE,MAAM,CAAG,CAAC,CAAC,CACf,GAAIF,GAAG,EAAI,IAAI,CAAE,IAAK,GAAI,CAAAG,CAAC,GAAI,CAAAH,GAAG,CAAE,GAAII,MAAM,CAACC,cAAc,CAACC,IAAI,CAACN,GAAG,CAAEG,CAAC,CAAC,CAAED,MAAM,CAACC,CAAC,CAAC,CAAGH,GAAG,CAACG,CAAC,CAAC,CAC9FD,MAAM,CAAC,SAAS,CAAC,CAAGF,GAAG,CACvB,MAAO,CAAAE,MAAM,CACjB,CAAC,CACDE,MAAM,CAACG,cAAc,CAACC,OAAO,CAAE,YAAY,CAAE,CAAEC,KAAK,CAAE,IAAK,CAAC,CAAC,CAC7D,GAAM,CAAAC,KAAK,CAAGX,YAAY,CAACY,OAAO,CAAC,OAAO,CAAC,CAAC,CAE5C,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACvB,MAAQ,aAAYC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAE,EAAE,CAAE,IAAGH,IAAI,CAACC,MAAM,CAAC,CAAC,CACxEC,QAAQ,CAAC,EAAE,CAAC,CACZC,MAAM,CAAC,CAAC,CAAE,EAAE,CAAE,IAAGH,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAE,EAAE,CAAE,EAAC,CACpE,CAAC,CAEDR,OAAO,CAACS,MAAM,CAAG,UAAM,CACnB,GAAM,CAAAC,QAAQ,CAAGR,KAAK,CAACS,MAAM,CAAC,EAAE,CAAC,CACjC,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACtB,GAAI,CAAAC,cAAc,CAAG,KAAK,CAC1B,GAAI,CAAAC,MAAM,CAAG,EAAE,CACf,GAAI,CAAAC,KAAK,CAAG,CAAC,CACb,MAAO,CAACF,cAAc,EAAIE,KAAK,CAAG,CAAC,CAAE,CAEjCA,KAAK,EAAE,CACPD,MAAM,CAAGV,YAAY,CAAC,CAAC,CACvB,GAAI,CAACM,QAAQ,CAACM,OAAO,CAACC,QAAQ,CAACH,MAAM,CAAC,CAAE,CACpCD,cAAc,CAAG,IAAI,CACzB,CACJ,CAEA,GAAI,CAACA,cAAc,CAAE,CACjBC,MAAM,CAAI,aAAYI,IAAI,CAACC,GAAG,CAAC,CAAE,IAAGd,IAAI,CAACe,KAAK,CAACf,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,IAAI,CAAE,EAAC,CAC1E,CACAI,QAAQ,CAACM,OAAO,CAACK,IAAI,CAACP,MAAM,CAAC,CAC7B,MAAO,CAAAA,MAAM,CACjB,CAAC,CAED,GAAM,CAAAQ,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,GAAG,CAAK,CACvBb,QAAQ,CAACM,OAAO,CAAGN,QAAQ,CAACM,OAAO,CAACQ,MAAM,CAAC,SAAA7B,CAAC,QAAI,CAAAA,CAAC,GAAK4B,GAAG,GAAC,CAC9D,CAAC,CACD,MAAO,CAAEX,WAAW,CAAXA,WAAW,CAAEU,SAAS,CAATA,SAAU,CAAC,CACrC,CAAC"},"metadata":{},"sourceType":"script"}