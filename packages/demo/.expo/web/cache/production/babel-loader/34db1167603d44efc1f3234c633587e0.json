{"ast":null,"code":"'use strict';import{isColor,convertToRGBA,rgbaArrayToRGBAColor,toGammaSpace,toLinearSpace}from'../Colors';import{ReduceMotion}from'../commonTypes';import{flatten,multiplyMatrices,scaleMatrix,addMatrices,decomposeMatrixIntoMatricesAndAngles,isAffineMatrixFlat,subtractMatrices,getRotationMatrix}from'./transformationMatrix/matrixUtils';import{isReducedMotion,shouldBeUseWeb}from'../PlatformChecker';var IN_STYLE_UPDATER=false;var IS_REDUCED_MOTION=isReducedMotion();export function initialUpdaterRun(updater){IN_STYLE_UPDATER=true;var result=updater();IN_STYLE_UPDATER=false;return result;}var _worklet_3020301727952_init_data={code:\"function recognizePrefixSuffix(value){if(typeof value==='string'){var _match$;const match=value.match(/([A-Za-z]*)(-?\\\\d*\\\\.?\\\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!match){throw new Error(\\\"[Reanimated] Couldn't parse animation value.\\\");}const prefix=match[1];const suffix=match[4];const number=match[2]+((_match$=match[3])!==null&&_match$!==void 0?_match$:'');return{prefix:prefix,suffix:suffix,strippedValue:parseFloat(number)};}else{return{strippedValue:value};}}\"};export var recognizePrefixSuffix=function(){var recognizePrefixSuffix=function recognizePrefixSuffix(value){if(typeof value==='string'){var _match$;var match=value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!match){throw new Error(\"[Reanimated] Couldn't parse animation value.\");}var prefix=match[1];var suffix=match[4];var number=match[2]+((_match$=match[3])!=null?_match$:'');return{prefix:prefix,suffix:suffix,strippedValue:parseFloat(number)};}else{return{strippedValue:value};}};recognizePrefixSuffix.__closure={};recognizePrefixSuffix.__workletHash=3020301727952;recognizePrefixSuffix.__initData=_worklet_3020301727952_init_data;return recognizePrefixSuffix;}();var _worklet_1869740720377_init_data={code:\"function getReduceMotionFromConfig(config){const{ReduceMotion,IS_REDUCED_MOTION}=this.__closure;return!config||config===ReduceMotion.System?IS_REDUCED_MOTION:config===ReduceMotion.Always;}\"};export var getReduceMotionFromConfig=function(){var getReduceMotionFromConfig=function getReduceMotionFromConfig(config){return!config||config===ReduceMotion.System?IS_REDUCED_MOTION:config===ReduceMotion.Always;};getReduceMotionFromConfig.__closure={ReduceMotion:ReduceMotion,IS_REDUCED_MOTION:IS_REDUCED_MOTION};getReduceMotionFromConfig.__workletHash=1869740720377;getReduceMotionFromConfig.__initData=_worklet_1869740720377_init_data;return getReduceMotionFromConfig;}();var _worklet_276575271075_init_data={code:\"function getReduceMotionForAnimation(config){const{getReduceMotionFromConfig}=this.__closure;if(!config){return undefined;}return getReduceMotionFromConfig(config);}\"};export var getReduceMotionForAnimation=function(){var getReduceMotionForAnimation=function getReduceMotionForAnimation(config){if(!config){return undefined;}return getReduceMotionFromConfig(config);};getReduceMotionForAnimation.__closure={getReduceMotionFromConfig:getReduceMotionFromConfig};getReduceMotionForAnimation.__workletHash=276575271075;getReduceMotionForAnimation.__initData=_worklet_276575271075_init_data;return getReduceMotionForAnimation;}();var _worklet_2474473268778_init_data={code:\"function applyProgressToMatrix(progress,a,b){const{addMatrices,scaleMatrix,subtractMatrices}=this.__closure;return addMatrices(a,scaleMatrix(subtractMatrices(b,a),progress));}\"};var applyProgressToMatrix=function(){var applyProgressToMatrix=function applyProgressToMatrix(progress,a,b){return addMatrices(a,scaleMatrix(subtractMatrices(b,a),progress));};applyProgressToMatrix.__closure={addMatrices:addMatrices,scaleMatrix:scaleMatrix,subtractMatrices:subtractMatrices};applyProgressToMatrix.__workletHash=2474473268778;applyProgressToMatrix.__initData=_worklet_2474473268778_init_data;return applyProgressToMatrix;}();var _worklet_12875500528398_init_data={code:\"function applyProgressToNumber(progress,a,b){return a+progress*(b-a);}\"};var applyProgressToNumber=function(){var applyProgressToNumber=function applyProgressToNumber(progress,a,b){return a+progress*(b-a);};applyProgressToNumber.__closure={};applyProgressToNumber.__workletHash=12875500528398;applyProgressToNumber.__initData=_worklet_12875500528398_init_data;return applyProgressToNumber;}();var _worklet_8953524749153_init_data={code:\"function decorateAnimation(animation){const{getReduceMotionFromConfig,recognizePrefixSuffix,isColor,toLinearSpace,convertToRGBA,rgbaArrayToRGBAColor,toGammaSpace,decomposeMatrixIntoMatricesAndAngles,applyProgressToMatrix,applyProgressToNumber,getRotationMatrix,multiplyMatrices,flatten,isAffineMatrixFlat}=this.__closure;const baseOnStart=animation.onStart;const baseOnFrame=animation.onFrame;if(animation.isHigherOrder){animation.onStart=function(animation,value,timestamp,previousAnimation){if(animation.reduceMotion===undefined){animation.reduceMotion=getReduceMotionFromConfig();}return baseOnStart(animation,value,timestamp,previousAnimation);};return;}const animationCopy=Object.assign({},animation);delete animationCopy.callback;const prefNumberSuffOnStart=function(animation,value,timestamp,previousAnimation){var _animation$__prefix,_animation$__suffix;const{prefix:prefix,suffix:suffix,strippedValue:strippedValue}=recognizePrefixSuffix(value);animation.__prefix=prefix;animation.__suffix=suffix;animation.strippedCurrent=strippedValue;const{strippedValue:strippedToValue}=recognizePrefixSuffix(animation.toValue);animation.current=strippedValue;animation.startValue=strippedValue;animation.toValue=strippedToValue;if(previousAnimation&&previousAnimation!==animation){const{prefix:paPrefix,suffix:paSuffix,strippedValue:paStrippedValue}=recognizePrefixSuffix(previousAnimation.current);previousAnimation.current=paStrippedValue;previousAnimation.__prefix=paPrefix;previousAnimation.__suffix=paSuffix;}baseOnStart(animation,strippedValue,timestamp,previousAnimation);animation.current=((_animation$__prefix=animation.__prefix)!==null&&_animation$__prefix!==void 0?_animation$__prefix:'')+animation.current+((_animation$__suffix=animation.__suffix)!==null&&_animation$__suffix!==void 0?_animation$__suffix:'');if(previousAnimation&&previousAnimation!==animation){var _previousAnimation$__,_previousAnimation$__2;previousAnimation.current=((_previousAnimation$__=previousAnimation.__prefix)!==null&&_previousAnimation$__!==void 0?_previousAnimation$__:'')+previousAnimation.current+((_previousAnimation$__2=previousAnimation.__suffix)!==null&&_previousAnimation$__2!==void 0?_previousAnimation$__2:'');}};const prefNumberSuffOnFrame=function(animation,timestamp){var _animation$__prefix2,_animation$__suffix2;animation.current=animation.strippedCurrent;const res=baseOnFrame(animation,timestamp);animation.strippedCurrent=animation.current;animation.current=((_animation$__prefix2=animation.__prefix)!==null&&_animation$__prefix2!==void 0?_animation$__prefix2:'')+animation.current+((_animation$__suffix2=animation.__suffix)!==null&&_animation$__suffix2!==void 0?_animation$__suffix2:'');return res;};const tab=['R','G','B','A'];const colorOnStart=function(animation,value,timestamp,previousAnimation){let RGBAValue;let RGBACurrent;let RGBAToValue;const res=[];if(isColor(value)){RGBACurrent=toLinearSpace(convertToRGBA(animation.current));RGBAValue=toLinearSpace(convertToRGBA(value));if(animation.toValue){RGBAToValue=toLinearSpace(convertToRGBA(animation.toValue));}}tab.forEach(function(i,index){animation[i]=Object.assign({},animationCopy);animation[i].current=RGBACurrent[index];animation[i].toValue=RGBAToValue?RGBAToValue[index]:undefined;animation[i].onStart(animation[i],RGBAValue[index],timestamp,previousAnimation?previousAnimation[i]:undefined);res.push(animation[i].current);});animation.current=rgbaArrayToRGBAColor(toGammaSpace(res));};const colorOnFrame=function(animation,timestamp){const RGBACurrent=toLinearSpace(convertToRGBA(animation.current));const res=[];let finished=true;tab.forEach(function(i,index){animation[i].current=RGBACurrent[index];const result=animation[i].onFrame(animation[i],timestamp);finished=finished&&result;res.push(animation[i].current);});animation.current=rgbaArrayToRGBAColor(toGammaSpace(res));return finished;};const transformationMatrixOnStart=function(animation,value,timestamp,previousAnimation){const toValue=animation.toValue;animation.startMatrices=decomposeMatrixIntoMatricesAndAngles(value);animation.stopMatrices=decomposeMatrixIntoMatricesAndAngles(toValue);animation[0]=Object.assign({},animationCopy);animation[0].current=0;animation[0].toValue=100;animation[0].onStart(animation[0],0,timestamp,previousAnimation?previousAnimation[0]:undefined);animation.current=value;};const transformationMatrixOnFrame=function(animation,timestamp){let finished=true;const result=animation[0].onFrame(animation[0],timestamp);finished=finished&&result;const progress=animation[0].current/100;const transforms=['translationMatrix','scaleMatrix','skewMatrix'];const mappedTransforms=[];transforms.forEach(function(key,_){return mappedTransforms.push(applyProgressToMatrix(progress,animation.startMatrices[key],animation.stopMatrices[key]));});const[currentTranslation,currentScale,skewMatrix]=mappedTransforms;const rotations=['x','y','z'];const mappedRotations=[];rotations.forEach(function(key,_){const angle=applyProgressToNumber(progress,animation.startMatrices['r'+key],animation.stopMatrices['r'+key]);mappedRotations.push(getRotationMatrix(angle,key));});const[rotationMatrixX,rotationMatrixY,rotationMatrixZ]=mappedRotations;const rotationMatrix=multiplyMatrices(rotationMatrixX,multiplyMatrices(rotationMatrixY,rotationMatrixZ));const updated=flatten(multiplyMatrices(multiplyMatrices(currentScale,multiplyMatrices(skewMatrix,rotationMatrix)),currentTranslation));animation.current=updated;return finished;};const arrayOnStart=function(animation,value,timestamp,previousAnimation){value.forEach(function(v,i){animation[i]=Object.assign({},animationCopy);animation[i].current=v;animation[i].toValue=animation.toValue[i];animation[i].onStart(animation[i],v,timestamp,previousAnimation?previousAnimation[i]:undefined);});animation.current=value;};const arrayOnFrame=function(animation,timestamp){let finished=true;animation.current.forEach(function(_,i){const result=animation[i].onFrame(animation[i],timestamp);finished=finished&&result;animation.current[i]=animation[i].current;});return finished;};const objectOnStart=function(animation,value,timestamp,previousAnimation){for(const key in value){animation[key]=Object.assign({},animationCopy);animation[key].onStart=animation.onStart;animation[key].current=value[key];animation[key].toValue=animation.toValue[key];animation[key].onStart(animation[key],value[key],timestamp,previousAnimation?previousAnimation[key]:undefined);}animation.current=value;};const objectOnFrame=function(animation,timestamp){let finished=true;const newObject={};for(const key in animation.current){const result=animation[key].onFrame(animation[key],timestamp);finished=finished&&result;newObject[key]=animation[key].current;}animation.current=newObject;return finished;};animation.onStart=function(animation,value,timestamp,previousAnimation){if(animation.reduceMotion===undefined){animation.reduceMotion=getReduceMotionFromConfig();}if(animation.reduceMotion){if(animation.toValue!==undefined){animation.current=animation.toValue;}else{baseOnStart(animation,value,timestamp,previousAnimation);}animation.startTime=0;animation.onFrame=function(){return true;};return;}if(isColor(value)){colorOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=colorOnFrame;return;}else if(isAffineMatrixFlat(value)){transformationMatrixOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=transformationMatrixOnFrame;return;}else if(Array.isArray(value)){arrayOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=arrayOnFrame;return;}else if(typeof value==='string'){prefNumberSuffOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=prefNumberSuffOnFrame;return;}else if(typeof value==='object'&&value!==null){objectOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=objectOnFrame;return;}baseOnStart(animation,value,timestamp,previousAnimation);};}\"};var decorateAnimation=function(){var decorateAnimation=function decorateAnimation(animation){var baseOnStart=animation.onStart;var baseOnFrame=animation.onFrame;if(animation.isHigherOrder){animation.onStart=function(animation,value,timestamp,previousAnimation){if(animation.reduceMotion===undefined){animation.reduceMotion=getReduceMotionFromConfig();}return baseOnStart(animation,value,timestamp,previousAnimation);};return;}var animationCopy=Object.assign({},animation);delete animationCopy.callback;var prefNumberSuffOnStart=function prefNumberSuffOnStart(animation,value,timestamp,previousAnimation){var _animation$__prefix,_animation$__suffix;var _recognizePrefixSuffi=recognizePrefixSuffix(value),prefix=_recognizePrefixSuffi.prefix,suffix=_recognizePrefixSuffi.suffix,strippedValue=_recognizePrefixSuffi.strippedValue;animation.__prefix=prefix;animation.__suffix=suffix;animation.strippedCurrent=strippedValue;var _recognizePrefixSuffi2=recognizePrefixSuffix(animation.toValue),strippedToValue=_recognizePrefixSuffi2.strippedValue;animation.current=strippedValue;animation.startValue=strippedValue;animation.toValue=strippedToValue;if(previousAnimation&&previousAnimation!==animation){var _recognizePrefixSuffi3=recognizePrefixSuffix(previousAnimation.current),paPrefix=_recognizePrefixSuffi3.prefix,paSuffix=_recognizePrefixSuffi3.suffix,paStrippedValue=_recognizePrefixSuffi3.strippedValue;previousAnimation.current=paStrippedValue;previousAnimation.__prefix=paPrefix;previousAnimation.__suffix=paSuffix;}baseOnStart(animation,strippedValue,timestamp,previousAnimation);animation.current=((_animation$__prefix=animation.__prefix)!=null?_animation$__prefix:'')+animation.current+((_animation$__suffix=animation.__suffix)!=null?_animation$__suffix:'');if(previousAnimation&&previousAnimation!==animation){var _previousAnimation$__,_previousAnimation$__2;previousAnimation.current=((_previousAnimation$__=previousAnimation.__prefix)!=null?_previousAnimation$__:'')+previousAnimation.current+((_previousAnimation$__2=previousAnimation.__suffix)!=null?_previousAnimation$__2:'');}};var prefNumberSuffOnFrame=function prefNumberSuffOnFrame(animation,timestamp){var _animation$__prefix2,_animation$__suffix2;animation.current=animation.strippedCurrent;var res=baseOnFrame(animation,timestamp);animation.strippedCurrent=animation.current;animation.current=((_animation$__prefix2=animation.__prefix)!=null?_animation$__prefix2:'')+animation.current+((_animation$__suffix2=animation.__suffix)!=null?_animation$__suffix2:'');return res;};var tab=['R','G','B','A'];var colorOnStart=function colorOnStart(animation,value,timestamp,previousAnimation){var RGBAValue;var RGBACurrent;var RGBAToValue;var res=[];if(isColor(value)){RGBACurrent=toLinearSpace(convertToRGBA(animation.current));RGBAValue=toLinearSpace(convertToRGBA(value));if(animation.toValue){RGBAToValue=toLinearSpace(convertToRGBA(animation.toValue));}}tab.forEach(function(i,index){animation[i]=Object.assign({},animationCopy);animation[i].current=RGBACurrent[index];animation[i].toValue=RGBAToValue?RGBAToValue[index]:undefined;animation[i].onStart(animation[i],RGBAValue[index],timestamp,previousAnimation?previousAnimation[i]:undefined);res.push(animation[i].current);});animation.current=rgbaArrayToRGBAColor(toGammaSpace(res));};var colorOnFrame=function colorOnFrame(animation,timestamp){var RGBACurrent=toLinearSpace(convertToRGBA(animation.current));var res=[];var finished=true;tab.forEach(function(i,index){animation[i].current=RGBACurrent[index];var result=animation[i].onFrame(animation[i],timestamp);finished=finished&&result;res.push(animation[i].current);});animation.current=rgbaArrayToRGBAColor(toGammaSpace(res));return finished;};var transformationMatrixOnStart=function transformationMatrixOnStart(animation,value,timestamp,previousAnimation){var toValue=animation.toValue;animation.startMatrices=decomposeMatrixIntoMatricesAndAngles(value);animation.stopMatrices=decomposeMatrixIntoMatricesAndAngles(toValue);animation[0]=Object.assign({},animationCopy);animation[0].current=0;animation[0].toValue=100;animation[0].onStart(animation[0],0,timestamp,previousAnimation?previousAnimation[0]:undefined);animation.current=value;};var transformationMatrixOnFrame=function transformationMatrixOnFrame(animation,timestamp){var finished=true;var result=animation[0].onFrame(animation[0],timestamp);finished=finished&&result;var progress=animation[0].current/100;var transforms=['translationMatrix','scaleMatrix','skewMatrix'];var mappedTransforms=[];transforms.forEach(function(key,_){return mappedTransforms.push(applyProgressToMatrix(progress,animation.startMatrices[key],animation.stopMatrices[key]));});var currentTranslation=mappedTransforms[0],currentScale=mappedTransforms[1],skewMatrix=mappedTransforms[2];var rotations=['x','y','z'];var mappedRotations=[];rotations.forEach(function(key,_){var angle=applyProgressToNumber(progress,animation.startMatrices['r'+key],animation.stopMatrices['r'+key]);mappedRotations.push(getRotationMatrix(angle,key));});var rotationMatrixX=mappedRotations[0],rotationMatrixY=mappedRotations[1],rotationMatrixZ=mappedRotations[2];var rotationMatrix=multiplyMatrices(rotationMatrixX,multiplyMatrices(rotationMatrixY,rotationMatrixZ));var updated=flatten(multiplyMatrices(multiplyMatrices(currentScale,multiplyMatrices(skewMatrix,rotationMatrix)),currentTranslation));animation.current=updated;return finished;};var arrayOnStart=function arrayOnStart(animation,value,timestamp,previousAnimation){value.forEach(function(v,i){animation[i]=Object.assign({},animationCopy);animation[i].current=v;animation[i].toValue=animation.toValue[i];animation[i].onStart(animation[i],v,timestamp,previousAnimation?previousAnimation[i]:undefined);});animation.current=value;};var arrayOnFrame=function arrayOnFrame(animation,timestamp){var finished=true;animation.current.forEach(function(_,i){var result=animation[i].onFrame(animation[i],timestamp);finished=finished&&result;animation.current[i]=animation[i].current;});return finished;};var objectOnStart=function objectOnStart(animation,value,timestamp,previousAnimation){for(var key in value){animation[key]=Object.assign({},animationCopy);animation[key].onStart=animation.onStart;animation[key].current=value[key];animation[key].toValue=animation.toValue[key];animation[key].onStart(animation[key],value[key],timestamp,previousAnimation?previousAnimation[key]:undefined);}animation.current=value;};var objectOnFrame=function objectOnFrame(animation,timestamp){var finished=true;var newObject={};for(var key in animation.current){var result=animation[key].onFrame(animation[key],timestamp);finished=finished&&result;newObject[key]=animation[key].current;}animation.current=newObject;return finished;};animation.onStart=function(animation,value,timestamp,previousAnimation){if(animation.reduceMotion===undefined){animation.reduceMotion=getReduceMotionFromConfig();}if(animation.reduceMotion){if(animation.toValue!==undefined){animation.current=animation.toValue;}else{baseOnStart(animation,value,timestamp,previousAnimation);}animation.startTime=0;animation.onFrame=function(){return true;};return;}if(isColor(value)){colorOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=colorOnFrame;return;}else if(isAffineMatrixFlat(value)){transformationMatrixOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=transformationMatrixOnFrame;return;}else if(Array.isArray(value)){arrayOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=arrayOnFrame;return;}else if(typeof value==='string'){prefNumberSuffOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=prefNumberSuffOnFrame;return;}else if(typeof value==='object'&&value!==null){objectOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=objectOnFrame;return;}baseOnStart(animation,value,timestamp,previousAnimation);};};decorateAnimation.__closure={getReduceMotionFromConfig:getReduceMotionFromConfig,recognizePrefixSuffix:recognizePrefixSuffix,isColor:isColor,toLinearSpace:toLinearSpace,convertToRGBA:convertToRGBA,rgbaArrayToRGBAColor:rgbaArrayToRGBAColor,toGammaSpace:toGammaSpace,decomposeMatrixIntoMatricesAndAngles:decomposeMatrixIntoMatricesAndAngles,applyProgressToMatrix:applyProgressToMatrix,applyProgressToNumber:applyProgressToNumber,getRotationMatrix:getRotationMatrix,multiplyMatrices:multiplyMatrices,flatten:flatten,isAffineMatrixFlat:isAffineMatrixFlat};decorateAnimation.__workletHash=8953524749153;decorateAnimation.__initData=_worklet_8953524749153_init_data;return decorateAnimation;}();var SHOULD_BE_USE_WEB=shouldBeUseWeb();var _worklet_976613793992_init_data={code:\"function defineAnimation(starting,factory){const{IN_STYLE_UPDATER,decorateAnimation,SHOULD_BE_USE_WEB}=this.__closure;if(IN_STYLE_UPDATER){return starting;}const create=function(){'worklet';const animation=factory();decorateAnimation(animation);return animation;};if(_WORKLET||SHOULD_BE_USE_WEB){return create();}return create;}\"};var _worklet_16067442363934_init_data={code:\"function anonymous(){const{factory,decorateAnimation}=this.__closure;const animation=factory();decorateAnimation(animation);return animation;}\"};export var defineAnimation=function(){var defineAnimation=function defineAnimation(starting,factory){if(IN_STYLE_UPDATER){return starting;}var create=function(){var anonymous=function anonymous(){var animation=factory();decorateAnimation(animation);return animation;};anonymous.__closure={factory:factory,decorateAnimation:decorateAnimation};anonymous.__workletHash=16067442363934;anonymous.__initData=_worklet_16067442363934_init_data;return anonymous;}();if(_WORKLET||SHOULD_BE_USE_WEB){return create();}return create;};defineAnimation.__closure={IN_STYLE_UPDATER:IN_STYLE_UPDATER,decorateAnimation:decorateAnimation,SHOULD_BE_USE_WEB:SHOULD_BE_USE_WEB};defineAnimation.__workletHash=976613793992;defineAnimation.__initData=_worklet_976613793992_init_data;return defineAnimation;}();var _worklet_15056882569526_init_data={code:\"function cancelAnimation(sharedValue){sharedValue.value=sharedValue.value;}\"};export var cancelAnimation=function(){var cancelAnimation=function cancelAnimation(sharedValue){sharedValue.value=sharedValue.value;};cancelAnimation.__closure={};cancelAnimation.__workletHash=15056882569526;cancelAnimation.__initData=_worklet_15056882569526_init_data;return cancelAnimation;}();","map":{"version":3,"sources":["util.ts"],"names":["isColor","convertToRGBA","rgbaArrayToRGBAColor","toGammaSpace","toLinearSpace","ReduceMotion","flatten","multiplyMatrices","scaleMatrix","addMatrices","decomposeMatrixIntoMatricesAndAngles","isAffineMatrixFlat","subtractMatrices","getRotationMatrix","isReducedMotion","shouldBeUseWeb","IN_STYLE_UPDATER","IS_REDUCED_MOTION","initialUpdaterRun","updater","result","recognizePrefixSuffix","value","match","Error","prefix","suffix","number","strippedValue","parseFloat","getReduceMotionFromConfig","config","System","Always","getReduceMotionForAnimation","undefined","applyProgressToMatrix","progress","a","b","applyProgressToNumber","decorateAnimation","animation","baseOnStart","onStart","baseOnFrame","onFrame","isHigherOrder","timestamp","previousAnimation","reduceMotion","animationCopy","Object","assign","callback","prefNumberSuffOnStart","__prefix","__suffix","strippedCurrent","strippedToValue","toValue","current","startValue","paPrefix","paSuffix","paStrippedValue","prefNumberSuffOnFrame","res","tab","colorOnStart","RGBAValue","RGBACurrent","RGBAToValue","forEach","i","index","push","colorOnFrame","finished","transformationMatrixOnStart","startMatrices","stopMatrices","transformationMatrixOnFrame","transforms","mappedTransforms","key","_","currentTranslation","currentScale","skewMatrix","rotations","mappedRotations","angle","rotationMatrixX","rotationMatrixY","rotationMatrixZ","rotationMatrix","updated","arrayOnStart","v","arrayOnFrame","objectOnStart","objectOnFrame","newObject","startTime","Array","isArray","SHOULD_BE_USE_WEB","defineAnimation","starting","factory","create","_WORKLET","cancelAnimation","sharedValue"],"mappings":"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","sourcesContent":["'use strict';\nimport type { HigherOrderAnimation, StyleLayoutAnimation } from './commonTypes';\nimport type { ParsedColorArray } from '../Colors';\nimport {\n  isColor,\n  convertToRGBA,\n  rgbaArrayToRGBAColor,\n  toGammaSpace,\n  toLinearSpace,\n} from '../Colors';\nimport { ReduceMotion } from '../commonTypes';\nimport type {\n  SharedValue,\n  AnimatableValue,\n  Animation,\n  AnimationObject,\n  Timestamp,\n  AnimatableValueObject,\n} from '../commonTypes';\nimport type {\n  AffineMatrixFlat,\n  AffineMatrix,\n} from './transformationMatrix/matrixUtils';\nimport {\n  flatten,\n  multiplyMatrices,\n  scaleMatrix,\n  addMatrices,\n  decomposeMatrixIntoMatricesAndAngles,\n  isAffineMatrixFlat,\n  subtractMatrices,\n  getRotationMatrix,\n} from './transformationMatrix/matrixUtils';\nimport { isReducedMotion, shouldBeUseWeb } from '../PlatformChecker';\n\nlet IN_STYLE_UPDATER = false;\nconst IS_REDUCED_MOTION = isReducedMotion();\n\nexport function initialUpdaterRun<T>(updater: () => T) {\n  IN_STYLE_UPDATER = true;\n  const result = updater();\n  IN_STYLE_UPDATER = false;\n  return result;\n}\n\ninterface RecognizedPrefixSuffix {\n  prefix?: string;\n  suffix?: string;\n  strippedValue: number;\n}\n\nexport function recognizePrefixSuffix(\n  value: string | number\n): RecognizedPrefixSuffix {\n  'worklet';\n  if (typeof value === 'string') {\n    const match = value.match(\n      /([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/\n    );\n    if (!match) {\n      throw new Error(\"[Reanimated] Couldn't parse animation value.\");\n    }\n    const prefix = match[1];\n    const suffix = match[4];\n    // number with scientific notation\n    const number = match[2] + (match[3] ?? '');\n    return { prefix, suffix, strippedValue: parseFloat(number) };\n  } else {\n    return { strippedValue: value };\n  }\n}\n\n/**\n * Returns whether the motion should be reduced for a specified config.\n * By default returns the system setting.\n */\nexport function getReduceMotionFromConfig(config?: ReduceMotion) {\n  'worklet';\n  return !config || config === ReduceMotion.System\n    ? IS_REDUCED_MOTION\n    : config === ReduceMotion.Always;\n}\n\n/**\n * Returns the value that should be assigned to `animation.reduceMotion`\n * for a given config. If the config is not defined, `undefined` is returned.\n */\nexport function getReduceMotionForAnimation(config?: ReduceMotion) {\n  'worklet';\n  // if the config is not defined, we want `reduceMotion` to be undefined,\n  // so the parent animation knows if it should overwrite it\n  if (!config) {\n    return undefined;\n  }\n\n  return getReduceMotionFromConfig(config);\n}\n\nfunction applyProgressToMatrix(\n  progress: number,\n  a: AffineMatrix,\n  b: AffineMatrix\n) {\n  'worklet';\n  return addMatrices(a, scaleMatrix(subtractMatrices(b, a), progress));\n}\n\nfunction applyProgressToNumber(progress: number, a: number, b: number) {\n  'worklet';\n  return a + progress * (b - a);\n}\n\nfunction decorateAnimation<T extends AnimationObject | StyleLayoutAnimation>(\n  animation: T\n): void {\n  'worklet';\n  const baseOnStart = (animation as Animation<AnimationObject>).onStart;\n  const baseOnFrame = (animation as Animation<AnimationObject>).onFrame;\n\n  if ((animation as HigherOrderAnimation).isHigherOrder) {\n    animation.onStart = (\n      animation: Animation<AnimationObject>,\n      value: number,\n      timestamp: Timestamp,\n      previousAnimation: Animation<AnimationObject>\n    ) => {\n      if (animation.reduceMotion === undefined) {\n        animation.reduceMotion = getReduceMotionFromConfig();\n      }\n      return baseOnStart(animation, value, timestamp, previousAnimation);\n    };\n    return;\n  }\n\n  const animationCopy = Object.assign({}, animation);\n  delete animationCopy.callback;\n\n  const prefNumberSuffOnStart = (\n    animation: Animation<AnimationObject>,\n    value: string | number,\n    timestamp: number,\n    previousAnimation: Animation<AnimationObject>\n  ) => {\n    // recognize prefix, suffix, and updates stripped value on animation start\n    const { prefix, suffix, strippedValue } = recognizePrefixSuffix(value);\n    animation.__prefix = prefix;\n    animation.__suffix = suffix;\n    animation.strippedCurrent = strippedValue;\n    const { strippedValue: strippedToValue } = recognizePrefixSuffix(\n      animation.toValue as string | number\n    );\n    animation.current = strippedValue;\n    animation.startValue = strippedValue;\n    animation.toValue = strippedToValue;\n    if (previousAnimation && previousAnimation !== animation) {\n      const {\n        prefix: paPrefix,\n        suffix: paSuffix,\n        strippedValue: paStrippedValue,\n      } = recognizePrefixSuffix(previousAnimation.current as string | number);\n      previousAnimation.current = paStrippedValue;\n      previousAnimation.__prefix = paPrefix;\n      previousAnimation.__suffix = paSuffix;\n    }\n\n    baseOnStart(animation, strippedValue, timestamp, previousAnimation);\n\n    animation.current =\n      (animation.__prefix ?? '') +\n      animation.current +\n      (animation.__suffix ?? '');\n\n    if (previousAnimation && previousAnimation !== animation) {\n      previousAnimation.current =\n        (previousAnimation.__prefix ?? '') +\n        previousAnimation.current +\n        (previousAnimation.__suffix ?? '');\n    }\n  };\n  const prefNumberSuffOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: number\n  ) => {\n    animation.current = animation.strippedCurrent;\n    const res = baseOnFrame(animation, timestamp);\n    animation.strippedCurrent = animation.current;\n    animation.current =\n      (animation.__prefix ?? '') +\n      animation.current +\n      (animation.__suffix ?? '');\n    return res;\n  };\n\n  const tab = ['R', 'G', 'B', 'A'];\n  const colorOnStart = (\n    animation: Animation<AnimationObject>,\n    value: string | number,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ): void => {\n    let RGBAValue: ParsedColorArray;\n    let RGBACurrent: ParsedColorArray;\n    let RGBAToValue: ParsedColorArray;\n    const res: Array<number> = [];\n    if (isColor(value)) {\n      RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n      RGBAValue = toLinearSpace(convertToRGBA(value));\n      if (animation.toValue) {\n        RGBAToValue = toLinearSpace(convertToRGBA(animation.toValue));\n      }\n    }\n    tab.forEach((i, index) => {\n      animation[i] = Object.assign({}, animationCopy);\n      animation[i].current = RGBACurrent[index];\n      animation[i].toValue = RGBAToValue ? RGBAToValue[index] : undefined;\n      animation[i].onStart(\n        animation[i],\n        RGBAValue[index],\n        timestamp,\n        previousAnimation ? previousAnimation[i] : undefined\n      );\n      res.push(animation[i].current);\n    });\n\n    animation.current = rgbaArrayToRGBAColor(\n      toGammaSpace(res as ParsedColorArray)\n    );\n  };\n\n  const colorOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: Timestamp\n  ): boolean => {\n    const RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n    const res: Array<number> = [];\n    let finished = true;\n    tab.forEach((i, index) => {\n      animation[i].current = RGBACurrent[index];\n      const result = animation[i].onFrame(animation[i], timestamp);\n      // We really need to assign this value to result, instead of passing it directly - otherwise once \"finished\" is false, onFrame won't be called\n      finished = finished && result;\n      res.push(animation[i].current);\n    });\n\n    animation.current = rgbaArrayToRGBAColor(\n      toGammaSpace(res as ParsedColorArray)\n    );\n    return finished;\n  };\n\n  const transformationMatrixOnStart = (\n    animation: Animation<AnimationObject>,\n    value: AffineMatrixFlat,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ): void => {\n    const toValue = animation.toValue as AffineMatrixFlat;\n\n    animation.startMatrices = decomposeMatrixIntoMatricesAndAngles(value);\n    animation.stopMatrices = decomposeMatrixIntoMatricesAndAngles(toValue);\n\n    // We create an animation copy to animate single value between 0 and 100\n    // We set limits from 0 to 100 (instead of 0-1) to make spring look good\n    // with default thresholds.\n\n    animation[0] = Object.assign({}, animationCopy);\n    animation[0].current = 0;\n    animation[0].toValue = 100;\n    animation[0].onStart(\n      animation[0],\n      0,\n      timestamp,\n      previousAnimation ? previousAnimation[0] : undefined\n    );\n\n    animation.current = value;\n  };\n\n  const transformationMatrixOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: Timestamp\n  ): boolean => {\n    let finished = true;\n    const result = animation[0].onFrame(animation[0], timestamp);\n    // We really need to assign this value to result, instead of passing it directly - otherwise once \"finished\" is false, onFrame won't be called\n    finished = finished && result;\n\n    const progress = animation[0].current / 100;\n\n    const transforms = ['translationMatrix', 'scaleMatrix', 'skewMatrix'];\n    const mappedTransforms: Array<AffineMatrix> = [];\n\n    transforms.forEach((key, _) =>\n      mappedTransforms.push(\n        applyProgressToMatrix(\n          progress,\n          animation.startMatrices[key],\n          animation.stopMatrices[key]\n        )\n      )\n    );\n\n    const [currentTranslation, currentScale, skewMatrix] = mappedTransforms;\n\n    const rotations: Array<'x' | 'y' | 'z'> = ['x', 'y', 'z'];\n    const mappedRotations: Array<AffineMatrix> = [];\n\n    rotations.forEach((key, _) => {\n      const angle = applyProgressToNumber(\n        progress,\n        animation.startMatrices['r' + key],\n        animation.stopMatrices['r' + key]\n      );\n      mappedRotations.push(getRotationMatrix(angle, key));\n    });\n\n    const [rotationMatrixX, rotationMatrixY, rotationMatrixZ] = mappedRotations;\n\n    const rotationMatrix = multiplyMatrices(\n      rotationMatrixX,\n      multiplyMatrices(rotationMatrixY, rotationMatrixZ)\n    );\n\n    const updated = flatten(\n      multiplyMatrices(\n        multiplyMatrices(\n          currentScale,\n          multiplyMatrices(skewMatrix, rotationMatrix)\n        ),\n        currentTranslation\n      )\n    );\n\n    animation.current = updated;\n\n    return finished;\n  };\n\n  const arrayOnStart = (\n    animation: Animation<AnimationObject>,\n    value: Array<number>,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ): void => {\n    value.forEach((v, i) => {\n      animation[i] = Object.assign({}, animationCopy);\n      animation[i].current = v;\n      animation[i].toValue = (animation.toValue as Array<number>)[i];\n      animation[i].onStart(\n        animation[i],\n        v,\n        timestamp,\n        previousAnimation ? previousAnimation[i] : undefined\n      );\n    });\n\n    animation.current = value;\n  };\n\n  const arrayOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: Timestamp\n  ): boolean => {\n    let finished = true;\n    (animation.current as Array<number>).forEach((_, i) => {\n      const result = animation[i].onFrame(animation[i], timestamp);\n      // We really need to assign this value to result, instead of passing it directly - otherwise once \"finished\" is false, onFrame won't be called\n      finished = finished && result;\n      (animation.current as Array<number>)[i] = animation[i].current;\n    });\n\n    return finished;\n  };\n\n  const objectOnStart = (\n    animation: Animation<AnimationObject>,\n    value: AnimatableValueObject,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ): void => {\n    for (const key in value) {\n      animation[key] = Object.assign({}, animationCopy);\n      animation[key].onStart = animation.onStart;\n\n      animation[key].current = value[key];\n      animation[key].toValue = (animation.toValue as AnimatableValueObject)[\n        key\n      ];\n      animation[key].onStart(\n        animation[key],\n        value[key],\n        timestamp,\n        previousAnimation ? previousAnimation[key] : undefined\n      );\n    }\n    animation.current = value;\n  };\n\n  const objectOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: Timestamp\n  ): boolean => {\n    let finished = true;\n    const newObject: AnimatableValueObject = {};\n    for (const key in animation.current as AnimatableValueObject) {\n      const result = animation[key].onFrame(animation[key], timestamp);\n      // We really need to assign this value to result, instead of passing it directly - otherwise once \"finished\" is false, onFrame won't be called\n      finished = finished && result;\n      newObject[key] = animation[key].current;\n    }\n    animation.current = newObject;\n    return finished;\n  };\n\n  animation.onStart = (\n    animation: Animation<AnimationObject>,\n    value: number,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ) => {\n    if (animation.reduceMotion === undefined) {\n      animation.reduceMotion = getReduceMotionFromConfig();\n    }\n    if (animation.reduceMotion) {\n      if (animation.toValue !== undefined) {\n        animation.current = animation.toValue;\n      } else {\n        // if there is no `toValue`, then the base function is responsible for setting the current value\n        baseOnStart(animation, value, timestamp, previousAnimation);\n      }\n      animation.startTime = 0;\n      animation.onFrame = () => true;\n      return;\n    }\n    if (isColor(value)) {\n      colorOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = colorOnFrame;\n      return;\n    } else if (isAffineMatrixFlat(value)) {\n      transformationMatrixOnStart(\n        animation,\n        value,\n        timestamp,\n        previousAnimation\n      );\n      animation.onFrame = transformationMatrixOnFrame;\n      return;\n    } else if (Array.isArray(value)) {\n      arrayOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = arrayOnFrame;\n      return;\n    } else if (typeof value === 'string') {\n      prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = prefNumberSuffOnFrame;\n      return;\n    } else if (typeof value === 'object' && value !== null) {\n      objectOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = objectOnFrame;\n      return;\n    }\n    baseOnStart(animation, value, timestamp, previousAnimation);\n  };\n}\n\ntype AnimationToDecoration<\n  T extends AnimationObject | StyleLayoutAnimation,\n  U extends AnimationObject | StyleLayoutAnimation\n> = T extends StyleLayoutAnimation\n  ? Record<string, unknown>\n  : U | (() => U) | AnimatableValue;\n\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nexport function defineAnimation<\n  T extends AnimationObject | StyleLayoutAnimation, // type that's supposed to be returned\n  U extends AnimationObject | StyleLayoutAnimation = T // type that's received\n>(starting: AnimationToDecoration<T, U>, factory: () => T): T {\n  'worklet';\n  if (IN_STYLE_UPDATER) {\n    return starting as unknown as T;\n  }\n  const create = () => {\n    'worklet';\n    const animation = factory();\n    decorateAnimation<U>(animation as unknown as U);\n    return animation;\n  };\n\n  if (_WORKLET || SHOULD_BE_USE_WEB) {\n    return create();\n  }\n  // @ts-ignore: eslint-disable-line\n  return create;\n}\n\n/**\n * Lets you cancel a running animation paired to a shared value.\n *\n * @param sharedValue - The shared value of a running animation that you want to cancel.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/core/cancelAnimation\n */\nexport function cancelAnimation<T>(sharedValue: SharedValue<T>): void {\n  'worklet';\n  // setting the current value cancels the animation if one is currently running\n  sharedValue.value = sharedValue.value; // eslint-disable-line no-self-assign\n}\n"]},"metadata":{},"sourceType":"module"}