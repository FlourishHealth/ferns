{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from\"react\";import{ErrorPage}from\"./ErrorPage\";export var ErrorBoundary=function(_React$Component){_inherits(ErrorBoundary,_React$Component);var _super=_createSuper(ErrorBoundary);function ErrorBoundary(){var _this;_classCallCheck(this,ErrorBoundary);_this=_super.apply(this,arguments);_this.state={error:undefined};_this.resetError=function(){_this.setState({error:undefined});};return _this;}_createClass(ErrorBoundary,[{key:\"componentDidCatch\",value:function componentDidCatch(error,info){console.warn(\"[ErrorBoundary] Caught error\",error);if(this.props.onError){this.props.onError(error,info.componentStack);}}},{key:\"render\",value:function render(){var error=this.state.error;if(error){return React.createElement(ErrorPage,{error:error,resetError:this.resetError});}return this.props.children;}}],[{key:\"getDerivedStateFromError\",value:function getDerivedStateFromError(error){console.warn(\"[ErrorBoundary] Derived error\",error);return{error:error};}}]);return ErrorBoundary;}(React.Component);","map":{"version":3,"sources":["../src/ErrorBoundary.tsx"],"names":[],"mappings":"qgCAAA,MAAO,CAAA,KAAK,KAAM,OAAO,CAGzB,OAAQ,SAAS,KAAO,aAAa,CAMrC,UAAa,CAAA,aAAc,UAAA,gBAAA,EAAA,SAAA,CAAA,aAAA,CAAA,gBAAA,MAAA,MAAA,CAAA,YAAA,CAAA,aAAA,EAA3B,SAAA,cAAA,CAAA,KAAA,KAAA,CAAA,eAAA,MAAA,aAAA,E,mCACE,KAAA,CAAA,KAAK,CAAG,CAAC,KAAK,CAAE,SAAS,CAAC,CAe1B,KAAA,CAAA,UAAU,CAAG,UAAK,CAChB,KAAA,CAAK,QAAQ,CAAC,CAAC,KAAK,CAAE,SAAS,CAAC,CAAC,CACnC,CAAC,CAAC,OAAA,KAAA,CASJ,CAAC,YAAA,CAAA,aAAA,GAAA,GAAA,qBAAA,KAAA,CAnBC,SAAA,kBAAkB,KAAY,CAAE,IAA8B,CAAA,CAC5D,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAE,KAAK,CAAC,CAEnD,GAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAE,CACtB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAE,IAAI,CAAC,cAAc,CAAC,CAChD,CACF,CAAC,GAAA,GAAA,UAAA,KAAA,CAMD,SAAA,OAAA,CAAM,CACJ,GAAM,CAAA,KAAK,CAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAC9B,GAAI,KAAK,CAAE,CACT,MAAO,CAAA,KAAA,CAAA,aAAA,CAAC,SAAS,CAAA,CAAC,KAAK,CAAE,KAAK,CAAE,UAAU,CAAE,IAAI,CAAC,UAAU,CAAA,CAAI,CACjE,CACA,MAAO,KAAI,CAAC,KAAK,CAAC,QAAQ,CAC5B,CAAC,KAAA,GAAA,4BAAA,KAAA,CAvBD,SAAA,yBAAgC,KAAY,CAAA,CAC1C,OAAO,CAAC,IAAI,CAAC,+BAA+B,CAAE,KAAK,CAAC,CACpD,MAAO,CAAC,KAAK,CAAL,KAAK,CAAC,CAChB,CAAC,WAAA,aAAA,GANgC,KAAK,CAAC,SAAoC","sourceRoot":"","sourcesContent":["import React from \"react\";\nimport { ErrorPage } from \"./ErrorPage\";\nexport class ErrorBoundary extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = { error: undefined };\n        this.resetError = () => {\n            this.setState({ error: undefined });\n        };\n    }\n    static getDerivedStateFromError(error) {\n        console.warn(\"[ErrorBoundary] Derived error\", error);\n        return { error };\n    }\n    componentDidCatch(error, info) {\n        console.warn(\"[ErrorBoundary] Caught error\", error);\n        if (this.props.onError) {\n            this.props.onError(error, info.componentStack);\n        }\n    }\n    render() {\n        const error = this.state.error;\n        if (error) {\n            return React.createElement(ErrorPage, { error: error, resetError: this.resetError });\n        }\n        return this.props.children;\n    }\n}\n//# sourceMappingURL=ErrorBoundary.js.map"]},"metadata":{},"sourceType":"module"}