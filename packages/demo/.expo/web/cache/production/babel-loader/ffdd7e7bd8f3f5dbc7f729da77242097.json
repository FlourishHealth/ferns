{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import{Picker}from\"@react-native-picker/picker\";import{getCalendars}from\"expo-localization\";import range from\"lodash/range\";import{DateTime}from\"luxon\";import React,{useContext,useEffect,useState}from\"react\";import Platform from\"react-native-web/dist/exports/Platform\";import TextInput from\"react-native-web/dist/exports/TextInput\";import View from\"react-native-web/dist/exports/View\";import{Calendar}from\"react-native-calendars\";import{Box}from\"./Box\";import{Heading}from\"./Heading\";import{IconButton}from\"./IconButton\";import{isMobileDevice}from\"./MediaQuery\";import{Modal}from\"./Modal\";import{SelectList}from\"./SelectList\";import{ThemeContext}from\"./Theme\";import{TimezonePicker}from\"./TimezonePicker\";var TIME_PICKER_HEIGHT=104;var INPUT_HEIGHT=40;var hours=range(1,13).map(function(n){return String(n);});var minutes=range(0,60).map(function(n){return String(n).padStart(2,\"0\");});var minutesOptions=[].concat(_toConsumableArray(minutes),[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"]);var TimeInput=function TimeInput(_ref){var type=_ref.type,value=_ref.value,onChange=_ref.onChange;var _useContext=useContext(ThemeContext),theme=_useContext.theme;var defaultText=type===\"minute\"?String(value).padStart(2,\"0\"):String(value);var _useState=useState(defaultText),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),focused=_useState4[0],setFocused=_useState4[1];var error=false;if(type===\"hour\"){error=!hours.includes(String(Number(text)));}else if(type===\"minute\"){error=!minutesOptions.includes(String(Number(text)));}var textInputStyle={flex:1,paddingTop:4,paddingRight:4,paddingBottom:4,paddingLeft:0,height:INPUT_HEIGHT,width:\"100%\",color:theme.darkGray,fontFamily:theme.primaryFont};return React.createElement(View,{style:{flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",height:INPUT_HEIGHT,width:\"100%\",paddingHorizontal:focused?10:14,paddingVertical:focused?0:4,borderColor:error?theme.red:theme.blue,borderWidth:focused?5:1,borderRadius:5,backgroundColor:theme.white}},React.createElement(TextInput,{keyboardType:\"number-pad\",returnKeyType:\"done\",style:Object.assign(Object.assign({},textInputStyle),{outline:\"none\"}),textContentType:\"none\",underlineColorAndroid:\"transparent\",value:text,onBlur:function onBlur(){setFocused(false);},onChangeText:function onChangeText(t){setText(t);onChange(Number(t));},onFocus:function onFocus(){setFocused(true);}}));};var CalendarHeader=function CalendarHeader(_ref2){var addMonth=_ref2.addMonth,month=_ref2.month;var displayDate=DateTime.fromJSDate(month[0]).toFormat(\"MMM yyyy\");return React.createElement(Box,{alignItems:\"center\",direction:\"row\",height:40,justifyContent:\"between\",width:\"100%\"},React.createElement(IconButton,{accessibilityLabel:\"arrow\",bgColor:\"white\",icon:\"angle-double-left\",iconColor:\"primary\",size:\"md\",onClick:function onClick(){addMonth(-12);}}),React.createElement(IconButton,{accessibilityLabel:\"arrow\",bgColor:\"white\",icon:\"angle-left\",iconColor:\"primary\",size:\"md\",onClick:function onClick(){addMonth(-1);}}),React.createElement(Heading,{size:\"sm\"},displayDate),React.createElement(IconButton,{accessibilityLabel:\"arrow\",bgColor:\"white\",icon:\"angle-right\",iconColor:\"primary\",size:\"md\",onClick:function onClick(){addMonth(1);}}),React.createElement(IconButton,{accessibilityLabel:\"arrow\",bgColor:\"white\",icon:\"angle-double-right\",iconColor:\"primary\",size:\"md\",onClick:function onClick(){addMonth(12);}}));};export var DateTimeActionSheet=function DateTimeActionSheet(_ref3){var mode=_ref3.mode,value=_ref3.value,onChange=_ref3.onChange,visible=_ref3.visible,onDismiss=_ref3.onDismiss,transformValue=_ref3.transformValue;var _a,_b;var _useContext2=useContext(ThemeContext),theme=_useContext2.theme;var calendar=getCalendars()[0];var originalTimezone=((_a=transformValue===null||transformValue===void 0?void 0:transformValue.options)===null||_a===void 0?void 0:_a.timezone)||(calendar===null||calendar===void 0?void 0:calendar.timeZone);var _useState5=useState(originalTimezone),_useState6=_slicedToArray(_useState5,2),timezone=_useState6[0],setTimezone=_useState6[1];if(!timezone){console.error(\"Could not automatically determine timezone and none was provided to DateTimeActionSheet.\");}if(typeof value!==\"string\"&&typeof value!==\"undefined\"){console.error(`Datetime only accepts string or undefined value, not ${typeof value}: ${value}`);}var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),hour=_useState8[0],setHour=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),minute=_useState10[0],setMinute=_useState10[1];var _useState11=useState(\"am\"),_useState12=_slicedToArray(_useState11,2),amPm=_useState12[0],setAmPm=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),date=_useState14[0],setDate=_useState14[1];useEffect(function(){var datetime;if(value){datetime=DateTime.fromISO(value).setZone(timezone).set({millisecond:0,second:0});}else{datetime=DateTime.now().setZone(timezone).set({millisecond:0,second:0});}if(!datetime.isValid){throw new Error(`Invalid date/time value ${value}, datetime ${datetime} timezone: ${timezone}`);}var h=datetime.hour%12;if(h===0){h=12;}setHour(h);setMinute(datetime.minute);setAmPm(datetime.toFormat(\"a\")===\"am\"?\"am\":\"pm\");setDate(datetime.toISO());},[value,transformValue,(_b=transformValue===null||transformValue===void 0?void 0:transformValue.options)===null||_b===void 0?void 0:_b.timezone]);var renderMobileTime=function renderMobileTime(){return React.createElement(Box,null,React.createElement(Box,{direction:\"row\",width:\"100%\"},React.createElement(Box,{paddingY:2,width:\"35%\"},React.createElement(Picker,{itemStyle:{height:TIME_PICKER_HEIGHT},selectedValue:hour,style:{height:TIME_PICKER_HEIGHT,backgroundColor:\"#FFFFFF\"},onValueChange:function onValueChange(itemValue){return setHour(itemValue);}},hours.map(function(n){return React.createElement(Picker.Item,{key:String(n),label:String(n),value:String(n)});}))),React.createElement(Box,{paddingY:2,width:\"35%\"},React.createElement(Picker,{itemStyle:{height:TIME_PICKER_HEIGHT},selectedValue:minute,style:{height:TIME_PICKER_HEIGHT,backgroundColor:\"#FFFFFF\"},onValueChange:function onValueChange(itemValue){return setMinute(itemValue);}},minutes.map(function(n){return React.createElement(Picker.Item,{key:String(n),label:String(n),value:String(n)});}))),React.createElement(Box,{paddingY:2,width:\"30%\"},React.createElement(Picker,{itemStyle:{height:TIME_PICKER_HEIGHT},selectedValue:amPm,style:{height:TIME_PICKER_HEIGHT,backgroundColor:\"#FFFFFF\"},onValueChange:function onValueChange(itemValue){return setAmPm(itemValue);}},React.createElement(Picker.Item,{key:\"am\",label:\"am\",value:\"am\"}),React.createElement(Picker.Item,{key:\"pm\",label:\"pm\",value:\"pm\"})))),Boolean(mode===\"time\"||mode===\"datetime\")&&(React.createElement(Box,{paddingY:2},React.createElement(TimezonePicker,{showLabel:false,timezone:timezone,width:\"100%\",onChange:setTimezone}))));};var renderWebTime=function renderWebTime(){return React.createElement(Box,{direction:\"row\",justifyContent:\"center\",width:\"100%\"},React.createElement(Box,{width:60},React.createElement(TimeInput,{type:\"hour\",value:hour,onChange:function onChange(v){return setHour(v);}})),React.createElement(Box,{alignItems:\"center\",height:INPUT_HEIGHT,justifyContent:\"center\",marginLeft:2,marginRight:2},React.createElement(Heading,{size:\"md\"},\":\")),React.createElement(Box,{marginRight:2,width:60},React.createElement(TimeInput,{type:\"minute\",value:minute,onChange:function onChange(v){return setMinute(v);}})),React.createElement(Box,{marginRight:2,width:60},React.createElement(SelectList,{options:[{label:\"am\",value:\"am\"},{label:\"pm\",value:\"pm\"}],style:{minHeight:INPUT_HEIGHT},value:amPm,onChange:function onChange(result){setAmPm(result);}})),Boolean(mode===\"time\"||mode===\"datetime\")&&(React.createElement(Box,null,React.createElement(TimezonePicker,{showLabel:false,timezone:timezone,onChange:setTimezone}))));};var renderDateTime=function renderDateTime(){return React.createElement(Box,null,React.createElement(Box,{marginBottom:2},renderDateCalendar()),isMobileDevice()?renderMobileTime():renderWebTime());};var sendOnChange=function sendOnChange(){var militaryHour=amPm===\"pm\"&&hour!==12?Number(hour)+12:Number(hour);if(mode===\"date\"){var v=DateTime.fromISO(date).setZone(\"UTC\").set({hour:0,minute:0,second:0,millisecond:0}).toISO();if(!v||!DateTime.fromISO(v).isValid){throw new Error(`Invalid date: ${date}`);}onChange({value:v});}else if(mode===\"time\"){var _v=DateTime.fromISO(date).setZone(timezone).set({hour:militaryHour,minute:minute,second:0,millisecond:0}).setZone(timezone).setZone(\"UTC\").toISO();if(!_v||!DateTime.fromISO(_v).isValid){throw new Error(`Invalid date: ${date}`);}onChange({value:_v});}else if(mode===\"datetime\"){var _v2=DateTime.fromISO(date).setZone(timezone).set({hour:militaryHour,minute:minute,second:0,millisecond:0}).setZone(\"UTC\").toISO();if(!_v2||!DateTime.fromISO(_v2).isValid){throw new Error(`Invalid date: ${date}`);}onChange({value:_v2});}onDismiss();};var sendClear=function sendClear(){onChange({value:\"\"});onDismiss();};var renderDateCalendar=function renderDateCalendar(){var markedDates={};var dt=DateTime.fromISO(date).setZone(\"UTC\");var dateString;if(dt.hour===0&&dt.minute===0&&dt.second===0){dateString=dt.toISO();}else{dateString=dt.setZone().toISO();}if(date){markedDates[DateTime.fromISO(dateString).toFormat(\"yyyy-MM-dd\")]={selected:true,selectedColor:theme.primary};}return React.createElement(Box,{width:\"100%\"},React.createElement(Box,{marginBottom:4,width:\"100%\"},React.createElement(Calendar,{customHeader:CalendarHeader,initialDate:dateString,markedDates:markedDates,onDayPress:function onDayPress(day){setDate(day.dateString);if(mode===\"date\"){onChange({value:day.dateString});onDismiss();}}})));};var renderContent=function renderContent(){if(mode===\"date\"){return renderDateCalendar();}else if(mode===\"time\"&&isMobileDevice()){return renderMobileTime();}else if(mode===\"time\"&&!isMobileDevice()){return renderWebTime();}else{return renderDateTime();}};return React.createElement(Modal,{primaryButtonOnClick:sendOnChange,primaryButtonText:\"Save\",secondaryButtonOnClick:sendClear,secondaryButtonText:\"Clear\",showClose:true,visible:visible,onDismiss:onDismiss},renderContent());};","map":{"version":3,"sources":["../src/DateTimeActionSheet.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { Picker } from \"@react-native-picker/picker\";\nimport { getCalendars } from \"expo-localization\";\nimport range from \"lodash/range\";\nimport { DateTime } from \"luxon\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Platform, TextInput, View } from \"react-native\";\nimport { Calendar } from \"react-native-calendars\";\nimport { Box } from \"./Box\";\nimport { Heading } from \"./Heading\";\nimport { IconButton } from \"./IconButton\";\nimport { isMobileDevice } from \"./MediaQuery\";\nimport { Modal } from \"./Modal\";\nimport { SelectList } from \"./SelectList\";\nimport { ThemeContext } from \"./Theme\";\nimport { TimezonePicker } from \"./TimezonePicker\";\nconst TIME_PICKER_HEIGHT = 104;\nconst INPUT_HEIGHT = 40;\nconst hours = range(1, 13).map((n) => String(n));\n// TODO: support limited picker minutes, e.g. 5 or 15 minute increments.\nconst minutes = range(0, 60).map((n) => String(n).padStart(2, \"0\"));\nconst minutesOptions = [...minutes, \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\nconst TimeInput = ({ type, value, onChange, }) => {\n    const { theme } = useContext(ThemeContext);\n    const defaultText = type === \"minute\" ? String(value).padStart(2, \"0\") : String(value);\n    const [text, setText] = useState(defaultText);\n    const [focused, setFocused] = useState(false);\n    let error = false;\n    if (type === \"hour\") {\n        error = !hours.includes(String(Number(text)));\n    }\n    else if (type === \"minute\") {\n        error = !minutesOptions.includes(String(Number(text)));\n    }\n    // Broken out because types don't think \"outline\" is a valid style.\n    const textInputStyle = {\n        flex: 1,\n        paddingTop: 4,\n        paddingRight: 4,\n        paddingBottom: 4,\n        paddingLeft: 0,\n        height: INPUT_HEIGHT,\n        width: \"100%\",\n        color: theme.darkGray,\n        fontFamily: theme.primaryFont,\n    };\n    return (React.createElement(View, { style: {\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            height: INPUT_HEIGHT,\n            width: \"100%\",\n            // Add padding so the border doesn't mess up layouts\n            paddingHorizontal: focused ? 10 : 14,\n            paddingVertical: focused ? 0 : 4,\n            borderColor: error ? theme.red : theme.blue,\n            borderWidth: focused ? 5 : 1,\n            borderRadius: 5,\n            backgroundColor: theme.white,\n        } },\n        React.createElement(TextInput, { keyboardType: \"number-pad\", returnKeyType: \"done\", style: Object.assign(Object.assign({}, textInputStyle), { outline: Platform.select({ web: \"none\" }) }), textContentType: \"none\", underlineColorAndroid: \"transparent\", value: text, onBlur: () => {\n                setFocused(false);\n            }, onChangeText: (t) => {\n                setText(t);\n                onChange(Number(t));\n            }, onFocus: () => {\n                setFocused(true);\n            } })));\n};\nconst CalendarHeader = ({ addMonth, month, }) => {\n    const displayDate = DateTime.fromJSDate(month[0]).toFormat(\"MMM yyyy\");\n    return (React.createElement(Box, { alignItems: \"center\", direction: \"row\", height: 40, justifyContent: \"between\", width: \"100%\" },\n        React.createElement(IconButton, { accessibilityLabel: \"arrow\", bgColor: \"white\", icon: \"angle-double-left\", iconColor: \"primary\", size: \"md\", onClick: () => {\n                addMonth(-12);\n            } }),\n        React.createElement(IconButton, { accessibilityLabel: \"arrow\", bgColor: \"white\", icon: \"angle-left\", iconColor: \"primary\", size: \"md\", onClick: () => {\n                addMonth(-1);\n            } }),\n        React.createElement(Heading, { size: \"sm\" }, displayDate),\n        React.createElement(IconButton, { accessibilityLabel: \"arrow\", bgColor: \"white\", icon: \"angle-right\", iconColor: \"primary\", size: \"md\", onClick: () => {\n                addMonth(1);\n            } }),\n        React.createElement(IconButton, { accessibilityLabel: \"arrow\", bgColor: \"white\", icon: \"angle-double-right\", iconColor: \"primary\", size: \"md\", onClick: () => {\n                addMonth(12);\n            } })));\n};\n// For mobile, renders all components in an action sheet. For web, renders all components in a\n// modal. For mobile:\n// If mode is \"time\", renders a spinner picker for time picker on both platforms.\n// If mode is \"date\", renders our custom calendar on both platforms.\n// If mode is \"datetime\",renders a spinner picker for time picker and our custom calendar on both\n// platforms.\n// For web, renders a simplistic text box for time picker and a calendar for date picker\n// in a modal In the future, web time picker should be a typeahead dropdown like Google calendar.\nexport const DateTimeActionSheet = ({ \n// actionSheetRef,\nmode, value, onChange, visible, onDismiss, transformValue, }) => {\n    var _a, _b;\n    const { theme } = useContext(ThemeContext);\n    const calendar = getCalendars()[0];\n    const originalTimezone = ((_a = transformValue === null || transformValue === void 0 ? void 0 : transformValue.options) === null || _a === void 0 ? void 0 : _a.timezone) || (calendar === null || calendar === void 0 ? void 0 : calendar.timeZone);\n    const [timezone, setTimezone] = useState(originalTimezone);\n    if (!timezone) {\n        console.error(\"Could not automatically determine timezone and none was provided to DateTimeActionSheet.\");\n    }\n    if (typeof value !== \"string\" && typeof value !== \"undefined\") {\n        console.error(`Datetime only accepts string or undefined value, not ${typeof value}: ${value}`);\n    }\n    // Accept ISO 8601, HH:mm, or hh:mm A formats. We may want only HH:mm or hh:mm A for mode=time\n    const [hour, setHour] = useState(0);\n    const [minute, setMinute] = useState(0);\n    const [amPm, setAmPm] = useState(\"am\");\n    const [date, setDate] = useState(\"\");\n    // If the value changes in the props, update the state for the date and time.\n    useEffect(() => {\n        let datetime;\n        if (value) {\n            datetime = DateTime.fromISO(value).setZone(timezone).set({ millisecond: 0, second: 0 });\n        }\n        else {\n            datetime = DateTime.now().setZone(timezone).set({ millisecond: 0, second: 0 });\n        }\n        if (!datetime.isValid) {\n            throw new Error(`Invalid date/time value ${value}, datetime ${datetime} timezone: ${timezone}`);\n        }\n        let h = datetime.hour % 12;\n        if (h === 0) {\n            h = 12;\n        }\n        setHour(h);\n        setMinute(datetime.minute);\n        setAmPm(datetime.toFormat(\"a\") === \"am\" ? \"am\" : \"pm\");\n        setDate(datetime.toISO());\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [value, transformValue, (_b = transformValue === null || transformValue === void 0 ? void 0 : transformValue.options) === null || _b === void 0 ? void 0 : _b.timezone]);\n    // TODO Support 24 hour time for time picker.\n    const renderMobileTime = () => {\n        return (React.createElement(Box, null,\n            React.createElement(Box, { direction: \"row\", width: \"100%\" },\n                React.createElement(Box, { paddingY: 2, width: \"35%\" },\n                    React.createElement(Picker, { itemStyle: {\n                            height: TIME_PICKER_HEIGHT,\n                        }, selectedValue: hour, style: {\n                            height: TIME_PICKER_HEIGHT,\n                            backgroundColor: \"#FFFFFF\",\n                        }, onValueChange: (itemValue) => setHour(itemValue) }, hours.map((n) => (React.createElement(Picker.Item, { key: String(n), label: String(n), value: String(n) }))))),\n                React.createElement(Box, { paddingY: 2, width: \"35%\" },\n                    React.createElement(Picker, { itemStyle: {\n                            height: TIME_PICKER_HEIGHT,\n                        }, selectedValue: minute, style: {\n                            height: TIME_PICKER_HEIGHT,\n                            backgroundColor: \"#FFFFFF\",\n                        }, onValueChange: (itemValue) => setMinute(itemValue) }, minutes.map((n) => (React.createElement(Picker.Item, { key: String(n), label: String(n), value: String(n) }))))),\n                React.createElement(Box, { paddingY: 2, width: \"30%\" },\n                    React.createElement(Picker, { itemStyle: {\n                            height: TIME_PICKER_HEIGHT,\n                        }, selectedValue: amPm, style: {\n                            height: TIME_PICKER_HEIGHT,\n                            backgroundColor: \"#FFFFFF\",\n                        }, onValueChange: (itemValue) => setAmPm(itemValue) },\n                        React.createElement(Picker.Item, { key: \"am\", label: \"am\", value: \"am\" }),\n                        React.createElement(Picker.Item, { key: \"pm\", label: \"pm\", value: \"pm\" })))),\n            Boolean(mode === \"time\" || mode === \"datetime\") && (React.createElement(Box, { paddingY: 2 },\n                React.createElement(TimezonePicker, { showLabel: false, timezone: timezone, width: \"100%\", onChange: setTimezone })))));\n    };\n    // TODO: Support a typeahead dropdown for time picker, similar to Google Calendar on the web.\n    const renderWebTime = () => {\n        return (React.createElement(Box, { direction: \"row\", justifyContent: \"center\", width: \"100%\" },\n            React.createElement(Box, { width: 60 },\n                React.createElement(TimeInput, { type: \"hour\", value: hour, onChange: (v) => setHour(v) })),\n            React.createElement(Box, { alignItems: \"center\", height: INPUT_HEIGHT, justifyContent: \"center\", marginLeft: 2, marginRight: 2 },\n                React.createElement(Heading, { size: \"md\" }, \":\")),\n            React.createElement(Box, { marginRight: 2, width: 60 },\n                React.createElement(TimeInput, { type: \"minute\", value: minute, onChange: (v) => setMinute(v) })),\n            React.createElement(Box, { marginRight: 2, width: 60 },\n                React.createElement(SelectList, { options: [\n                        { label: \"am\", value: \"am\" },\n                        { label: \"pm\", value: \"pm\" },\n                    ], style: { minHeight: INPUT_HEIGHT }, value: amPm, onChange: (result) => {\n                        setAmPm(result);\n                    } })),\n            Boolean(mode === \"time\" || mode === \"datetime\") && (React.createElement(Box, null,\n                React.createElement(TimezonePicker, { showLabel: false, timezone: timezone, onChange: setTimezone })))));\n    };\n    const renderDateTime = () => {\n        return (React.createElement(Box, null,\n            React.createElement(Box, { marginBottom: 2 }, renderDateCalendar()),\n            isMobileDevice() ? renderMobileTime() : renderWebTime()));\n    };\n    // Note: do not call this if waiting on a state change.\n    const sendOnChange = () => {\n        const militaryHour = amPm === \"pm\" && hour !== 12 ? Number(hour) + 12 : Number(hour);\n        if (mode === \"date\") {\n            const v = DateTime.fromISO(date)\n                .setZone(\"UTC\")\n                .set({ hour: 0, minute: 0, second: 0, millisecond: 0 })\n                .toISO();\n            if (!v || !DateTime.fromISO(v).isValid) {\n                throw new Error(`Invalid date: ${date}`);\n            }\n            onChange({ value: v });\n        }\n        else if (mode === \"time\") {\n            const v = DateTime.fromISO(date)\n                .setZone(timezone)\n                .set({ hour: militaryHour, minute, second: 0, millisecond: 0 })\n                .setZone(timezone)\n                .setZone(\"UTC\")\n                .toISO();\n            if (!v || !DateTime.fromISO(v).isValid) {\n                throw new Error(`Invalid date: ${date}`);\n            }\n            onChange({ value: v });\n        }\n        else if (mode === \"datetime\") {\n            const v = DateTime.fromISO(date)\n                .setZone(timezone)\n                // Take from the original zone\n                // Set the value on the screen\n                .set({ hour: militaryHour, minute, second: 0, millisecond: 0 })\n                // Put that in the  new timezone on the screen\n                // We always send back in UTC\n                .setZone(\"UTC\")\n                .toISO();\n            if (!v || !DateTime.fromISO(v).isValid) {\n                throw new Error(`Invalid date: ${date}`);\n            }\n            onChange({ value: v });\n        }\n        onDismiss();\n    };\n    const sendClear = () => {\n        onChange({\n            value: \"\",\n        });\n        onDismiss();\n    };\n    // Renders our custom calendar component on mobile or web.\n    const renderDateCalendar = () => {\n        const markedDates = {};\n        // Check if the date is T00:00:00.000Z (it should be), otherwise treat it as a date in the\n        // current timezone.\n        const dt = DateTime.fromISO(date).setZone(\"UTC\");\n        let dateString;\n        if (dt.hour === 0 && dt.minute === 0 && dt.second === 0) {\n            dateString = dt.toISO();\n        }\n        else {\n            dateString = dt.setZone().toISO();\n        }\n        if (date) {\n            markedDates[DateTime.fromISO(dateString).toFormat(\"yyyy-MM-dd\")] = {\n                selected: true,\n                selectedColor: theme.primary,\n            };\n        }\n        return (React.createElement(Box, { width: \"100%\" },\n            React.createElement(Box, { marginBottom: 4, width: \"100%\" },\n                React.createElement(Calendar, { customHeader: CalendarHeader, initialDate: dateString, markedDates: markedDates, onDayPress: (day) => {\n                        setDate(day.dateString);\n                        // If mode is just date, we can shortcut and close right away.\n                        // time and datetime need to wait for the primary button.\n                        if (mode === \"date\") {\n                            onChange({ value: day.dateString });\n                            onDismiss();\n                        }\n                    } }))));\n    };\n    const renderContent = () => {\n        if (mode === \"date\") {\n            return renderDateCalendar();\n        }\n        else if (mode === \"time\" && isMobileDevice()) {\n            return renderMobileTime();\n        }\n        else if (mode === \"time\" && !isMobileDevice()) {\n            return renderWebTime();\n        }\n        else {\n            return renderDateTime();\n        }\n    };\n    return (React.createElement(Modal, { primaryButtonOnClick: sendOnChange, primaryButtonText: \"Save\", secondaryButtonOnClick: sendClear, secondaryButtonText: \"Clear\", showClose: true, visible: visible, onDismiss: onDismiss }, renderContent()));\n};\n//# sourceMappingURL=DateTimeActionSheet.js.map"]},"metadata":{},"sourceType":"module"}