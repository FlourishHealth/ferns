{"ast":null,"code":"'use strict';import{setupCallGuard,setupConsole}from'./initializers';import NativeReanimatedModule from'./NativeReanimated';import{shouldBeUseWeb}from'./PlatformChecker';import{makeShareableCloneOnUIRecursive,makeShareableCloneRecursive}from'./shareables';var SHOULD_BE_USE_WEB=shouldBeUseWeb();var _worklet_9284170467561_init_data={code:\"function anonymous(){const{setupCallGuard,setupConsole,initializer}=this.__closure;setupCallGuard();setupConsole();initializer===null||initializer===void 0?void 0:initializer();}\"};export function createWorkletRuntime(name,initializer){return NativeReanimatedModule.createWorkletRuntime(name,makeShareableCloneRecursive(function(){var anonymous=function anonymous(){setupCallGuard();setupConsole();initializer===null||initializer===void 0?void 0:initializer();};anonymous.__closure={setupCallGuard:setupCallGuard,setupConsole:setupConsole,initializer:initializer};anonymous.__workletHash=9284170467561;anonymous.__initData=_worklet_9284170467561_init_data;return anonymous;}()));}var _worklet_7447336993985_init_data={code:\"function runOnRuntime(workletRuntime,worklet){const{__DEV__,SHOULD_BE_USE_WEB,makeShareableCloneOnUIRecursive,NativeReanimatedModule,makeShareableCloneRecursive}=this.__closure;if(__DEV__&&!SHOULD_BE_USE_WEB&&worklet.__workletHash===undefined){throw new Error('[Reanimated] The function passed to `runOnRuntime` is not a worklet.'+(_WORKLET?' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.':''));}if(_WORKLET){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _scheduleOnRuntime(workletRuntime,makeShareableCloneOnUIRecursive(function(){'worklet';worklet(...args);}));};}return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return NativeReanimatedModule.scheduleOnRuntime(workletRuntime,makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));};}\"};var _worklet_6225829938965_init_data={code:\"function anonymous(){const{worklet,args}=this.__closure;worklet(...args);}\"};var _worklet_6225829938965_init_data2={code:\"function anonymous(){const{worklet,args}=this.__closure;worklet(...args);}\"};export var runOnRuntime=function(){var runOnRuntime=function runOnRuntime(workletRuntime,worklet){if(false&&!SHOULD_BE_USE_WEB&&worklet.__workletHash===undefined){throw new Error('[Reanimated] The function passed to `runOnRuntime` is not a worklet.'+(_WORKLET?' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.':''));}if(_WORKLET){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _scheduleOnRuntime(workletRuntime,makeShareableCloneOnUIRecursive(function(){var anonymous=function anonymous(){worklet.apply(void 0,args);};anonymous.__closure={worklet:worklet,args:args};anonymous.__workletHash=6225829938965;anonymous.__initData=_worklet_6225829938965_init_data;return anonymous;}()));};}return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return NativeReanimatedModule.scheduleOnRuntime(workletRuntime,makeShareableCloneRecursive(function(){var anonymous=function anonymous(){worklet.apply(void 0,args);};anonymous.__closure={worklet:worklet,args:args};anonymous.__workletHash=6225829938965;anonymous.__initData=_worklet_6225829938965_init_data2;return anonymous;}()));};};runOnRuntime.__closure={__DEV__:false,SHOULD_BE_USE_WEB:SHOULD_BE_USE_WEB,makeShareableCloneOnUIRecursive:makeShareableCloneOnUIRecursive,NativeReanimatedModule:NativeReanimatedModule,makeShareableCloneRecursive:makeShareableCloneRecursive};runOnRuntime.__workletHash=7447336993985;runOnRuntime.__initData=_worklet_7447336993985_init_data;return runOnRuntime;}();","map":{"version":3,"sources":["runtimes.ts"],"names":["setupCallGuard","setupConsole","NativeReanimatedModule","shouldBeUseWeb","makeShareableCloneOnUIRecursive","makeShareableCloneRecursive","SHOULD_BE_USE_WEB","createWorkletRuntime","name","initializer","runOnRuntime","workletRuntime","worklet","__DEV__","__workletHash","undefined","Error","_WORKLET","args","_scheduleOnRuntime","scheduleOnRuntime"],"mappings":"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","sourcesContent":["'use strict';\nimport type { __ComplexWorkletFunction, WorkletFunction } from './commonTypes';\nimport { setupCallGuard, setupConsole } from './initializers';\nimport NativeReanimatedModule from './NativeReanimated';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\n\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nexport type WorkletRuntime = {\n  __hostObjectWorkletRuntime: never;\n  readonly name: string;\n};\n\n/**\n * Lets you create a new JS runtime which can be used to run worklets possibly on different threads than JS or UI thread.\n *\n * @param name - A name used to identify the runtime which will appear in devices list in Chrome DevTools.\n * @param initializer - An optional worklet that will be run synchronously on the same thread immediately after the runtime is created.\n * @returns WorkletRuntime which is a jsi::HostObject\\<reanimated::WorkletRuntime\\> - {@link WorkletRuntime}\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/createWorkletRuntime\n */\nexport function createWorkletRuntime(\n  name: string,\n  initializer?: __ComplexWorkletFunction<[], void>\n) {\n  return NativeReanimatedModule.createWorkletRuntime(\n    name,\n    makeShareableCloneRecursive(() => {\n      'worklet';\n      setupCallGuard();\n      setupConsole();\n      initializer?.();\n    })\n  );\n}\n\n// @ts-expect-error Check `runOnUI` overload.\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: (...args: Args) => ReturnValue\n): WorkletFunction<Args, ReturnValue>;\n/**\n * Schedule a worklet to execute on the background queue.\n */\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && worklet.__workletHash === undefined) {\n    throw new Error(\n      '[Reanimated] The function passed to `runOnRuntime` is not a worklet.' +\n        (_WORKLET\n          ? ' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.'\n          : '')\n    );\n  }\n  if (_WORKLET) {\n    return (...args) =>\n      _scheduleOnRuntime(\n        workletRuntime,\n        makeShareableCloneOnUIRecursive(() => {\n          'worklet';\n          worklet(...args);\n        })\n      );\n  }\n  return (...args) =>\n    NativeReanimatedModule.scheduleOnRuntime(\n      workletRuntime,\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        worklet(...args);\n      })\n    );\n}\n"]},"metadata":{},"sourceType":"module"}