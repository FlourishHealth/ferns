{"ast":null,"code":"'use strict';import{setupCallGuard,setupConsole}from'./initializers';import NativeReanimatedModule from'./NativeReanimated';import{shouldBeUseWeb}from'./PlatformChecker';import{makeShareableCloneOnUIRecursive,makeShareableCloneRecursive}from'./shareables';var SHOULD_BE_USE_WEB=shouldBeUseWeb();var _worklet_9284170467561_init_data={code:\"function anonymous(){const{setupCallGuard,setupConsole,initializer}=this.__closure;setupCallGuard();setupConsole();initializer===null||initializer===void 0?void 0:initializer();}\"};export function createWorkletRuntime(name,initializer){return NativeReanimatedModule.createWorkletRuntime(name,makeShareableCloneRecursive(function(){var anonymous=function anonymous(){setupCallGuard();setupConsole();initializer===null||initializer===void 0?void 0:initializer();};anonymous.__closure={setupCallGuard:setupCallGuard,setupConsole:setupConsole,initializer:initializer};anonymous.__workletHash=9284170467561;anonymous.__initData=_worklet_9284170467561_init_data;return anonymous;}()));}var _worklet_7447336993985_init_data={code:\"function runOnRuntime(workletRuntime,worklet){const{__DEV__,SHOULD_BE_USE_WEB,makeShareableCloneOnUIRecursive,NativeReanimatedModule,makeShareableCloneRecursive}=this.__closure;if(__DEV__&&!SHOULD_BE_USE_WEB&&worklet.__workletHash===undefined){throw new Error('[Reanimated] The function passed to `runOnRuntime` is not a worklet.'+(_WORKLET?' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.':''));}if(_WORKLET){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _scheduleOnRuntime(workletRuntime,makeShareableCloneOnUIRecursive(function(){'worklet';worklet(...args);}));};}return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return NativeReanimatedModule.scheduleOnRuntime(workletRuntime,makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));};}\"};var _worklet_6225829938965_init_data={code:\"function anonymous(){const{worklet,args}=this.__closure;worklet(...args);}\"};var _worklet_6225829938965_init_data2={code:\"function anonymous(){const{worklet,args}=this.__closure;worklet(...args);}\"};export var runOnRuntime=function(){var runOnRuntime=function runOnRuntime(workletRuntime,worklet){if(false&&!SHOULD_BE_USE_WEB&&worklet.__workletHash===undefined){throw new Error('[Reanimated] The function passed to `runOnRuntime` is not a worklet.'+(_WORKLET?' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.':''));}if(_WORKLET){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _scheduleOnRuntime(workletRuntime,makeShareableCloneOnUIRecursive(function(){var anonymous=function anonymous(){worklet.apply(void 0,args);};anonymous.__closure={worklet:worklet,args:args};anonymous.__workletHash=6225829938965;anonymous.__initData=_worklet_6225829938965_init_data;return anonymous;}()));};}return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return NativeReanimatedModule.scheduleOnRuntime(workletRuntime,makeShareableCloneRecursive(function(){var anonymous=function anonymous(){worklet.apply(void 0,args);};anonymous.__closure={worklet:worklet,args:args};anonymous.__workletHash=6225829938965;anonymous.__initData=_worklet_6225829938965_init_data2;return anonymous;}()));};};runOnRuntime.__closure={__DEV__:false,SHOULD_BE_USE_WEB:SHOULD_BE_USE_WEB,makeShareableCloneOnUIRecursive:makeShareableCloneOnUIRecursive,NativeReanimatedModule:NativeReanimatedModule,makeShareableCloneRecursive:makeShareableCloneRecursive};runOnRuntime.__workletHash=7447336993985;runOnRuntime.__initData=_worklet_7447336993985_init_data;return runOnRuntime;}();","map":{"version":3,"names":["setupCallGuard","setupConsole","NativeReanimatedModule","shouldBeUseWeb","makeShareableCloneOnUIRecursive","makeShareableCloneRecursive","SHOULD_BE_USE_WEB","_worklet_9284170467561_init_data","code","createWorkletRuntime","name","initializer","anonymous","__closure","__workletHash","__initData","_worklet_7447336993985_init_data","_worklet_6225829938965_init_data","_worklet_6225829938965_init_data2","runOnRuntime","workletRuntime","worklet","undefined","Error","_WORKLET","_len","arguments","length","args","Array","_key","_scheduleOnRuntime","apply","_len2","_key2","scheduleOnRuntime","__DEV__"],"sources":["/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/runtimes.ts"],"sourcesContent":["'use strict';\nimport type { __ComplexWorkletFunction, WorkletFunction } from './commonTypes';\nimport { setupCallGuard, setupConsole } from './initializers';\nimport NativeReanimatedModule from './NativeReanimated';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\n\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nexport type WorkletRuntime = {\n  __hostObjectWorkletRuntime: never;\n  readonly name: string;\n};\n\n/**\n * Lets you create a new JS runtime which can be used to run worklets possibly on different threads than JS or UI thread.\n *\n * @param name - A name used to identify the runtime which will appear in devices list in Chrome DevTools.\n * @param initializer - An optional worklet that will be run synchronously on the same thread immediately after the runtime is created.\n * @returns WorkletRuntime which is a jsi::HostObject\\<reanimated::WorkletRuntime\\> - {@link WorkletRuntime}\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/createWorkletRuntime\n */\nexport function createWorkletRuntime(\n  name: string,\n  initializer?: __ComplexWorkletFunction<[], void>\n) {\n  return NativeReanimatedModule.createWorkletRuntime(\n    name,\n    makeShareableCloneRecursive(() => {\n      'worklet';\n      setupCallGuard();\n      setupConsole();\n      initializer?.();\n    })\n  );\n}\n\n// @ts-expect-error Check `runOnUI` overload.\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: (...args: Args) => ReturnValue\n): WorkletFunction<Args, ReturnValue>;\n/**\n * Schedule a worklet to execute on the background queue.\n */\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && worklet.__workletHash === undefined) {\n    throw new Error(\n      '[Reanimated] The function passed to `runOnRuntime` is not a worklet.' +\n        (_WORKLET\n          ? ' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.'\n          : '')\n    );\n  }\n  if (_WORKLET) {\n    return (...args) =>\n      _scheduleOnRuntime(\n        workletRuntime,\n        makeShareableCloneOnUIRecursive(() => {\n          'worklet';\n          worklet(...args);\n        })\n      );\n  }\n  return (...args) =>\n    NativeReanimatedModule.scheduleOnRuntime(\n      workletRuntime,\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        worklet(...args);\n      })\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}