{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useCallback,useEffect,useState}from\"react\";import{Unifier}from\"./Unifier\";export var useStoredState=function useStoredState(key,initialValue){var _useState=useState(initialValue),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var fetchData=useCallback(_asyncToGenerator(function*(){try{return yield Unifier.storage.getItem(key);}catch(error){console.error(\"Error reading data from AsyncStorage:\",error);return initialValue;}}),[initialValue,key]);useEffect(function(){void fetchData().then(function(value){setState(value);});},[]);var setAsyncStorageState=function(){var _ref2=_asyncToGenerator(function*(newValue){try{yield Unifier.storage.setItem(key,newValue);setState(newValue);}catch(error){console.error(\"Error writing data to AsyncStorage:\",error);}});return function setAsyncStorageState(_x){return _ref2.apply(this,arguments);};}();return[state,setAsyncStorageState];};","map":{"version":3,"sources":["../src/useStoredState.ts"],"names":[],"mappings":"wIAAA,OAAQ,WAAW,CAAE,SAAS,CAAE,QAAQ,KAAO,OAAO,CAEtD,OAAQ,OAAO,KAAO,WAAW,CAEjC,MAAO,IAAM,CAAA,cAAc,CAAG,QAAjB,CAAA,cAAc,CACzB,GAAW,CACX,YAAgB,CAC4C,CAC5D,IAAA,SAAA,CAA0B,QAAQ,CAAgB,YAAY,CAAC,CAAA,UAAA,CAAA,cAAA,CAAA,SAAA,IAAxD,KAAK,CAAA,UAAA,IAAE,QAAQ,CAAA,UAAA,IAGtB,GAAM,CAAA,SAAS,CAAG,WAAW,CAAA,iBAAA,CAAC,WAAmC,CAC/D,GAAI,CACF,YAAa,CAAA,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAC3C,CAAE,MAAO,KAAK,CAAE,CACd,OAAO,CAAC,KAAK,CAAC,uCAAuC,CAAE,KAAK,CAAC,CAC7D,MAAO,CAAA,YAAY,CACrB,CACF,CAAC,EAAE,CAAC,YAAY,CAAE,GAAG,CAAC,CAAC,CAGvB,SAAS,CAAC,UAAK,CACb,IAAK,CAAA,SAAS,CAAA,CAAE,CAAC,IAAI,CAAC,SAAC,KAAK,CAAI,CAC9B,QAAQ,CAAC,KAAK,CAAC,CACjB,CAAC,CAAC,CAEJ,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAA,oBAAoB,gBAAA,KAAA,CAAA,iBAAA,CAAG,UAAO,QAAuB,CAAmB,CAC5E,GAAI,CACF,KAAM,CAAA,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAE,QAAQ,CAAC,CAC5C,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAE,MAAO,KAAK,CAAE,CACd,OAAO,CAAC,KAAK,CAAC,qCAAqC,CAAE,KAAK,CAAC,CAC7D,CACF,CAAC,iBAPK,CAAA,oBAAoB,CAAA,EAAA,SAAA,KAAA,CAAA,KAAA,MAAA,SAAA,OAOzB,CAED,MAAO,CAAC,KAAK,CAAE,oBAAoB,CAAC,CACtC,CAAC","sourceRoot":"","sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport { Unifier } from \"./Unifier\";\nexport const useStoredState = (key, initialValue) => {\n    const [state, setState] = useState(initialValue);\n    // Function to fetch data from AsyncStorage\n    const fetchData = useCallback(async () => {\n        try {\n            return await Unifier.storage.getItem(key);\n        }\n        catch (error) {\n            console.error(\"Error reading data from AsyncStorage:\", error);\n            return initialValue;\n        }\n    }, [initialValue, key]);\n    // Fetch data when the component mounts\n    useEffect(() => {\n        void fetchData().then((value) => {\n            setState(value);\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const setAsyncStorageState = async (newValue) => {\n        try {\n            await Unifier.storage.setItem(key, newValue);\n            setState(newValue);\n        }\n        catch (error) {\n            console.error(\"Error writing data to AsyncStorage:\", error);\n        }\n    };\n    return [state, setAsyncStorageState];\n};\n//# sourceMappingURL=useStoredState.js.map"]},"metadata":{},"sourceType":"module"}