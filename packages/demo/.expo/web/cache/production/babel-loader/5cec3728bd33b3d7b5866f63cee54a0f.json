{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";var _excluded=[\"format\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{UnavailabilityError}from'expo-modules-core';import ExpoImageManipulator from'./ExpoImageManipulator';import{SaveFormat}from'./ImageManipulator.types';import{validateArguments}from'./validators';export function manipulateAsync(_x){return _manipulateAsync.apply(this,arguments);}function _manipulateAsync(){_manipulateAsync=_asyncToGenerator(function*(uri){var actions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var saveOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!ExpoImageManipulator.manipulateAsync){throw new UnavailabilityError('ImageManipulator','manipulateAsync');}validateArguments(uri,actions,saveOptions);var _saveOptions$format=saveOptions.format,format=_saveOptions$format===void 0?SaveFormat.JPEG:_saveOptions$format,rest=_objectWithoutProperties(saveOptions,_excluded);return yield ExpoImageManipulator.manipulateAsync(uri,actions,_objectSpread({format:format},rest));});return _manipulateAsync.apply(this,arguments);}export*from'./ImageManipulator.types';","map":{"version":3,"sources":["../src/ImageManipulator.ts"],"names":[],"mappings":"o2BAAA,OAAS,mBAAmB,KAAQ,mBAAmB,CAEvD,MAAO,CAAA,oBAAoB,KAAM,wBAAwB,CACzD,OAA8B,UAAU,KAAqB,0BAA0B,CACvF,OAAS,iBAAiB,KAAQ,cAAc,CAchD,eAAsB,CAAA,eAAe,CAAA,EAAA,SAAA,gBAAA,CAAA,KAAA,MAAA,SAAA,GAapC,SAAA,iBAAA,EAAA,gBAAA,CAAA,iBAAA,CAbM,UACL,GAAW,CAEkB,IAD7B,CAAA,OAAA,CAAA,SAAA,CAAA,MAAA,IAAA,SAAA,MAAA,SAAA,CAAA,SAAA,IAAoB,EAAE,IACtB,CAAA,WAAA,CAAA,SAAA,CAAA,MAAA,IAAA,SAAA,MAAA,SAAA,CAAA,SAAA,IAA2B,CAAA,CAAE,CAE7B,GAAI,CAAC,oBAAoB,CAAC,eAAe,CAAE,CACzC,KAAM,IAAI,CAAA,mBAAmB,CAAC,kBAAkB,CAAE,iBAAiB,CAAC,CACrE,CAED,iBAAiB,CAAC,GAAG,CAAE,OAAO,CAAE,WAAW,CAAC,CAE5C,IAAA,mBAAA,CAA8C,WAAW,CAAjD,MAAM,CAAN,MAAM,CAAA,mBAAA,UAAG,UAAU,CAAC,IAAI,CAAA,mBAAA,CAAK,IAAI,CAAA,wBAAA,CAAK,WAAW,CAAA,SAAA,EACzD,YAAa,CAAA,oBAAoB,CAAC,eAAe,CAAC,GAAG,CAAE,OAAO,CAAA,aAAA,EAAI,MAAM,CAAN,MAAM,EAAK,IAAI,CAAE,CAAC,CACtF,CAAC,SAAA,gBAAA,CAAA,KAAA,MAAA,SAAA,GAED,WAAc,0BAA0B","sourcesContent":["import { UnavailabilityError } from 'expo-modules-core';\n\nimport ExpoImageManipulator from './ExpoImageManipulator';\nimport { Action, ImageResult, SaveFormat, SaveOptions } from './ImageManipulator.types';\nimport { validateArguments } from './validators';\n\n// @needsAudit\n/**\n * Manipulate the image provided via `uri`. Available modifications are rotating, flipping (mirroring),\n * resizing and cropping. Each invocation results in a new file. With one invocation you can provide\n * a set of actions to perform over the image. Overwriting the source file would not have an effect\n * in displaying the result as images are cached.\n * @param uri URI of the file to manipulate. Should be on the local file system or a base64 data URI.\n * @param actions An array of objects representing manipulation options. Each object should have\n * __only one__ of the keys that corresponds to specific transformation.\n * @param saveOptions A map defining how modified image should be saved.\n * @return Promise which fulfils with [`ImageResult`](#imageresult) object.\n */\nexport async function manipulateAsync(\n  uri: string,\n  actions: Action[] = [],\n  saveOptions: SaveOptions = {}\n): Promise<ImageResult> {\n  if (!ExpoImageManipulator.manipulateAsync) {\n    throw new UnavailabilityError('ImageManipulator', 'manipulateAsync');\n  }\n\n  validateArguments(uri, actions, saveOptions);\n\n  const { format = SaveFormat.JPEG, ...rest } = saveOptions;\n  return await ExpoImageManipulator.manipulateAsync(uri, actions, { format, ...rest });\n}\n\nexport * from './ImageManipulator.types';\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}