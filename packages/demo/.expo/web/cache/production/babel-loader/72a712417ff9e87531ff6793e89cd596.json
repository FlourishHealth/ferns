{"ast":null,"code":"import React from\"react\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import{useToast as useRNToast}from\"react-native-toast-notifications\";import{Box}from\"./Box\";import{Button}from\"./Button\";import{Icon}from\"./Icon\";import{IconButton}from\"./IconButton\";import{Text}from\"./Text\";import{isAPIError,printAPIError}from\"./Utilities\";var TOAST_DURATION_MS=3*1000;export function useToast(){var toast=useRNToast();var show=function show(text,options){return toast.show(text,{data:options,duration:(options===null||options===void 0?void 0:options.persistent)?0:TOAST_DURATION_MS});};return{show:show,warn:function warn(text,options){console.warn(text);return show(text,Object.assign(Object.assign({},options),{variant:\"warning\"}));},error:function error(text,options){console.error(text);return show(text,Object.assign(Object.assign({},options),{variant:\"error\"}));},hide:function hide(id){return toast.hide(id);},catch:function _catch(error,message,options){var _a,_b;var exceptionMsg;if(isAPIError(error)){exceptionMsg=`${message}: ${printAPIError(error)}`;console.error(exceptionMsg);}else{exceptionMsg=(_b=(_a=error===null||error===void 0?void 0:error.message)!==null&&_a!==void 0?_a:error===null||error===void 0?void 0:error.error)!==null&&_b!==void 0?_b:String(error);console.error(`${message}: ${exceptionMsg}`);}show(exceptionMsg,Object.assign(Object.assign({},options),{variant:\"error\"}));}};}export var Toast=function Toast(_ref){var message=_ref.message,data=_ref.data;var width=Math.min(Dimensions.get(\"window\").width-16*4,712);var _ref2=data!==null&&data!==void 0?data:{},variant=_ref2.variant,buttonText=_ref2.buttonText,buttonOnClick=_ref2.buttonOnClick,persistent=_ref2.persistent,onDismiss=_ref2.onDismiss;var color=\"darkGray\";if(variant===\"warning\"||variant===\"error\"){color=variant;}return React.createElement(Box,{alignItems:\"center\",color:color,direction:\"row\",flex:\"shrink\",marginBottom:4,marginLeft:8,marginRight:8,maxWidth:width,padding:2,paddingX:4,paddingY:3,rounding:4},Boolean(variant===\"error\")&&(React.createElement(Box,{marginRight:4},React.createElement(Icon,{color:\"white\",name:\"exclamation-circle\",size:\"lg\"}))),Boolean(variant===\"warning\")&&(React.createElement(Box,{marginRight:4},React.createElement(Icon,{color:\"white\",name:\"exclamation-triangle\",size:\"lg\"}))),React.createElement(Box,{alignItems:\"center\",direction:\"column\",flex:\"shrink\",justifyContent:\"center\"},React.createElement(Text,{color:\"white\",size:\"lg\",weight:\"bold\"},message)),Boolean(buttonOnClick&&buttonText)&&(React.createElement(Box,{alignItems:\"center\",justifyContent:\"center\",marginLeft:4},React.createElement(Button,{color:\"lightGray\",shape:\"pill\",text:buttonText,onClick:buttonOnClick}))),Boolean(onDismiss&&persistent)&&(React.createElement(Box,{alignItems:\"center\",justifyContent:\"center\",marginLeft:4},React.createElement(IconButton,{accessibilityLabel:\"Dismiss notification\",icon:\"times\",iconColor:\"white\",onClick:onDismiss}))));};","map":{"version":3,"sources":["../src/Toast.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React from \"react\";\nimport { Dimensions } from \"react-native\";\nimport { useToast as useRNToast } from \"react-native-toast-notifications\";\nimport { Box } from \"./Box\";\nimport { Button } from \"./Button\";\nimport { Icon } from \"./Icon\";\nimport { IconButton } from \"./IconButton\";\nimport { Text } from \"./Text\";\nimport { isAPIError, printAPIError } from \"./Utilities\";\nconst TOAST_DURATION_MS = 3 * 1000;\nexport function useToast() {\n    const toast = useRNToast();\n    const show = (text, options) => {\n        return toast.show(text, {\n            data: options,\n            // a duration of 0 keeps the toast up infinitely until hidden\n            duration: (options === null || options === void 0 ? void 0 : options.persistent) ? 0 : TOAST_DURATION_MS,\n        });\n    };\n    return {\n        show,\n        warn: (text, options) => {\n            console.warn(text);\n            return show(text, Object.assign(Object.assign({}, options), { variant: \"warning\" }));\n        },\n        error: (text, options) => {\n            console.error(text);\n            return show(text, Object.assign(Object.assign({}, options), { variant: \"error\" }));\n        },\n        hide: (id) => toast.hide(id),\n        catch: (error, message, options) => {\n            var _a, _b;\n            let exceptionMsg;\n            if (isAPIError(error)) {\n                // Get the error without details.\n                exceptionMsg = `${message}: ${printAPIError(error)}`;\n                console.error(exceptionMsg);\n            }\n            else {\n                exceptionMsg = (_b = (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : error === null || error === void 0 ? void 0 : error.error) !== null && _b !== void 0 ? _b : String(error);\n                console.error(`${message}: ${exceptionMsg}`);\n            }\n            show(exceptionMsg, Object.assign(Object.assign({}, options), { variant: \"error\" }));\n        },\n    };\n}\nexport const Toast = ({ message, data }) => {\n    // margin 8 on either side, times the standard 4px we multiply by.\n    const width = Math.min(Dimensions.get(\"window\").width - 16 * 4, 712);\n    const { variant, buttonText, buttonOnClick, persistent, onDismiss } = data !== null && data !== void 0 ? data : {};\n    let color = \"darkGray\";\n    if (variant === \"warning\" || variant === \"error\") {\n        color = variant;\n    }\n    return (React.createElement(Box, { alignItems: \"center\", color: color, direction: \"row\", flex: \"shrink\", marginBottom: 4, marginLeft: 8, marginRight: 8, maxWidth: width, padding: 2, paddingX: 4, paddingY: 3, rounding: 4 },\n        Boolean(variant === \"error\") && (React.createElement(Box, { marginRight: 4 },\n            React.createElement(Icon, { color: \"white\", name: \"exclamation-circle\", size: \"lg\" }))),\n        Boolean(variant === \"warning\") && (React.createElement(Box, { marginRight: 4 },\n            React.createElement(Icon, { color: \"white\", name: \"exclamation-triangle\", size: \"lg\" }))),\n        React.createElement(Box, { alignItems: \"center\", direction: \"column\", flex: \"shrink\", justifyContent: \"center\" },\n            React.createElement(Text, { color: \"white\", size: \"lg\", weight: \"bold\" }, message)),\n        Boolean(buttonOnClick && buttonText) && (React.createElement(Box, { alignItems: \"center\", justifyContent: \"center\", marginLeft: 4 },\n            React.createElement(Button, { color: \"lightGray\", shape: \"pill\", text: buttonText, onClick: buttonOnClick }))),\n        Boolean(onDismiss && persistent) && (React.createElement(Box, { alignItems: \"center\", justifyContent: \"center\", marginLeft: 4 },\n            React.createElement(IconButton, { accessibilityLabel: \"Dismiss notification\", icon: \"times\", iconColor: \"white\", onClick: onDismiss })))));\n};\n//# sourceMappingURL=Toast.js.map"]},"metadata":{},"sourceType":"module"}