{"ast":null,"code":"\"use strict\";var _slicedToArray=require(\"@babel/runtime/helpers/slicedToArray\");var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k];}});}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,\"default\",{enumerable:true,value:v});}:function(o,v){o[\"default\"]=v;});var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(k!==\"default\"&&Object.hasOwnProperty.call(mod,k))__createBinding(result,mod,k);__setModuleDefault(result,mod);return result;};var __exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)if(p!==\"default\"&&!exports.hasOwnProperty(p))__createBinding(exports,m,p);};var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});exports.Modalize=void 0;var React=__importStar(require(\"react\"));var react_native_1=require(\"react-native-web/dist/index\");var react_native_gesture_handler_1=require(\"react-native-gesture-handler\");var use_dimensions_1=require(\"./utils/use-dimensions\");var get_spring_config_1=require(\"./utils/get-spring-config\");var devices_1=require(\"./utils/devices\");var libraries_1=require(\"./utils/libraries\");var invariant_1=require(\"./utils/invariant\");var compose_refs_1=require(\"./utils/compose-refs\");var styles_1=__importDefault(require(\"./styles\"));var AnimatedKeyboardAvoidingView=react_native_1.Animated.createAnimatedComponent(react_native_1.KeyboardAvoidingView);var SCROLL_THRESHOLD=-4;var USE_NATIVE_DRIVER=true;var ACTIVATED=20;var PAN_DURATION=150;var ModalizeBase=function ModalizeBase(_ref,ref){var contentRef=_ref.contentRef,children=_ref.children,scrollViewProps=_ref.scrollViewProps,flatListProps=_ref.flatListProps,sectionListProps=_ref.sectionListProps,customRenderer=_ref.customRenderer,rootStyle=_ref.rootStyle,modalStyle=_ref.modalStyle,handleStyle=_ref.handleStyle,overlayStyle=_ref.overlayStyle,childrenStyle=_ref.childrenStyle,snapPoint=_ref.snapPoint,modalHeight=_ref.modalHeight,_ref$modalTopOffset=_ref.modalTopOffset,modalTopOffset=_ref$modalTopOffset===void 0?react_native_1.Platform.select({ios:0,android:react_native_1.StatusBar.currentHeight||0,default:0}):_ref$modalTopOffset,alwaysOpen=_ref.alwaysOpen,_ref$adjustToContentH=_ref.adjustToContentHeight,adjustToContentHeight=_ref$adjustToContentH===void 0?false:_ref$adjustToContentH,_ref$handlePosition=_ref.handlePosition,handlePosition=_ref$handlePosition===void 0?'outside':_ref$handlePosition,_ref$disableScrollIfP=_ref.disableScrollIfPossible,disableScrollIfPossible=_ref$disableScrollIfP===void 0?true:_ref$disableScrollIfP,_ref$avoidKeyboardLik=_ref.avoidKeyboardLikeIOS,avoidKeyboardLikeIOS=_ref$avoidKeyboardLik===void 0?react_native_1.Platform.select({ios:true,android:false,default:true}):_ref$avoidKeyboardLik,_ref$keyboardAvoiding=_ref.keyboardAvoidingBehavior,keyboardAvoidingBehavior=_ref$keyboardAvoiding===void 0?'padding':_ref$keyboardAvoiding,keyboardAvoidingOffset=_ref.keyboardAvoidingOffset,_ref$panGestureEnable=_ref.panGestureEnabled,panGestureEnabled=_ref$panGestureEnable===void 0?true:_ref$panGestureEnable,_ref$panGestureCompon=_ref.panGestureComponentEnabled,panGestureComponentEnabled=_ref$panGestureCompon===void 0?false:_ref$panGestureCompon,_ref$tapGestureEnable=_ref.tapGestureEnabled,tapGestureEnabled=_ref$tapGestureEnable===void 0?true:_ref$tapGestureEnable,_ref$closeOnOverlayTa=_ref.closeOnOverlayTap,closeOnOverlayTap=_ref$closeOnOverlayTa===void 0?true:_ref$closeOnOverlayTa,_ref$closeSnapPointSt=_ref.closeSnapPointStraightEnabled,closeSnapPointStraightEnabled=_ref$closeSnapPointSt===void 0?true:_ref$closeSnapPointSt,_ref$openAnimationCon=_ref.openAnimationConfig,openAnimationConfig=_ref$openAnimationCon===void 0?{timing:{duration:240,easing:react_native_1.Easing.ease},spring:{speed:14,bounciness:4}}:_ref$openAnimationCon,_ref$closeAnimationCo=_ref.closeAnimationConfig,closeAnimationConfig=_ref$closeAnimationCo===void 0?{timing:{duration:240,easing:react_native_1.Easing.ease}}:_ref$closeAnimationCo,_ref$dragToss=_ref.dragToss,dragToss=_ref$dragToss===void 0?0.18:_ref$dragToss,_ref$threshold=_ref.threshold,threshold=_ref$threshold===void 0?120:_ref$threshold,_ref$velocity=_ref.velocity,velocity=_ref$velocity===void 0?2800:_ref$velocity,panGestureAnimatedValue=_ref.panGestureAnimatedValue,_ref$useNativeDriver=_ref.useNativeDriver,useNativeDriver=_ref$useNativeDriver===void 0?true:_ref$useNativeDriver,_ref$withReactModal=_ref.withReactModal,withReactModal=_ref$withReactModal===void 0?false:_ref$withReactModal,reactModalProps=_ref.reactModalProps,_ref$withHandle=_ref.withHandle,withHandle=_ref$withHandle===void 0?true:_ref$withHandle,_ref$withOverlay=_ref.withOverlay,withOverlay=_ref$withOverlay===void 0?true:_ref$withOverlay,HeaderComponent=_ref.HeaderComponent,FooterComponent=_ref.FooterComponent,FloatingComponent=_ref.FloatingComponent,onOpen=_ref.onOpen,onOpened=_ref.onOpened,onClose=_ref.onClose,onClosed=_ref.onClosed,onBackButtonPress=_ref.onBackButtonPress,onPositionChange=_ref.onPositionChange,onOverlayPress=_ref.onOverlayPress,onLayout=_ref.onLayout;var _use_dimensions_1$use=use_dimensions_1.useDimensions(),screenHeight=_use_dimensions_1$use.height;var isHandleOutside=handlePosition==='outside';var handleHeight=withHandle?20:isHandleOutside?35:20;var fullHeight=screenHeight-modalTopOffset;var computedHeight=fullHeight-handleHeight-(devices_1.isIphoneX?34:0);var endHeight=modalHeight||computedHeight;var adjustValue=adjustToContentHeight?undefined:endHeight;var snaps=snapPoint?[0,endHeight-snapPoint,endHeight]:[0,endHeight];var _React$useState=React.useState(adjustValue),_React$useState2=_slicedToArray(_React$useState,2),modalHeightValue=_React$useState2[0],setModalHeightValue=_React$useState2[1];var _React$useState3=React.useState(snapPoint?endHeight-snapPoint:0),_React$useState4=_slicedToArray(_React$useState3,2),lastSnap=_React$useState4[0],setLastSnap=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isVisible=_React$useState6[0],setIsVisible=_React$useState6[1];var _React$useState7=React.useState(true),_React$useState8=_slicedToArray(_React$useState7,2),showContent=_React$useState8[0],setShowContent=_React$useState8[1];var _React$useState9=React.useState(true),_React$useState10=_slicedToArray(_React$useState9,2),enableBounces=_React$useState10[0],setEnableBounces=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),keyboardToggle=_React$useState12[0],setKeyboardToggle=_React$useState12[1];var _React$useState13=React.useState(0),_React$useState14=_slicedToArray(_React$useState13,2),keyboardHeight=_React$useState14[0],setKeyboardHeight=_React$useState14[1];var _React$useState15=React.useState(alwaysOpen||snapPoint?true:undefined),_React$useState16=_slicedToArray(_React$useState15,2),disableScroll=_React$useState16[0],setDisableScroll=_React$useState16[1];var _React$useState17=React.useState(0),_React$useState18=_slicedToArray(_React$useState17,2),beginScrollYValue=_React$useState18[0],setBeginScrollYValue=_React$useState18[1];var _React$useState19=React.useState('initial'),_React$useState20=_slicedToArray(_React$useState19,2),modalPosition=_React$useState20[0],setModalPosition=_React$useState20[1];var _React$useState21=React.useState(false),_React$useState22=_slicedToArray(_React$useState21,2),cancelClose=_React$useState22[0],setCancelClose=_React$useState22[1];var _React$useState23=React.useState(new Map()),_React$useState24=_slicedToArray(_React$useState23,2),layouts=_React$useState24[0],setLayouts=_React$useState24[1];var cancelTranslateY=React.useRef(new react_native_1.Animated.Value(1)).current;var componentTranslateY=React.useRef(new react_native_1.Animated.Value(0)).current;var overlay=React.useRef(new react_native_1.Animated.Value(0)).current;var beginScrollY=React.useRef(new react_native_1.Animated.Value(0)).current;var dragY=React.useRef(new react_native_1.Animated.Value(0)).current;var translateY=React.useRef(new react_native_1.Animated.Value(screenHeight)).current;var reverseBeginScrollY=React.useRef(react_native_1.Animated.multiply(new react_native_1.Animated.Value(-1),beginScrollY)).current;var tapGestureModalizeRef=React.useRef(null);var panGestureChildrenRef=React.useRef(null);var nativeViewChildrenRef=React.useRef(null);var contentViewRef=React.useRef(null);var tapGestureOverlayRef=React.useRef(null);var backButtonListenerRef=React.useRef(null);var diffClamp=react_native_1.Animated.diffClamp(reverseBeginScrollY,-screenHeight,0);var componentDragEnabled=componentTranslateY._value===1;var dragValue=react_native_1.Animated.add(react_native_1.Animated.multiply(dragY,componentDragEnabled?1:cancelTranslateY),diffClamp);var value=react_native_1.Animated.add(react_native_1.Animated.multiply(translateY,componentDragEnabled?1:cancelTranslateY),dragValue);var willCloseModalize=false;var handleBackPress=function handleBackPress(){if(alwaysOpen){return false;}if(onBackButtonPress){return onBackButtonPress();}else{handleClose();}return true;};var handleKeyboardShow=function handleKeyboardShow(event){var height=event.endCoordinates.height;setKeyboardToggle(true);setKeyboardHeight(height);};var handleKeyboardHide=function handleKeyboardHide(){setKeyboardToggle(false);setKeyboardHeight(0);};var handleAnimateOpen=function handleAnimateOpen(alwaysOpenValue){var dest=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'default';var timing=openAnimationConfig.timing,spring=openAnimationConfig.spring;backButtonListenerRef.current=react_native_1.BackHandler.addEventListener('hardwareBackPress',handleBackPress);var toValue=0;var toPanValue=0;var newPosition;if(dest==='top'){toValue=0;}else if(alwaysOpenValue){toValue=(modalHeightValue||0)-alwaysOpenValue;}else if(snapPoint){toValue=(modalHeightValue||0)-snapPoint;}if(panGestureAnimatedValue&&(alwaysOpenValue||snapPoint)){toPanValue=0;}else if(panGestureAnimatedValue&&!alwaysOpenValue&&(dest==='top'||dest==='default')){toPanValue=1;}setIsVisible(true);setShowContent(true);if(alwaysOpenValue&&dest!=='top'||snapPoint&&dest==='default'){newPosition='initial';}else{newPosition='top';}react_native_1.Animated.parallel([react_native_1.Animated.timing(overlay,{toValue:alwaysOpenValue&&dest==='default'?0:1,duration:timing.duration,easing:react_native_1.Easing.ease,useNativeDriver:USE_NATIVE_DRIVER}),panGestureAnimatedValue?react_native_1.Animated.timing(panGestureAnimatedValue,{toValue:toPanValue,duration:PAN_DURATION,easing:react_native_1.Easing.ease,useNativeDriver:useNativeDriver}):react_native_1.Animated.delay(0),spring?react_native_1.Animated.spring(translateY,Object.assign(Object.assign({},get_spring_config_1.getSpringConfig(spring)),{toValue:toValue,useNativeDriver:USE_NATIVE_DRIVER})):react_native_1.Animated.timing(translateY,{toValue:toValue,duration:timing.duration,easing:timing.easing,useNativeDriver:USE_NATIVE_DRIVER})]).start(function(){if(onOpened){onOpened();}setModalPosition(newPosition);if(onPositionChange){onPositionChange(newPosition);}});};var handleAnimateClose=function handleAnimateClose(){var dest=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'default';var callback=arguments.length>1?arguments[1]:undefined;var _a;var timing=closeAnimationConfig.timing,spring=closeAnimationConfig.spring;var lastSnapValue=snapPoint?snaps[1]:80;var toInitialAlwaysOpen=dest==='alwaysOpen'&&Boolean(alwaysOpen);var toValue=toInitialAlwaysOpen&&alwaysOpen?(modalHeightValue||0)-alwaysOpen:screenHeight;(_a=backButtonListenerRef.current)===null||_a===void 0?void 0:_a.remove();cancelTranslateY.setValue(1);setBeginScrollYValue(0);beginScrollY.setValue(0);react_native_1.Animated.parallel([react_native_1.Animated.timing(overlay,{toValue:0,duration:timing.duration,easing:react_native_1.Easing.ease,useNativeDriver:USE_NATIVE_DRIVER}),panGestureAnimatedValue?react_native_1.Animated.timing(panGestureAnimatedValue,{toValue:0,duration:PAN_DURATION,easing:react_native_1.Easing.ease,useNativeDriver:useNativeDriver}):react_native_1.Animated.delay(0),spring?react_native_1.Animated.spring(translateY,Object.assign(Object.assign({},get_spring_config_1.getSpringConfig(spring)),{toValue:toValue,useNativeDriver:USE_NATIVE_DRIVER})):react_native_1.Animated.timing(translateY,{duration:timing.duration,easing:react_native_1.Easing.out(react_native_1.Easing.ease),toValue:toValue,useNativeDriver:USE_NATIVE_DRIVER})]).start(function(){if(onClosed){onClosed();}if(callback){callback();}if(alwaysOpen&&dest==='alwaysOpen'&&onPositionChange){onPositionChange('initial');}if(alwaysOpen&&dest==='alwaysOpen'){setModalPosition('initial');}setShowContent(toInitialAlwaysOpen);translateY.setValue(toValue);dragY.setValue(0);willCloseModalize=false;setLastSnap(lastSnapValue);setIsVisible(toInitialAlwaysOpen);});};var handleModalizeContentLayout=function handleModalizeContentLayout(_ref2){var layout=_ref2.nativeEvent.layout;var value=Math.min(layout.height+(!adjustToContentHeight||keyboardHeight?layout.y:0),endHeight-react_native_1.Platform.select({ios:0,android:keyboardHeight,default:0}));setModalHeightValue(value);};var handleBaseLayout=function handleBaseLayout(component,height){setLayouts(new Map(layouts.set(component,height)));var max=Array.from(layouts).reduce(function(acc,cur){return acc+(cur===null||cur===void 0?void 0:cur[1]);},0);var maxFixed=+max.toFixed(3);var endHeightFixed=+endHeight.toFixed(3);var shorterHeight=maxFixed<endHeightFixed;setDisableScroll(shorterHeight&&disableScrollIfPossible);};var handleContentLayout=function handleContentLayout(_ref3){var nativeEvent=_ref3.nativeEvent;if(onLayout){onLayout(nativeEvent);}if(alwaysOpen&&adjustToContentHeight){var height=nativeEvent.layout.height;return setModalHeightValue(height);}if(!adjustToContentHeight){return;}handleBaseLayout('content',nativeEvent.layout.height);};var handleComponentLayout=function handleComponentLayout(_ref4,name,absolute){var nativeEvent=_ref4.nativeEvent;if(!adjustToContentHeight||absolute){return;}handleBaseLayout(name,nativeEvent.layout.height);};var handleClose=function handleClose(dest,callback){if(onClose){onClose();}handleAnimateClose(dest,callback);};var handleChildren=function handleChildren(_ref5,type){var nativeEvent=_ref5.nativeEvent;var timing=closeAnimationConfig.timing;var velocityY=nativeEvent.velocityY,translationY=nativeEvent.translationY;var negativeReverseScroll=modalPosition==='top'&&beginScrollYValue>=(snapPoint?0:SCROLL_THRESHOLD)&&translationY<0;var thresholdProps=translationY>threshold&&beginScrollYValue===0;var closeThreshold=velocity?beginScrollYValue<=20&&velocityY>=velocity||thresholdProps:thresholdProps;var enableBouncesValue=true;if(type!=='component'&&cancelTranslateY._value===0){componentTranslateY.setValue(0);}if(nativeEvent.oldState===react_native_gesture_handler_1.State.BEGAN){setCancelClose(false);if(!closeSnapPointStraightEnabled&&snapPoint?beginScrollYValue>0:beginScrollYValue>0||negativeReverseScroll){setCancelClose(true);translateY.setValue(0);dragY.setValue(0);cancelTranslateY.setValue(0);enableBouncesValue=true;}else{cancelTranslateY.setValue(1);enableBouncesValue=false;if(!tapGestureEnabled){setDisableScroll((Boolean(snapPoint)||Boolean(alwaysOpen))&&modalPosition==='initial');}}}setEnableBounces(devices_1.isAndroid?false:alwaysOpen?beginScrollYValue>0||translationY<0:enableBouncesValue);if(nativeEvent.oldState===react_native_gesture_handler_1.State.ACTIVE){var toValue=translationY-beginScrollYValue;var destSnapPoint=0;if(snapPoint||alwaysOpen){var endOffsetY=lastSnap+toValue+dragToss*velocityY;snaps.forEach(function(snap){var distFromSnap=Math.abs(snap-endOffsetY);var diffPoint=Math.abs(destSnapPoint-endOffsetY);if(distFromSnap<diffPoint&&!alwaysOpen){if(closeSnapPointStraightEnabled){if(modalPosition==='initial'&&negativeReverseScroll){destSnapPoint=snap;willCloseModalize=false;}if(snap===endHeight){destSnapPoint=snap;willCloseModalize=true;handleClose();}}else{destSnapPoint=snap;willCloseModalize=false;if(snap===endHeight){willCloseModalize=true;handleClose();}}}if(distFromSnap<diffPoint&&alwaysOpen&&beginScrollYValue<=0){destSnapPoint=(modalHeightValue||0)-alwaysOpen;willCloseModalize=false;}});}else if(closeThreshold&&!alwaysOpen&&!cancelClose){willCloseModalize=true;handleClose();}if(willCloseModalize){return;}setLastSnap(destSnapPoint);translateY.extractOffset();translateY.setValue(toValue);translateY.flattenOffset();dragY.setValue(0);if(alwaysOpen){react_native_1.Animated.timing(overlay,{toValue:Number(destSnapPoint<=0),duration:timing.duration,easing:react_native_1.Easing.ease,useNativeDriver:USE_NATIVE_DRIVER}).start();}react_native_1.Animated.spring(translateY,{tension:50,friction:12,velocity:velocityY,toValue:destSnapPoint,useNativeDriver:USE_NATIVE_DRIVER}).start();if(beginScrollYValue<=0){var modalPositionValue=destSnapPoint<=0?'top':'initial';if(panGestureAnimatedValue){react_native_1.Animated.timing(panGestureAnimatedValue,{toValue:Number(modalPositionValue==='top'),duration:PAN_DURATION,easing:react_native_1.Easing.ease,useNativeDriver:useNativeDriver}).start();}if(!adjustToContentHeight&&modalPositionValue==='top'){setDisableScroll(false);}if(onPositionChange&&modalPosition!==modalPositionValue){onPositionChange(modalPositionValue);}if(modalPosition!==modalPositionValue){setModalPosition(modalPositionValue);}}}};var handleComponent=function handleComponent(_ref6){var nativeEvent=_ref6.nativeEvent;if(nativeEvent.oldState===react_native_gesture_handler_1.State.BEGAN){componentTranslateY.setValue(1);beginScrollY.setValue(0);}handleChildren({nativeEvent:nativeEvent},'component');};var handleOverlay=function handleOverlay(_ref7){var nativeEvent=_ref7.nativeEvent;if(nativeEvent.oldState===react_native_gesture_handler_1.State.ACTIVE&&!willCloseModalize){if(onOverlayPress){onOverlayPress();}var dest=!!alwaysOpen?'alwaysOpen':'default';handleClose(dest);}};var handleGestureEvent=react_native_1.Animated.event([{nativeEvent:{translationY:dragY}}],{useNativeDriver:USE_NATIVE_DRIVER,listener:function listener(_ref8){var translationY=_ref8.nativeEvent.translationY;var _a;if(panGestureAnimatedValue){var offset=(_a=alwaysOpen!==null&&alwaysOpen!==void 0?alwaysOpen:snapPoint)!==null&&_a!==void 0?_a:0;var diff=Math.abs(translationY/(endHeight-offset));var y=translationY<=0?diff:1-diff;var _value;if(modalPosition==='initial'&&translationY>0){_value=0;}else if(modalPosition==='top'&&translationY<=0){_value=1;}else{_value=y;}panGestureAnimatedValue.setValue(_value);}}});var renderHandle=function renderHandle(){var handleStyles=[styles_1.default.handle];var shapeStyles=[styles_1.default.handle__shape,handleStyle];if(!withHandle){return null;}if(!isHandleOutside){handleStyles.push(styles_1.default.handleBottom);shapeStyles.push(styles_1.default.handle__shapeBottom,handleStyle);}return React.createElement(react_native_gesture_handler_1.PanGestureHandler,{enabled:panGestureEnabled,simultaneousHandlers:tapGestureModalizeRef,shouldCancelWhenOutside:false,onGestureEvent:handleGestureEvent,onHandlerStateChange:handleComponent},React.createElement(react_native_1.Animated.View,{style:handleStyles},React.createElement(react_native_1.View,{style:shapeStyles})));};var renderElement=function renderElement(Element){return typeof Element==='function'?Element():Element;};var renderComponent=function renderComponent(component,name){var _a;if(!component){return null;}var tag=renderElement(component);if(devices_1.isAndroid&&!panGestureComponentEnabled){return tag;}var obj=react_native_1.StyleSheet.flatten((_a=tag===null||tag===void 0?void 0:tag.props)===null||_a===void 0?void 0:_a.style);var absolute=(obj===null||obj===void 0?void 0:obj.position)==='absolute';var zIndex=obj===null||obj===void 0?void 0:obj.zIndex;return React.createElement(react_native_gesture_handler_1.PanGestureHandler,{enabled:panGestureEnabled,shouldCancelWhenOutside:false,onGestureEvent:handleGestureEvent,onHandlerStateChange:handleComponent},React.createElement(react_native_1.Animated.View,{style:{zIndex:zIndex},onLayout:function onLayout(e){return handleComponentLayout(e,name,absolute);}},tag));};var renderContent=function renderContent(){var _a;var keyboardDismissMode=devices_1.isIos?'interactive':'on-drag';var passedOnProps=(_a=flatListProps!==null&&flatListProps!==void 0?flatListProps:sectionListProps)!==null&&_a!==void 0?_a:scrollViewProps;var bounces=(passedOnProps===null||passedOnProps===void 0?void 0:passedOnProps.bounces)!==undefined&&!(passedOnProps===null||passedOnProps===void 0?void 0:passedOnProps.bounces)?passedOnProps===null||passedOnProps===void 0?void 0:passedOnProps.bounces:enableBounces;var scrollEnabled=(passedOnProps===null||passedOnProps===void 0?void 0:passedOnProps.scrollEnabled)!==undefined&&!(passedOnProps===null||passedOnProps===void 0?void 0:passedOnProps.scrollEnabled)?passedOnProps===null||passedOnProps===void 0?void 0:passedOnProps.scrollEnabled:keyboardToggle||!disableScroll;var scrollEventThrottle=(passedOnProps===null||passedOnProps===void 0?void 0:passedOnProps.scrollEventThrottle)||16;var onScrollBeginDrag=passedOnProps===null||passedOnProps===void 0?void 0:passedOnProps.onScrollBeginDrag;var opts={ref:compose_refs_1.composeRefs(contentViewRef,contentRef),bounces:bounces,onScrollBeginDrag:react_native_1.Animated.event([{nativeEvent:{contentOffset:{y:beginScrollY}}}],{useNativeDriver:USE_NATIVE_DRIVER,listener:onScrollBeginDrag}),scrollEventThrottle:scrollEventThrottle,onLayout:handleContentLayout,scrollEnabled:scrollEnabled,keyboardDismissMode:keyboardDismissMode};if(flatListProps){return React.createElement(react_native_1.Animated.FlatList,Object.assign({},flatListProps,opts));}if(sectionListProps){return React.createElement(react_native_1.Animated.SectionList,Object.assign({},sectionListProps,opts));}if(customRenderer){var tag=renderElement(customRenderer);return React.cloneElement(tag,Object.assign({},opts));}return React.createElement(react_native_1.Animated.ScrollView,Object.assign({},scrollViewProps,opts),children);};var renderChildren=function renderChildren(){var style=adjustToContentHeight?styles_1.default.content__adjustHeight:styles_1.default.content__container;var minDist=libraries_1.isRNGH2()?undefined:ACTIVATED;return React.createElement(react_native_gesture_handler_1.PanGestureHandler,{ref:panGestureChildrenRef,enabled:panGestureEnabled,simultaneousHandlers:[nativeViewChildrenRef,tapGestureModalizeRef],shouldCancelWhenOutside:false,onGestureEvent:handleGestureEvent,minDist:minDist,activeOffsetY:ACTIVATED,activeOffsetX:ACTIVATED,onHandlerStateChange:handleChildren},React.createElement(react_native_1.Animated.View,{style:[style,childrenStyle]},React.createElement(react_native_gesture_handler_1.NativeViewGestureHandler,{ref:nativeViewChildrenRef,waitFor:tapGestureModalizeRef,simultaneousHandlers:panGestureChildrenRef},renderContent())));};var renderOverlay=function renderOverlay(){var pointerEvents=alwaysOpen&&(modalPosition==='initial'||!modalPosition)?'box-none':'auto';return React.createElement(react_native_gesture_handler_1.PanGestureHandler,{enabled:panGestureEnabled,simultaneousHandlers:tapGestureModalizeRef,shouldCancelWhenOutside:false,onGestureEvent:handleGestureEvent,onHandlerStateChange:handleChildren},React.createElement(react_native_1.Animated.View,{style:styles_1.default.overlay,pointerEvents:pointerEvents},showContent&&React.createElement(react_native_gesture_handler_1.TapGestureHandler,{ref:tapGestureOverlayRef,enabled:closeOnOverlayTap!==undefined?closeOnOverlayTap:panGestureEnabled,onHandlerStateChange:handleOverlay},React.createElement(react_native_1.Animated.View,{style:[styles_1.default.overlay__background,overlayStyle,{opacity:overlay.interpolate({inputRange:[0,1],outputRange:[0,1]})}],pointerEvents:pointerEvents}))));};React.useImperativeHandle(ref,function(){return{open:function open(dest){if(onOpen){onOpen();}handleAnimateOpen(alwaysOpen,dest);},close:function close(dest,callback){handleClose(dest,callback);}};});React.useEffect(function(){if(alwaysOpen&&(modalHeightValue||adjustToContentHeight)){handleAnimateOpen(alwaysOpen);}},[alwaysOpen,modalHeightValue]);React.useEffect(function(){invariant_1.invariant(modalHeight&&adjustToContentHeight,`You can't use both 'modalHeight' and 'adjustToContentHeight' props at the same time. Only choose one of the two.`);invariant_1.invariant((scrollViewProps||children)&&flatListProps,`You have defined 'flatListProps' along with 'scrollViewProps' or 'children' props. Remove 'scrollViewProps' or 'children' or 'flatListProps' to fix the error.`);invariant_1.invariant((scrollViewProps||children)&&sectionListProps,`You have defined 'sectionListProps'  along with 'scrollViewProps' or 'children' props. Remove 'scrollViewProps' or 'children' or 'sectionListProps' to fix the error.`);},[modalHeight,adjustToContentHeight,scrollViewProps,children,flatListProps,sectionListProps]);React.useEffect(function(){setModalHeightValue(adjustValue);},[adjustToContentHeight,modalHeight,screenHeight]);React.useEffect(function(){var keyboardShowListener=null;var keyboardHideListener=null;var beginScrollYListener=beginScrollY.addListener(function(_ref9){var value=_ref9.value;return setBeginScrollYValue(value);});if(libraries_1.isBelowRN65){react_native_1.Keyboard.addListener('keyboardDidShow',handleKeyboardShow);react_native_1.Keyboard.addListener('keyboardDidHide',handleKeyboardHide);}else{keyboardShowListener=react_native_1.Keyboard.addListener('keyboardDidShow',handleKeyboardShow);keyboardHideListener=react_native_1.Keyboard.addListener('keyboardDidHide',handleKeyboardHide);}return function(){var _a;(_a=backButtonListenerRef.current)===null||_a===void 0?void 0:_a.remove();beginScrollY.removeListener(beginScrollYListener);if(libraries_1.isBelowRN65){react_native_1.Keyboard.removeListener('keyboardDidShow',handleKeyboardShow);react_native_1.Keyboard.removeListener('keyboardDidHide',handleKeyboardHide);}else{keyboardShowListener===null||keyboardShowListener===void 0?void 0:keyboardShowListener.remove();keyboardHideListener===null||keyboardHideListener===void 0?void 0:keyboardHideListener.remove();}};},[]);var keyboardAvoidingViewProps={keyboardVerticalOffset:keyboardAvoidingOffset,behavior:keyboardAvoidingBehavior,enabled:avoidKeyboardLikeIOS,style:[styles_1.default.modalize__content,modalStyle,{height:modalHeightValue,maxHeight:endHeight,transform:[{translateY:value.interpolate({inputRange:[-40,0,endHeight],outputRange:[0,0,endHeight],extrapolate:'clamp'})}]}]};if(!avoidKeyboardLikeIOS&&!adjustToContentHeight){keyboardAvoidingViewProps.onLayout=handleModalizeContentLayout;}var renderModalize=React.createElement(react_native_1.View,{style:[styles_1.default.modalize,rootStyle],pointerEvents:alwaysOpen||!withOverlay?'box-none':'auto'},React.createElement(react_native_gesture_handler_1.TapGestureHandler,{ref:tapGestureModalizeRef,maxDurationMs:tapGestureEnabled?100000:50,maxDeltaY:lastSnap,enabled:panGestureEnabled},React.createElement(react_native_1.View,{style:styles_1.default.modalize__wrapper,pointerEvents:\"box-none\"},showContent&&React.createElement(AnimatedKeyboardAvoidingView,Object.assign({},keyboardAvoidingViewProps),renderHandle(),renderComponent(HeaderComponent,'header'),renderChildren(),renderComponent(FooterComponent,'footer')),withOverlay&&renderOverlay())),renderComponent(FloatingComponent,'floating'));var renderReactModal=function renderReactModal(child){return React.createElement(react_native_1.Modal,Object.assign({},reactModalProps,{supportedOrientations:['landscape','portrait','portrait-upside-down'],onRequestClose:handleBackPress,hardwareAccelerated:USE_NATIVE_DRIVER,visible:isVisible,transparent:true}),child);};if(!isVisible){return null;}if(withReactModal){return renderReactModal(renderModalize);}return renderModalize;};exports.Modalize=React.forwardRef(ModalizeBase);__exportStar(require(\"./utils/use-modalize\"),exports);","map":{"version":3,"names":["_slicedToArray","require","__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","hasOwnProperty","call","__exportStar","exports","p","__importDefault","Modalize","React","react_native_1","react_native_gesture_handler_1","use_dimensions_1","get_spring_config_1","devices_1","libraries_1","invariant_1","compose_refs_1","styles_1","AnimatedKeyboardAvoidingView","Animated","createAnimatedComponent","KeyboardAvoidingView","SCROLL_THRESHOLD","USE_NATIVE_DRIVER","ACTIVATED","PAN_DURATION","ModalizeBase","_ref","ref","contentRef","children","scrollViewProps","flatListProps","sectionListProps","customRenderer","rootStyle","modalStyle","handleStyle","overlayStyle","childrenStyle","snapPoint","modalHeight","_ref$modalTopOffset","modalTopOffset","Platform","select","ios","android","StatusBar","currentHeight","default","alwaysOpen","_ref$adjustToContentH","adjustToContentHeight","_ref$handlePosition","handlePosition","_ref$disableScrollIfP","disableScrollIfPossible","_ref$avoidKeyboardLik","avoidKeyboardLikeIOS","_ref$keyboardAvoiding","keyboardAvoidingBehavior","keyboardAvoidingOffset","_ref$panGestureEnable","panGestureEnabled","_ref$panGestureCompon","panGestureComponentEnabled","_ref$tapGestureEnable","tapGestureEnabled","_ref$closeOnOverlayTa","closeOnOverlayTap","_ref$closeSnapPointSt","closeSnapPointStraightEnabled","_ref$openAnimationCon","openAnimationConfig","timing","duration","easing","Easing","ease","spring","speed","bounciness","_ref$closeAnimationCo","closeAnimationConfig","_ref$dragToss","dragToss","_ref$threshold","threshold","_ref$velocity","velocity","panGestureAnimatedValue","_ref$useNativeDriver","useNativeDriver","_ref$withReactModal","withReactModal","reactModalProps","_ref$withHandle","withHandle","_ref$withOverlay","withOverlay","HeaderComponent","FooterComponent","FloatingComponent","onOpen","onOpened","onClose","onClosed","onBackButtonPress","onPositionChange","onOverlayPress","onLayout","_use_dimensions_1$use","useDimensions","screenHeight","height","isHandleOutside","handleHeight","fullHeight","computedHeight","isIphoneX","endHeight","adjustValue","snaps","_React$useState","useState","_React$useState2","modalHeightValue","setModalHeightValue","_React$useState3","_React$useState4","lastSnap","setLastSnap","_React$useState5","_React$useState6","isVisible","setIsVisible","_React$useState7","_React$useState8","showContent","setShowContent","_React$useState9","_React$useState10","enableBounces","setEnableBounces","_React$useState11","_React$useState12","keyboardToggle","setKeyboardToggle","_React$useState13","_React$useState14","keyboardHeight","setKeyboardHeight","_React$useState15","_React$useState16","disableScroll","setDisableScroll","_React$useState17","_React$useState18","beginScrollYValue","setBeginScrollYValue","_React$useState19","_React$useState20","modalPosition","setModalPosition","_React$useState21","_React$useState22","cancelClose","setCancelClose","_React$useState23","Map","_React$useState24","layouts","setLayouts","cancelTranslateY","useRef","Value","current","componentTranslateY","overlay","beginScrollY","dragY","translateY","reverseBeginScrollY","multiply","tapGestureModalizeRef","panGestureChildrenRef","nativeViewChildrenRef","contentViewRef","tapGestureOverlayRef","backButtonListenerRef","diffClamp","componentDragEnabled","_value","dragValue","add","willCloseModalize","handleBackPress","handleClose","handleKeyboardShow","event","endCoordinates","handleKeyboardHide","handleAnimateOpen","alwaysOpenValue","dest","arguments","length","BackHandler","addEventListener","toValue","toPanValue","newPosition","parallel","delay","assign","getSpringConfig","start","handleAnimateClose","callback","_a","lastSnapValue","toInitialAlwaysOpen","Boolean","remove","setValue","out","handleModalizeContentLayout","_ref2","layout","nativeEvent","Math","min","y","handleBaseLayout","component","set","max","Array","from","reduce","acc","cur","maxFixed","toFixed","endHeightFixed","shorterHeight","handleContentLayout","_ref3","handleComponentLayout","_ref4","name","absolute","handleChildren","_ref5","type","velocityY","translationY","negativeReverseScroll","thresholdProps","closeThreshold","enableBouncesValue","oldState","State","BEGAN","isAndroid","ACTIVE","destSnapPoint","endOffsetY","forEach","snap","distFromSnap","abs","diffPoint","extractOffset","flattenOffset","Number","tension","friction","modalPositionValue","handleComponent","_ref6","handleOverlay","_ref7","handleGestureEvent","listener","_ref8","offset","diff","renderHandle","handleStyles","handle","shapeStyles","handle__shape","push","handleBottom","handle__shapeBottom","createElement","PanGestureHandler","enabled","simultaneousHandlers","shouldCancelWhenOutside","onGestureEvent","onHandlerStateChange","View","style","renderElement","Element","renderComponent","tag","obj","StyleSheet","flatten","props","position","zIndex","e","renderContent","keyboardDismissMode","isIos","passedOnProps","bounces","scrollEnabled","scrollEventThrottle","onScrollBeginDrag","opts","composeRefs","contentOffset","FlatList","SectionList","cloneElement","ScrollView","renderChildren","content__adjustHeight","content__container","minDist","isRNGH2","activeOffsetY","activeOffsetX","NativeViewGestureHandler","waitFor","renderOverlay","pointerEvents","TapGestureHandler","overlay__background","opacity","interpolate","inputRange","outputRange","useImperativeHandle","open","close","useEffect","invariant","keyboardShowListener","keyboardHideListener","beginScrollYListener","addListener","_ref9","isBelowRN65","Keyboard","removeListener","keyboardAvoidingViewProps","keyboardVerticalOffset","behavior","modalize__content","maxHeight","transform","extrapolate","renderModalize","modalize","maxDurationMs","maxDeltaY","modalize__wrapper","renderReactModal","child","Modal","supportedOrientations","onRequestClose","hardwareAccelerated","visible","transparent","forwardRef"],"sources":["/Users/josh/src/ui/node_modules/react-native-modalize/lib/index.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Modalize = void 0;\n/**\n * esModuleInterop: true looks to work everywhere except\n * on snack.expo for some reason. Will revisit this later.\n */\nconst React = __importStar(require(\"react\"));\nconst react_native_1 = require(\"react-native\");\nconst react_native_gesture_handler_1 = require(\"react-native-gesture-handler\");\nconst use_dimensions_1 = require(\"./utils/use-dimensions\");\nconst get_spring_config_1 = require(\"./utils/get-spring-config\");\nconst devices_1 = require(\"./utils/devices\");\nconst libraries_1 = require(\"./utils/libraries\");\nconst invariant_1 = require(\"./utils/invariant\");\nconst compose_refs_1 = require(\"./utils/compose-refs\");\nconst styles_1 = __importDefault(require(\"./styles\"));\nconst AnimatedKeyboardAvoidingView = react_native_1.Animated.createAnimatedComponent(react_native_1.KeyboardAvoidingView);\n/**\n * When scrolling, it happens than beginScrollYValue is not always equal to 0 (top of the ScrollView).\n * Since we use this to trigger the swipe down gesture animation, we allow a small threshold to\n * not dismiss Modalize when we are using the ScrollView and we don't want to dismiss.\n */\nconst SCROLL_THRESHOLD = -4;\nconst USE_NATIVE_DRIVER = true;\nconst ACTIVATED = 20;\nconst PAN_DURATION = 150;\nconst ModalizeBase = ({ \n// Refs\ncontentRef, \n// Renderers\nchildren, scrollViewProps, flatListProps, sectionListProps, customRenderer, \n// Styles\nrootStyle, modalStyle, handleStyle, overlayStyle, childrenStyle, \n// Layout\nsnapPoint, modalHeight, modalTopOffset = react_native_1.Platform.select({\n    ios: 0,\n    android: react_native_1.StatusBar.currentHeight || 0,\n    default: 0,\n}), alwaysOpen, adjustToContentHeight = false, \n// Options\nhandlePosition = 'outside', disableScrollIfPossible = true, avoidKeyboardLikeIOS = react_native_1.Platform.select({\n    ios: true,\n    android: false,\n    default: true,\n}), keyboardAvoidingBehavior = 'padding', keyboardAvoidingOffset, panGestureEnabled = true, panGestureComponentEnabled = false, tapGestureEnabled = true, closeOnOverlayTap = true, closeSnapPointStraightEnabled = true, \n// Animations\nopenAnimationConfig = {\n    timing: { duration: 240, easing: react_native_1.Easing.ease },\n    spring: { speed: 14, bounciness: 4 },\n}, closeAnimationConfig = {\n    timing: { duration: 240, easing: react_native_1.Easing.ease },\n}, dragToss = 0.18, threshold = 120, velocity = 2800, panGestureAnimatedValue, useNativeDriver = true, \n// Elements visibilities\nwithReactModal = false, reactModalProps, withHandle = true, withOverlay = true, \n// Additional components\nHeaderComponent, FooterComponent, FloatingComponent, \n// Callbacks\nonOpen, onOpened, onClose, onClosed, onBackButtonPress, onPositionChange, onOverlayPress, onLayout, }, ref) => {\n    const { height: screenHeight } = use_dimensions_1.useDimensions();\n    const isHandleOutside = handlePosition === 'outside';\n    const handleHeight = withHandle ? 20 : isHandleOutside ? 35 : 20;\n    const fullHeight = screenHeight - modalTopOffset;\n    const computedHeight = fullHeight - handleHeight - (devices_1.isIphoneX ? 34 : 0);\n    const endHeight = modalHeight || computedHeight;\n    const adjustValue = adjustToContentHeight ? undefined : endHeight;\n    const snaps = snapPoint ? [0, endHeight - snapPoint, endHeight] : [0, endHeight];\n    const [modalHeightValue, setModalHeightValue] = React.useState(adjustValue);\n    const [lastSnap, setLastSnap] = React.useState(snapPoint ? endHeight - snapPoint : 0);\n    const [isVisible, setIsVisible] = React.useState(false);\n    const [showContent, setShowContent] = React.useState(true);\n    const [enableBounces, setEnableBounces] = React.useState(true);\n    const [keyboardToggle, setKeyboardToggle] = React.useState(false);\n    const [keyboardHeight, setKeyboardHeight] = React.useState(0);\n    const [disableScroll, setDisableScroll] = React.useState(alwaysOpen || snapPoint ? true : undefined);\n    const [beginScrollYValue, setBeginScrollYValue] = React.useState(0);\n    const [modalPosition, setModalPosition] = React.useState('initial');\n    const [cancelClose, setCancelClose] = React.useState(false);\n    const [layouts, setLayouts] = React.useState(new Map());\n    const cancelTranslateY = React.useRef(new react_native_1.Animated.Value(1)).current; // 1 by default to have the translateY animation running\n    const componentTranslateY = React.useRef(new react_native_1.Animated.Value(0)).current;\n    const overlay = React.useRef(new react_native_1.Animated.Value(0)).current;\n    const beginScrollY = React.useRef(new react_native_1.Animated.Value(0)).current;\n    const dragY = React.useRef(new react_native_1.Animated.Value(0)).current;\n    const translateY = React.useRef(new react_native_1.Animated.Value(screenHeight)).current;\n    const reverseBeginScrollY = React.useRef(react_native_1.Animated.multiply(new react_native_1.Animated.Value(-1), beginScrollY))\n        .current;\n    const tapGestureModalizeRef = React.useRef(null);\n    const panGestureChildrenRef = React.useRef(null);\n    const nativeViewChildrenRef = React.useRef(null);\n    const contentViewRef = React.useRef(null);\n    const tapGestureOverlayRef = React.useRef(null);\n    const backButtonListenerRef = React.useRef(null);\n    // We diff and get the negative value only. It sometimes go above 0\n    // (e.g. 1.5) and creates the flickering on Modalize for a ms\n    const diffClamp = react_native_1.Animated.diffClamp(reverseBeginScrollY, -screenHeight, 0);\n    const componentDragEnabled = componentTranslateY._value === 1;\n    // When we have a scrolling happening in the ScrollView, we don't want to translate\n    // the modal down. We either multiply by 0 to cancel the animation, or 1 to proceed.\n    const dragValue = react_native_1.Animated.add(react_native_1.Animated.multiply(dragY, componentDragEnabled ? 1 : cancelTranslateY), diffClamp);\n    const value = react_native_1.Animated.add(react_native_1.Animated.multiply(translateY, componentDragEnabled ? 1 : cancelTranslateY), dragValue);\n    let willCloseModalize = false;\n    const handleBackPress = () => {\n        if (alwaysOpen) {\n            return false;\n        }\n        if (onBackButtonPress) {\n            return onBackButtonPress();\n        }\n        else {\n            handleClose();\n        }\n        return true;\n    };\n    const handleKeyboardShow = (event) => {\n        const { height } = event.endCoordinates;\n        setKeyboardToggle(true);\n        setKeyboardHeight(height);\n    };\n    const handleKeyboardHide = () => {\n        setKeyboardToggle(false);\n        setKeyboardHeight(0);\n    };\n    const handleAnimateOpen = (alwaysOpenValue, dest = 'default') => {\n        const { timing, spring } = openAnimationConfig;\n        backButtonListenerRef.current = react_native_1.BackHandler.addEventListener('hardwareBackPress', handleBackPress);\n        let toValue = 0;\n        let toPanValue = 0;\n        let newPosition;\n        if (dest === 'top') {\n            toValue = 0;\n        }\n        else if (alwaysOpenValue) {\n            toValue = (modalHeightValue || 0) - alwaysOpenValue;\n        }\n        else if (snapPoint) {\n            toValue = (modalHeightValue || 0) - snapPoint;\n        }\n        if (panGestureAnimatedValue && (alwaysOpenValue || snapPoint)) {\n            toPanValue = 0;\n        }\n        else if (panGestureAnimatedValue &&\n            !alwaysOpenValue &&\n            (dest === 'top' || dest === 'default')) {\n            toPanValue = 1;\n        }\n        setIsVisible(true);\n        setShowContent(true);\n        if ((alwaysOpenValue && dest !== 'top') || (snapPoint && dest === 'default')) {\n            newPosition = 'initial';\n        }\n        else {\n            newPosition = 'top';\n        }\n        react_native_1.Animated.parallel([\n            react_native_1.Animated.timing(overlay, {\n                toValue: alwaysOpenValue && dest === 'default' ? 0 : 1,\n                duration: timing.duration,\n                easing: react_native_1.Easing.ease,\n                useNativeDriver: USE_NATIVE_DRIVER,\n            }),\n            panGestureAnimatedValue\n                ? react_native_1.Animated.timing(panGestureAnimatedValue, {\n                    toValue: toPanValue,\n                    duration: PAN_DURATION,\n                    easing: react_native_1.Easing.ease,\n                    useNativeDriver,\n                })\n                : react_native_1.Animated.delay(0),\n            spring\n                ? react_native_1.Animated.spring(translateY, Object.assign(Object.assign({}, get_spring_config_1.getSpringConfig(spring)), { toValue, useNativeDriver: USE_NATIVE_DRIVER }))\n                : react_native_1.Animated.timing(translateY, {\n                    toValue,\n                    duration: timing.duration,\n                    easing: timing.easing,\n                    useNativeDriver: USE_NATIVE_DRIVER,\n                }),\n        ]).start(() => {\n            if (onOpened) {\n                onOpened();\n            }\n            setModalPosition(newPosition);\n            if (onPositionChange) {\n                onPositionChange(newPosition);\n            }\n        });\n    };\n    const handleAnimateClose = (dest = 'default', callback) => {\n        var _a;\n        const { timing, spring } = closeAnimationConfig;\n        const lastSnapValue = snapPoint ? snaps[1] : 80;\n        const toInitialAlwaysOpen = dest === 'alwaysOpen' && Boolean(alwaysOpen);\n        const toValue = toInitialAlwaysOpen && alwaysOpen ? (modalHeightValue || 0) - alwaysOpen : screenHeight;\n        (_a = backButtonListenerRef.current) === null || _a === void 0 ? void 0 : _a.remove();\n        cancelTranslateY.setValue(1);\n        setBeginScrollYValue(0);\n        beginScrollY.setValue(0);\n        react_native_1.Animated.parallel([\n            react_native_1.Animated.timing(overlay, {\n                toValue: 0,\n                duration: timing.duration,\n                easing: react_native_1.Easing.ease,\n                useNativeDriver: USE_NATIVE_DRIVER,\n            }),\n            panGestureAnimatedValue\n                ? react_native_1.Animated.timing(panGestureAnimatedValue, {\n                    toValue: 0,\n                    duration: PAN_DURATION,\n                    easing: react_native_1.Easing.ease,\n                    useNativeDriver,\n                })\n                : react_native_1.Animated.delay(0),\n            spring\n                ? react_native_1.Animated.spring(translateY, Object.assign(Object.assign({}, get_spring_config_1.getSpringConfig(spring)), { toValue, useNativeDriver: USE_NATIVE_DRIVER }))\n                : react_native_1.Animated.timing(translateY, {\n                    duration: timing.duration,\n                    easing: react_native_1.Easing.out(react_native_1.Easing.ease),\n                    toValue,\n                    useNativeDriver: USE_NATIVE_DRIVER,\n                }),\n        ]).start(() => {\n            if (onClosed) {\n                onClosed();\n            }\n            if (callback) {\n                callback();\n            }\n            if (alwaysOpen && dest === 'alwaysOpen' && onPositionChange) {\n                onPositionChange('initial');\n            }\n            if (alwaysOpen && dest === 'alwaysOpen') {\n                setModalPosition('initial');\n            }\n            setShowContent(toInitialAlwaysOpen);\n            translateY.setValue(toValue);\n            dragY.setValue(0);\n            willCloseModalize = false;\n            setLastSnap(lastSnapValue);\n            setIsVisible(toInitialAlwaysOpen);\n        });\n    };\n    const handleModalizeContentLayout = ({ nativeEvent: { layout } }) => {\n        const value = Math.min(layout.height + (!adjustToContentHeight || keyboardHeight ? layout.y : 0), endHeight -\n            react_native_1.Platform.select({\n                ios: 0,\n                android: keyboardHeight,\n                default: 0,\n            }));\n        setModalHeightValue(value);\n    };\n    const handleBaseLayout = (component, height) => {\n        setLayouts(new Map(layouts.set(component, height)));\n        const max = Array.from(layouts).reduce((acc, cur) => acc + (cur === null || cur === void 0 ? void 0 : cur[1]), 0);\n        const maxFixed = +max.toFixed(3);\n        const endHeightFixed = +endHeight.toFixed(3);\n        const shorterHeight = maxFixed < endHeightFixed;\n        setDisableScroll(shorterHeight && disableScrollIfPossible);\n    };\n    const handleContentLayout = ({ nativeEvent }) => {\n        if (onLayout) {\n            onLayout(nativeEvent);\n        }\n        if (alwaysOpen && adjustToContentHeight) {\n            const { height } = nativeEvent.layout;\n            return setModalHeightValue(height);\n        }\n        // We don't want to disable the scroll if we are not using adjustToContentHeight props\n        if (!adjustToContentHeight) {\n            return;\n        }\n        handleBaseLayout('content', nativeEvent.layout.height);\n    };\n    const handleComponentLayout = ({ nativeEvent }, name, absolute) => {\n        /**\n         * We don't want to disable the scroll if we are not using adjustToContentHeight props.\n         * Also, if the component is in absolute positioning we don't want to take in\n         * account its dimensions, so we just skip.\n         */\n        if (!adjustToContentHeight || absolute) {\n            return;\n        }\n        handleBaseLayout(name, nativeEvent.layout.height);\n    };\n    const handleClose = (dest, callback) => {\n        if (onClose) {\n            onClose();\n        }\n        handleAnimateClose(dest, callback);\n    };\n    const handleChildren = ({ nativeEvent }, type) => {\n        const { timing } = closeAnimationConfig;\n        const { velocityY, translationY } = nativeEvent;\n        const negativeReverseScroll = modalPosition === 'top' &&\n            beginScrollYValue >= (snapPoint ? 0 : SCROLL_THRESHOLD) &&\n            translationY < 0;\n        const thresholdProps = translationY > threshold && beginScrollYValue === 0;\n        const closeThreshold = velocity\n            ? (beginScrollYValue <= 20 && velocityY >= velocity) || thresholdProps\n            : thresholdProps;\n        let enableBouncesValue = true;\n        // We make sure to reset the value if we are dragging from the children\n        if (type !== 'component' && cancelTranslateY._value === 0) {\n            componentTranslateY.setValue(0);\n        }\n        /*\n         * When the pan gesture began we check the position of the ScrollView \"cursor\".\n         * We cancel the translation animation if the ScrollView is not scrolled to the top\n         */\n        if (nativeEvent.oldState === react_native_gesture_handler_1.State.BEGAN) {\n            setCancelClose(false);\n            if (!closeSnapPointStraightEnabled && snapPoint\n                ? beginScrollYValue > 0\n                : beginScrollYValue > 0 || negativeReverseScroll) {\n                setCancelClose(true);\n                translateY.setValue(0);\n                dragY.setValue(0);\n                cancelTranslateY.setValue(0);\n                enableBouncesValue = true;\n            }\n            else {\n                cancelTranslateY.setValue(1);\n                enableBouncesValue = false;\n                if (!tapGestureEnabled) {\n                    setDisableScroll((Boolean(snapPoint) || Boolean(alwaysOpen)) && modalPosition === 'initial');\n                }\n            }\n        }\n        setEnableBounces(devices_1.isAndroid\n            ? false\n            : alwaysOpen\n                ? beginScrollYValue > 0 || translationY < 0\n                : enableBouncesValue);\n        if (nativeEvent.oldState === react_native_gesture_handler_1.State.ACTIVE) {\n            const toValue = translationY - beginScrollYValue;\n            let destSnapPoint = 0;\n            if (snapPoint || alwaysOpen) {\n                const endOffsetY = lastSnap + toValue + dragToss * velocityY;\n                /**\n                 * snapPoint and alwaysOpen use both an array of points to define the first open state and the final state.\n                 */\n                snaps.forEach((snap) => {\n                    const distFromSnap = Math.abs(snap - endOffsetY);\n                    const diffPoint = Math.abs(destSnapPoint - endOffsetY);\n                    // For snapPoint\n                    if (distFromSnap < diffPoint && !alwaysOpen) {\n                        if (closeSnapPointStraightEnabled) {\n                            if (modalPosition === 'initial' && negativeReverseScroll) {\n                                destSnapPoint = snap;\n                                willCloseModalize = false;\n                            }\n                            if (snap === endHeight) {\n                                destSnapPoint = snap;\n                                willCloseModalize = true;\n                                handleClose();\n                            }\n                        }\n                        else {\n                            destSnapPoint = snap;\n                            willCloseModalize = false;\n                            if (snap === endHeight) {\n                                willCloseModalize = true;\n                                handleClose();\n                            }\n                        }\n                    }\n                    // For alwaysOpen props\n                    if (distFromSnap < diffPoint && alwaysOpen && beginScrollYValue <= 0) {\n                        destSnapPoint = (modalHeightValue || 0) - alwaysOpen;\n                        willCloseModalize = false;\n                    }\n                });\n            }\n            else if (closeThreshold && !alwaysOpen && !cancelClose) {\n                willCloseModalize = true;\n                handleClose();\n            }\n            if (willCloseModalize) {\n                return;\n            }\n            setLastSnap(destSnapPoint);\n            translateY.extractOffset();\n            translateY.setValue(toValue);\n            translateY.flattenOffset();\n            dragY.setValue(0);\n            if (alwaysOpen) {\n                react_native_1.Animated.timing(overlay, {\n                    toValue: Number(destSnapPoint <= 0),\n                    duration: timing.duration,\n                    easing: react_native_1.Easing.ease,\n                    useNativeDriver: USE_NATIVE_DRIVER,\n                }).start();\n            }\n            react_native_1.Animated.spring(translateY, {\n                tension: 50,\n                friction: 12,\n                velocity: velocityY,\n                toValue: destSnapPoint,\n                useNativeDriver: USE_NATIVE_DRIVER,\n            }).start();\n            if (beginScrollYValue <= 0) {\n                const modalPositionValue = destSnapPoint <= 0 ? 'top' : 'initial';\n                if (panGestureAnimatedValue) {\n                    react_native_1.Animated.timing(panGestureAnimatedValue, {\n                        toValue: Number(modalPositionValue === 'top'),\n                        duration: PAN_DURATION,\n                        easing: react_native_1.Easing.ease,\n                        useNativeDriver,\n                    }).start();\n                }\n                if (!adjustToContentHeight && modalPositionValue === 'top') {\n                    setDisableScroll(false);\n                }\n                if (onPositionChange && modalPosition !== modalPositionValue) {\n                    onPositionChange(modalPositionValue);\n                }\n                if (modalPosition !== modalPositionValue) {\n                    setModalPosition(modalPositionValue);\n                }\n            }\n        }\n    };\n    const handleComponent = ({ nativeEvent }) => {\n        // If we drag from the HeaderComponent/FooterComponent/FloatingComponent we allow the translation animation\n        if (nativeEvent.oldState === react_native_gesture_handler_1.State.BEGAN) {\n            componentTranslateY.setValue(1);\n            beginScrollY.setValue(0);\n        }\n        handleChildren({ nativeEvent }, 'component');\n    };\n    const handleOverlay = ({ nativeEvent }) => {\n        if (nativeEvent.oldState === react_native_gesture_handler_1.State.ACTIVE && !willCloseModalize) {\n            if (onOverlayPress) {\n                onOverlayPress();\n            }\n            const dest = !!alwaysOpen ? 'alwaysOpen' : 'default';\n            handleClose(dest);\n        }\n    };\n    const handleGestureEvent = react_native_1.Animated.event([{ nativeEvent: { translationY: dragY } }], {\n        useNativeDriver: USE_NATIVE_DRIVER,\n        listener: ({ nativeEvent: { translationY } }) => {\n            var _a;\n            if (panGestureAnimatedValue) {\n                const offset = (_a = alwaysOpen !== null && alwaysOpen !== void 0 ? alwaysOpen : snapPoint) !== null && _a !== void 0 ? _a : 0;\n                const diff = Math.abs(translationY / (endHeight - offset));\n                const y = translationY <= 0 ? diff : 1 - diff;\n                let value;\n                if (modalPosition === 'initial' && translationY > 0) {\n                    value = 0;\n                }\n                else if (modalPosition === 'top' && translationY <= 0) {\n                    value = 1;\n                }\n                else {\n                    value = y;\n                }\n                panGestureAnimatedValue.setValue(value);\n            }\n        },\n    });\n    const renderHandle = () => {\n        const handleStyles = [styles_1.default.handle];\n        const shapeStyles = [styles_1.default.handle__shape, handleStyle];\n        if (!withHandle) {\n            return null;\n        }\n        if (!isHandleOutside) {\n            handleStyles.push(styles_1.default.handleBottom);\n            shapeStyles.push(styles_1.default.handle__shapeBottom, handleStyle);\n        }\n        return (React.createElement(react_native_gesture_handler_1.PanGestureHandler, { enabled: panGestureEnabled, simultaneousHandlers: tapGestureModalizeRef, shouldCancelWhenOutside: false, onGestureEvent: handleGestureEvent, onHandlerStateChange: handleComponent },\n            React.createElement(react_native_1.Animated.View, { style: handleStyles },\n                React.createElement(react_native_1.View, { style: shapeStyles }))));\n    };\n    const renderElement = (Element) => typeof Element === 'function' ? Element() : Element;\n    const renderComponent = (component, name) => {\n        var _a;\n        if (!component) {\n            return null;\n        }\n        const tag = renderElement(component);\n        /**\n         * Nesting Touchable/ScrollView components with RNGH PanGestureHandler cancels the inner events.\n         * Until a better solution lands in RNGH, I will disable the PanGestureHandler for Android only,\n         * so inner touchable/gestures are working from the custom components you can pass in.\n         */\n        if (devices_1.isAndroid && !panGestureComponentEnabled) {\n            return tag;\n        }\n        const obj = react_native_1.StyleSheet.flatten((_a = tag === null || tag === void 0 ? void 0 : tag.props) === null || _a === void 0 ? void 0 : _a.style);\n        const absolute = (obj === null || obj === void 0 ? void 0 : obj.position) === 'absolute';\n        const zIndex = obj === null || obj === void 0 ? void 0 : obj.zIndex;\n        return (React.createElement(react_native_gesture_handler_1.PanGestureHandler, { enabled: panGestureEnabled, shouldCancelWhenOutside: false, onGestureEvent: handleGestureEvent, onHandlerStateChange: handleComponent },\n            React.createElement(react_native_1.Animated.View, { style: { zIndex }, onLayout: (e) => handleComponentLayout(e, name, absolute) }, tag)));\n    };\n    const renderContent = () => {\n        var _a;\n        const keyboardDismissMode = devices_1.isIos ? 'interactive' : 'on-drag';\n        const passedOnProps = (_a = flatListProps !== null && flatListProps !== void 0 ? flatListProps : sectionListProps) !== null && _a !== void 0 ? _a : scrollViewProps;\n        // We allow overwrites when the props (bounces, scrollEnabled) are set to false, when true we use Modalize's core behavior\n        const bounces = (passedOnProps === null || passedOnProps === void 0 ? void 0 : passedOnProps.bounces) !== undefined && !(passedOnProps === null || passedOnProps === void 0 ? void 0 : passedOnProps.bounces)\n            ? passedOnProps === null || passedOnProps === void 0 ? void 0 : passedOnProps.bounces : enableBounces;\n        const scrollEnabled = (passedOnProps === null || passedOnProps === void 0 ? void 0 : passedOnProps.scrollEnabled) !== undefined && !(passedOnProps === null || passedOnProps === void 0 ? void 0 : passedOnProps.scrollEnabled)\n            ? passedOnProps === null || passedOnProps === void 0 ? void 0 : passedOnProps.scrollEnabled : keyboardToggle || !disableScroll;\n        const scrollEventThrottle = (passedOnProps === null || passedOnProps === void 0 ? void 0 : passedOnProps.scrollEventThrottle) || 16;\n        const onScrollBeginDrag = passedOnProps === null || passedOnProps === void 0 ? void 0 : passedOnProps.onScrollBeginDrag;\n        const opts = {\n            ref: compose_refs_1.composeRefs(contentViewRef, contentRef),\n            bounces,\n            onScrollBeginDrag: react_native_1.Animated.event([{ nativeEvent: { contentOffset: { y: beginScrollY } } }], {\n                useNativeDriver: USE_NATIVE_DRIVER,\n                listener: onScrollBeginDrag,\n            }),\n            scrollEventThrottle,\n            onLayout: handleContentLayout,\n            scrollEnabled,\n            keyboardDismissMode,\n        };\n        if (flatListProps) {\n            return React.createElement(react_native_1.Animated.FlatList, Object.assign({}, flatListProps, opts));\n        }\n        if (sectionListProps) {\n            return React.createElement(react_native_1.Animated.SectionList, Object.assign({}, sectionListProps, opts));\n        }\n        if (customRenderer) {\n            const tag = renderElement(customRenderer);\n            return React.cloneElement(tag, Object.assign({}, opts));\n        }\n        return (React.createElement(react_native_1.Animated.ScrollView, Object.assign({}, scrollViewProps, opts), children));\n    };\n    const renderChildren = () => {\n        const style = adjustToContentHeight ? styles_1.default.content__adjustHeight : styles_1.default.content__container;\n        const minDist = libraries_1.isRNGH2() ? undefined : ACTIVATED;\n        return (React.createElement(react_native_gesture_handler_1.PanGestureHandler, { ref: panGestureChildrenRef, enabled: panGestureEnabled, simultaneousHandlers: [nativeViewChildrenRef, tapGestureModalizeRef], shouldCancelWhenOutside: false, onGestureEvent: handleGestureEvent, minDist: minDist, activeOffsetY: ACTIVATED, activeOffsetX: ACTIVATED, onHandlerStateChange: handleChildren },\n            React.createElement(react_native_1.Animated.View, { style: [style, childrenStyle] },\n                React.createElement(react_native_gesture_handler_1.NativeViewGestureHandler, { ref: nativeViewChildrenRef, waitFor: tapGestureModalizeRef, simultaneousHandlers: panGestureChildrenRef }, renderContent()))));\n    };\n    const renderOverlay = () => {\n        const pointerEvents = alwaysOpen && (modalPosition === 'initial' || !modalPosition) ? 'box-none' : 'auto';\n        return (React.createElement(react_native_gesture_handler_1.PanGestureHandler, { enabled: panGestureEnabled, simultaneousHandlers: tapGestureModalizeRef, shouldCancelWhenOutside: false, onGestureEvent: handleGestureEvent, onHandlerStateChange: handleChildren },\n            React.createElement(react_native_1.Animated.View, { style: styles_1.default.overlay, pointerEvents: pointerEvents }, showContent && (React.createElement(react_native_gesture_handler_1.TapGestureHandler, { ref: tapGestureOverlayRef, enabled: closeOnOverlayTap !== undefined ? closeOnOverlayTap : panGestureEnabled, onHandlerStateChange: handleOverlay },\n                React.createElement(react_native_1.Animated.View, { style: [\n                        styles_1.default.overlay__background,\n                        overlayStyle,\n                        {\n                            opacity: overlay.interpolate({\n                                inputRange: [0, 1],\n                                outputRange: [0, 1],\n                            }),\n                        },\n                    ], pointerEvents: pointerEvents }))))));\n    };\n    React.useImperativeHandle(ref, () => ({\n        open(dest) {\n            if (onOpen) {\n                onOpen();\n            }\n            handleAnimateOpen(alwaysOpen, dest);\n        },\n        close(dest, callback) {\n            handleClose(dest, callback);\n        },\n    }));\n    React.useEffect(() => {\n        if (alwaysOpen && (modalHeightValue || adjustToContentHeight)) {\n            handleAnimateOpen(alwaysOpen);\n        }\n    }, [alwaysOpen, modalHeightValue]);\n    React.useEffect(() => {\n        invariant_1.invariant(modalHeight && adjustToContentHeight, `You can't use both 'modalHeight' and 'adjustToContentHeight' props at the same time. Only choose one of the two.`);\n        invariant_1.invariant((scrollViewProps || children) && flatListProps, `You have defined 'flatListProps' along with 'scrollViewProps' or 'children' props. Remove 'scrollViewProps' or 'children' or 'flatListProps' to fix the error.`);\n        invariant_1.invariant((scrollViewProps || children) && sectionListProps, `You have defined 'sectionListProps'  along with 'scrollViewProps' or 'children' props. Remove 'scrollViewProps' or 'children' or 'sectionListProps' to fix the error.`);\n    }, [\n        modalHeight,\n        adjustToContentHeight,\n        scrollViewProps,\n        children,\n        flatListProps,\n        sectionListProps,\n    ]);\n    React.useEffect(() => {\n        setModalHeightValue(adjustValue);\n    }, [adjustToContentHeight, modalHeight, screenHeight]);\n    React.useEffect(() => {\n        let keyboardShowListener = null;\n        let keyboardHideListener = null;\n        const beginScrollYListener = beginScrollY.addListener(({ value }) => setBeginScrollYValue(value));\n        if (libraries_1.isBelowRN65) {\n            react_native_1.Keyboard.addListener('keyboardDidShow', handleKeyboardShow);\n            react_native_1.Keyboard.addListener('keyboardDidHide', handleKeyboardHide);\n        }\n        else {\n            keyboardShowListener = react_native_1.Keyboard.addListener('keyboardDidShow', handleKeyboardShow);\n            keyboardHideListener = react_native_1.Keyboard.addListener('keyboardDidHide', handleKeyboardHide);\n        }\n        return () => {\n            var _a;\n            (_a = backButtonListenerRef.current) === null || _a === void 0 ? void 0 : _a.remove();\n            beginScrollY.removeListener(beginScrollYListener);\n            if (libraries_1.isBelowRN65) {\n                react_native_1.Keyboard.removeListener('keyboardDidShow', handleKeyboardShow);\n                react_native_1.Keyboard.removeListener('keyboardDidHide', handleKeyboardHide);\n            }\n            else {\n                keyboardShowListener === null || keyboardShowListener === void 0 ? void 0 : keyboardShowListener.remove();\n                keyboardHideListener === null || keyboardHideListener === void 0 ? void 0 : keyboardHideListener.remove();\n            }\n        };\n    }, []);\n    const keyboardAvoidingViewProps = {\n        keyboardVerticalOffset: keyboardAvoidingOffset,\n        behavior: keyboardAvoidingBehavior,\n        enabled: avoidKeyboardLikeIOS,\n        style: [\n            styles_1.default.modalize__content,\n            modalStyle,\n            {\n                height: modalHeightValue,\n                maxHeight: endHeight,\n                transform: [\n                    {\n                        translateY: value.interpolate({\n                            inputRange: [-40, 0, endHeight],\n                            outputRange: [0, 0, endHeight],\n                            extrapolate: 'clamp',\n                        }),\n                    },\n                ],\n            },\n        ],\n    };\n    if (!avoidKeyboardLikeIOS && !adjustToContentHeight) {\n        keyboardAvoidingViewProps.onLayout = handleModalizeContentLayout;\n    }\n    const renderModalize = (React.createElement(react_native_1.View, { style: [styles_1.default.modalize, rootStyle], pointerEvents: alwaysOpen || !withOverlay ? 'box-none' : 'auto' },\n        React.createElement(react_native_gesture_handler_1.TapGestureHandler, { ref: tapGestureModalizeRef, maxDurationMs: tapGestureEnabled ? 100000 : 50, maxDeltaY: lastSnap, enabled: panGestureEnabled },\n            React.createElement(react_native_1.View, { style: styles_1.default.modalize__wrapper, pointerEvents: \"box-none\" },\n                showContent && (React.createElement(AnimatedKeyboardAvoidingView, Object.assign({}, keyboardAvoidingViewProps),\n                    renderHandle(),\n                    renderComponent(HeaderComponent, 'header'),\n                    renderChildren(),\n                    renderComponent(FooterComponent, 'footer'))),\n                withOverlay && renderOverlay())),\n        renderComponent(FloatingComponent, 'floating')));\n    const renderReactModal = (child) => (React.createElement(react_native_1.Modal, Object.assign({}, reactModalProps, { supportedOrientations: ['landscape', 'portrait', 'portrait-upside-down'], onRequestClose: handleBackPress, hardwareAccelerated: USE_NATIVE_DRIVER, visible: isVisible, transparent: true }), child));\n    if (!isVisible) {\n        return null;\n    }\n    if (withReactModal) {\n        return renderReactModal(renderModalize);\n    }\n    return renderModalize;\n};\nexports.Modalize = React.forwardRef(ModalizeBase);\n__exportStar(require(\"./utils/use-modalize\"), exports);\n"],"mappings":"AAAA,YAAY,CAAC,IAAAA,cAAA,CAAAC,OAAA,yCACb,GAAI,CAAAC,eAAe,CAAI,IAAI,EAAI,IAAI,CAACA,eAAe,GAAMC,MAAM,CAACC,MAAM,CAAI,SAASC,CAAC,CAAEC,CAAC,CAAEC,CAAC,CAAEC,EAAE,CAAE,CAC5F,GAAIA,EAAE,GAAKC,SAAS,CAAED,EAAE,CAAGD,CAAC,CAC5BJ,MAAM,CAACO,cAAc,CAACL,CAAC,CAAEG,EAAE,CAAE,CAAEG,UAAU,CAAE,IAAI,CAAEC,GAAG,CAAE,SAAAA,IAAA,CAAW,CAAE,MAAO,CAAAN,CAAC,CAACC,CAAC,CAAC,CAAE,CAAE,CAAC,CAAC,CACxF,CAAC,CAAK,SAASF,CAAC,CAAEC,CAAC,CAAEC,CAAC,CAAEC,EAAE,CAAE,CACxB,GAAIA,EAAE,GAAKC,SAAS,CAAED,EAAE,CAAGD,CAAC,CAC5BF,CAAC,CAACG,EAAE,CAAC,CAAGF,CAAC,CAACC,CAAC,CAAC,CAChB,CAAE,CAAC,CACH,GAAI,CAAAM,kBAAkB,CAAI,IAAI,EAAI,IAAI,CAACA,kBAAkB,GAAMV,MAAM,CAACC,MAAM,CAAI,SAASC,CAAC,CAAES,CAAC,CAAE,CAC3FX,MAAM,CAACO,cAAc,CAACL,CAAC,CAAE,SAAS,CAAE,CAAEM,UAAU,CAAE,IAAI,CAAEI,KAAK,CAAED,CAAE,CAAC,CAAC,CACvE,CAAC,CAAI,SAAST,CAAC,CAAES,CAAC,CAAE,CAChBT,CAAC,CAAC,SAAS,CAAC,CAAGS,CAAC,CACpB,CAAC,CAAC,CACF,GAAI,CAAAE,YAAY,CAAI,IAAI,EAAI,IAAI,CAACA,YAAY,EAAK,SAAUC,GAAG,CAAE,CAC7D,GAAIA,GAAG,EAAIA,GAAG,CAACC,UAAU,CAAE,MAAO,CAAAD,GAAG,CACrC,GAAI,CAAAE,MAAM,CAAG,CAAC,CAAC,CACf,GAAIF,GAAG,EAAI,IAAI,CAAE,IAAK,GAAI,CAAAV,CAAC,GAAI,CAAAU,GAAG,CAAE,GAAIV,CAAC,GAAK,SAAS,EAAIJ,MAAM,CAACiB,cAAc,CAACC,IAAI,CAACJ,GAAG,CAAEV,CAAC,CAAC,CAAEL,eAAe,CAACiB,MAAM,CAAEF,GAAG,CAAEV,CAAC,CAAC,CAC9HM,kBAAkB,CAACM,MAAM,CAAEF,GAAG,CAAC,CAC/B,MAAO,CAAAE,MAAM,CACjB,CAAC,CACD,GAAI,CAAAG,YAAY,CAAI,IAAI,EAAI,IAAI,CAACA,YAAY,EAAK,SAAShB,CAAC,CAAEiB,OAAO,CAAE,CACnE,IAAK,GAAI,CAAAC,CAAC,GAAI,CAAAlB,CAAC,CAAE,GAAIkB,CAAC,GAAK,SAAS,EAAI,CAACD,OAAO,CAACH,cAAc,CAACI,CAAC,CAAC,CAAEtB,eAAe,CAACqB,OAAO,CAAEjB,CAAC,CAAEkB,CAAC,CAAC,CACtG,CAAC,CACD,GAAI,CAAAC,eAAe,CAAI,IAAI,EAAI,IAAI,CAACA,eAAe,EAAK,SAAUR,GAAG,CAAE,CACnE,MAAQ,CAAAA,GAAG,EAAIA,GAAG,CAACC,UAAU,CAAID,GAAG,CAAG,CAAE,SAAS,CAAEA,GAAI,CAAC,CAC7D,CAAC,CACDd,MAAM,CAACO,cAAc,CAACa,OAAO,CAAE,YAAY,CAAE,CAAER,KAAK,CAAE,IAAK,CAAC,CAAC,CAC7DQ,OAAO,CAACG,QAAQ,CAAG,IAAK,EAAC,CAKzB,GAAM,CAAAC,KAAK,CAAGX,YAAY,CAACf,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAA2B,cAAA,CAAA3B,OAAA,gCAE7C,GAAM,CAAA4B,8BAA8B,CAAG5B,OAAO,CAAC,8BAA8B,CAAC,CAC9E,GAAM,CAAA6B,gBAAgB,CAAG7B,OAAO,CAAC,wBAAwB,CAAC,CAC1D,GAAM,CAAA8B,mBAAmB,CAAG9B,OAAO,CAAC,2BAA2B,CAAC,CAChE,GAAM,CAAA+B,SAAS,CAAG/B,OAAO,CAAC,iBAAiB,CAAC,CAC5C,GAAM,CAAAgC,WAAW,CAAGhC,OAAO,CAAC,mBAAmB,CAAC,CAChD,GAAM,CAAAiC,WAAW,CAAGjC,OAAO,CAAC,mBAAmB,CAAC,CAChD,GAAM,CAAAkC,cAAc,CAAGlC,OAAO,CAAC,sBAAsB,CAAC,CACtD,GAAM,CAAAmC,QAAQ,CAAGX,eAAe,CAACxB,OAAO,CAAC,UAAU,CAAC,CAAC,CACrD,GAAM,CAAAoC,4BAA4B,CAAGT,cAAc,CAACU,QAAQ,CAACC,uBAAuB,CAACX,cAAc,CAACY,oBAAoB,CAAC,CAMzH,GAAM,CAAAC,gBAAgB,CAAG,CAAC,CAAC,CAC3B,GAAM,CAAAC,iBAAiB,CAAG,IAAI,CAC9B,GAAM,CAAAC,SAAS,CAAG,EAAE,CACpB,GAAM,CAAAC,YAAY,CAAG,GAAG,CACxB,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CA+BqFC,GAAG,CAAK,IA7B/G,CAAAC,UAAU,CAAAF,IAAA,CAAVE,UAAU,CAEVC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CAAEC,eAAe,CAAAJ,IAAA,CAAfI,eAAe,CAAEC,aAAa,CAAAL,IAAA,CAAbK,aAAa,CAAEC,gBAAgB,CAAAN,IAAA,CAAhBM,gBAAgB,CAAEC,cAAc,CAAAP,IAAA,CAAdO,cAAc,CAE1EC,SAAS,CAAAR,IAAA,CAATQ,SAAS,CAAEC,UAAU,CAAAT,IAAA,CAAVS,UAAU,CAAEC,WAAW,CAAAV,IAAA,CAAXU,WAAW,CAAEC,YAAY,CAAAX,IAAA,CAAZW,YAAY,CAAEC,aAAa,CAAAZ,IAAA,CAAbY,aAAa,CAE/DC,SAAS,CAAAb,IAAA,CAATa,SAAS,CAAEC,WAAW,CAAAd,IAAA,CAAXc,WAAW,CAAAC,mBAAA,CAAAf,IAAA,CAAEgB,cAAc,CAAdA,cAAc,CAAAD,mBAAA,UAAGjC,cAAc,CAACmC,QAAQ,CAACC,MAAM,CAAC,CACpEC,GAAG,CAAE,CAAC,CACNC,OAAO,CAAEtC,cAAc,CAACuC,SAAS,CAACC,aAAa,EAAI,CAAC,CACpDC,OAAO,CAAE,CACb,CAAC,CAAC,CAAAR,mBAAA,CAAES,UAAU,CAAAxB,IAAA,CAAVwB,UAAU,CAAAC,qBAAA,CAAAzB,IAAA,CAAE0B,qBAAqB,CAArBA,qBAAqB,CAAAD,qBAAA,UAAG,KAAK,CAAAA,qBAAA,CAAAE,mBAAA,CAAA3B,IAAA,CAE7C4B,cAAc,CAAdA,cAAc,CAAAD,mBAAA,UAAG,SAAS,CAAAA,mBAAA,CAAAE,qBAAA,CAAA7B,IAAA,CAAE8B,uBAAuB,CAAvBA,uBAAuB,CAAAD,qBAAA,UAAG,IAAI,CAAAA,qBAAA,CAAAE,qBAAA,CAAA/B,IAAA,CAAEgC,oBAAoB,CAApBA,oBAAoB,CAAAD,qBAAA,UAAGjD,cAAc,CAACmC,QAAQ,CAACC,MAAM,CAAC,CAC9GC,GAAG,CAAE,IAAI,CACTC,OAAO,CAAE,KAAK,CACdG,OAAO,CAAE,IACb,CAAC,CAAC,CAAAQ,qBAAA,CAAAE,qBAAA,CAAAjC,IAAA,CAAEkC,wBAAwB,CAAxBA,wBAAwB,CAAAD,qBAAA,UAAG,SAAS,CAAAA,qBAAA,CAAEE,sBAAsB,CAAAnC,IAAA,CAAtBmC,sBAAsB,CAAAC,qBAAA,CAAApC,IAAA,CAAEqC,iBAAiB,CAAjBA,iBAAiB,CAAAD,qBAAA,UAAG,IAAI,CAAAA,qBAAA,CAAAE,qBAAA,CAAAtC,IAAA,CAAEuC,0BAA0B,CAA1BA,0BAA0B,CAAAD,qBAAA,UAAG,KAAK,CAAAA,qBAAA,CAAAE,qBAAA,CAAAxC,IAAA,CAAEyC,iBAAiB,CAAjBA,iBAAiB,CAAAD,qBAAA,UAAG,IAAI,CAAAA,qBAAA,CAAAE,qBAAA,CAAA1C,IAAA,CAAE2C,iBAAiB,CAAjBA,iBAAiB,CAAAD,qBAAA,UAAG,IAAI,CAAAA,qBAAA,CAAAE,qBAAA,CAAA5C,IAAA,CAAE6C,6BAA6B,CAA7BA,6BAA6B,CAAAD,qBAAA,UAAG,IAAI,CAAAA,qBAAA,CAAAE,qBAAA,CAAA9C,IAAA,CAExN+C,mBAAmB,CAAnBA,mBAAmB,CAAAD,qBAAA,UAAG,CAClBE,MAAM,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAEpE,cAAc,CAACqE,MAAM,CAACC,IAAK,CAAC,CAC7DC,MAAM,CAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,UAAU,CAAE,CAAE,CACvC,CAAC,CAAAT,qBAAA,CAAAU,qBAAA,CAAAxD,IAAA,CAAEyD,oBAAoB,CAApBA,oBAAoB,CAAAD,qBAAA,UAAG,CACtBR,MAAM,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAEpE,cAAc,CAACqE,MAAM,CAACC,IAAK,CAChE,CAAC,CAAAI,qBAAA,CAAAE,aAAA,CAAA1D,IAAA,CAAE2D,QAAQ,CAARA,QAAQ,CAAAD,aAAA,UAAG,IAAI,CAAAA,aAAA,CAAAE,cAAA,CAAA5D,IAAA,CAAE6D,SAAS,CAATA,SAAS,CAAAD,cAAA,UAAG,GAAG,CAAAA,cAAA,CAAAE,aAAA,CAAA9D,IAAA,CAAE+D,QAAQ,CAARA,QAAQ,CAAAD,aAAA,UAAG,IAAI,CAAAA,aAAA,CAAEE,uBAAuB,CAAAhE,IAAA,CAAvBgE,uBAAuB,CAAAC,oBAAA,CAAAjE,IAAA,CAAEkE,eAAe,CAAfA,eAAe,CAAAD,oBAAA,UAAG,IAAI,CAAAA,oBAAA,CAAAE,mBAAA,CAAAnE,IAAA,CAErGoE,cAAc,CAAdA,cAAc,CAAAD,mBAAA,UAAG,KAAK,CAAAA,mBAAA,CAAEE,eAAe,CAAArE,IAAA,CAAfqE,eAAe,CAAAC,eAAA,CAAAtE,IAAA,CAAEuE,UAAU,CAAVA,UAAU,CAAAD,eAAA,UAAG,IAAI,CAAAA,eAAA,CAAAE,gBAAA,CAAAxE,IAAA,CAAEyE,WAAW,CAAXA,WAAW,CAAAD,gBAAA,UAAG,IAAI,CAAAA,gBAAA,CAE9EE,eAAe,CAAA1E,IAAA,CAAf0E,eAAe,CAAEC,eAAe,CAAA3E,IAAA,CAAf2E,eAAe,CAAEC,iBAAiB,CAAA5E,IAAA,CAAjB4E,iBAAiB,CAEnDC,MAAM,CAAA7E,IAAA,CAAN6E,MAAM,CAAEC,QAAQ,CAAA9E,IAAA,CAAR8E,QAAQ,CAAEC,OAAO,CAAA/E,IAAA,CAAP+E,OAAO,CAAEC,QAAQ,CAAAhF,IAAA,CAARgF,QAAQ,CAAEC,iBAAiB,CAAAjF,IAAA,CAAjBiF,iBAAiB,CAAEC,gBAAgB,CAAAlF,IAAA,CAAhBkF,gBAAgB,CAAEC,cAAc,CAAAnF,IAAA,CAAdmF,cAAc,CAAEC,QAAQ,CAAApF,IAAA,CAARoF,QAAQ,CAC9F,IAAAC,qBAAA,CAAiCrG,gBAAgB,CAACsG,aAAa,CAAC,CAAC,CAAjDC,YAAY,CAAAF,qBAAA,CAApBG,MAAM,CACd,GAAM,CAAAC,eAAe,CAAG7D,cAAc,GAAK,SAAS,CACpD,GAAM,CAAA8D,YAAY,CAAGnB,UAAU,CAAG,EAAE,CAAGkB,eAAe,CAAG,EAAE,CAAG,EAAE,CAChE,GAAM,CAAAE,UAAU,CAAGJ,YAAY,CAAGvE,cAAc,CAChD,GAAM,CAAA4E,cAAc,CAAGD,UAAU,CAAGD,YAAY,EAAIxG,SAAS,CAAC2G,SAAS,CAAG,EAAE,CAAG,CAAC,CAAC,CACjF,GAAM,CAAAC,SAAS,CAAGhF,WAAW,EAAI8E,cAAc,CAC/C,GAAM,CAAAG,WAAW,CAAGrE,qBAAqB,CAAG/D,SAAS,CAAGmI,SAAS,CACjE,GAAM,CAAAE,KAAK,CAAGnF,SAAS,CAAG,CAAC,CAAC,CAAEiF,SAAS,CAAGjF,SAAS,CAAEiF,SAAS,CAAC,CAAG,CAAC,CAAC,CAAEA,SAAS,CAAC,CAChF,IAAAG,eAAA,CAAgDpH,KAAK,CAACqH,QAAQ,CAACH,WAAW,CAAC,CAAAI,gBAAA,CAAAjJ,cAAA,CAAA+I,eAAA,IAApEG,gBAAgB,CAAAD,gBAAA,IAAEE,mBAAmB,CAAAF,gBAAA,IAC5C,IAAAG,gBAAA,CAAgCzH,KAAK,CAACqH,QAAQ,CAACrF,SAAS,CAAGiF,SAAS,CAAGjF,SAAS,CAAG,CAAC,CAAC,CAAA0F,gBAAA,CAAArJ,cAAA,CAAAoJ,gBAAA,IAA9EE,QAAQ,CAAAD,gBAAA,IAAEE,WAAW,CAAAF,gBAAA,IAC5B,IAAAG,gBAAA,CAAkC7H,KAAK,CAACqH,QAAQ,CAAC,KAAK,CAAC,CAAAS,gBAAA,CAAAzJ,cAAA,CAAAwJ,gBAAA,IAAhDE,SAAS,CAAAD,gBAAA,IAAEE,YAAY,CAAAF,gBAAA,IAC9B,IAAAG,gBAAA,CAAsCjI,KAAK,CAACqH,QAAQ,CAAC,IAAI,CAAC,CAAAa,gBAAA,CAAA7J,cAAA,CAAA4J,gBAAA,IAAnDE,WAAW,CAAAD,gBAAA,IAAEE,cAAc,CAAAF,gBAAA,IAClC,IAAAG,gBAAA,CAA0CrI,KAAK,CAACqH,QAAQ,CAAC,IAAI,CAAC,CAAAiB,iBAAA,CAAAjK,cAAA,CAAAgK,gBAAA,IAAvDE,aAAa,CAAAD,iBAAA,IAAEE,gBAAgB,CAAAF,iBAAA,IACtC,IAAAG,iBAAA,CAA4CzI,KAAK,CAACqH,QAAQ,CAAC,KAAK,CAAC,CAAAqB,iBAAA,CAAArK,cAAA,CAAAoK,iBAAA,IAA1DE,cAAc,CAAAD,iBAAA,IAAEE,iBAAiB,CAAAF,iBAAA,IACxC,IAAAG,iBAAA,CAA4C7I,KAAK,CAACqH,QAAQ,CAAC,CAAC,CAAC,CAAAyB,iBAAA,CAAAzK,cAAA,CAAAwK,iBAAA,IAAtDE,cAAc,CAAAD,iBAAA,IAAEE,iBAAiB,CAAAF,iBAAA,IACxC,IAAAG,iBAAA,CAA0CjJ,KAAK,CAACqH,QAAQ,CAAC1E,UAAU,EAAIX,SAAS,CAAG,IAAI,CAAGlD,SAAS,CAAC,CAAAoK,iBAAA,CAAA7K,cAAA,CAAA4K,iBAAA,IAA7FE,aAAa,CAAAD,iBAAA,IAAEE,gBAAgB,CAAAF,iBAAA,IACtC,IAAAG,iBAAA,CAAkDrJ,KAAK,CAACqH,QAAQ,CAAC,CAAC,CAAC,CAAAiC,iBAAA,CAAAjL,cAAA,CAAAgL,iBAAA,IAA5DE,iBAAiB,CAAAD,iBAAA,IAAEE,oBAAoB,CAAAF,iBAAA,IAC9C,IAAAG,iBAAA,CAA0CzJ,KAAK,CAACqH,QAAQ,CAAC,SAAS,CAAC,CAAAqC,iBAAA,CAAArL,cAAA,CAAAoL,iBAAA,IAA5DE,aAAa,CAAAD,iBAAA,IAAEE,gBAAgB,CAAAF,iBAAA,IACtC,IAAAG,iBAAA,CAAsC7J,KAAK,CAACqH,QAAQ,CAAC,KAAK,CAAC,CAAAyC,iBAAA,CAAAzL,cAAA,CAAAwL,iBAAA,IAApDE,WAAW,CAAAD,iBAAA,IAAEE,cAAc,CAAAF,iBAAA,IAClC,IAAAG,iBAAA,CAA8BjK,KAAK,CAACqH,QAAQ,CAAC,GAAI,CAAA6C,GAAG,CAAC,CAAC,CAAC,CAAAC,iBAAA,CAAA9L,cAAA,CAAA4L,iBAAA,IAAhDG,OAAO,CAAAD,iBAAA,IAAEE,UAAU,CAAAF,iBAAA,IAC1B,GAAM,CAAAG,gBAAgB,CAAGtK,KAAK,CAACuK,MAAM,CAAC,GAAI,CAAAtK,cAAc,CAACU,QAAQ,CAAC6J,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CACnF,GAAM,CAAAC,mBAAmB,CAAG1K,KAAK,CAACuK,MAAM,CAAC,GAAI,CAAAtK,cAAc,CAACU,QAAQ,CAAC6J,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CACtF,GAAM,CAAAE,OAAO,CAAG3K,KAAK,CAACuK,MAAM,CAAC,GAAI,CAAAtK,cAAc,CAACU,QAAQ,CAAC6J,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CAC1E,GAAM,CAAAG,YAAY,CAAG5K,KAAK,CAACuK,MAAM,CAAC,GAAI,CAAAtK,cAAc,CAACU,QAAQ,CAAC6J,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CAC/E,GAAM,CAAAI,KAAK,CAAG7K,KAAK,CAACuK,MAAM,CAAC,GAAI,CAAAtK,cAAc,CAACU,QAAQ,CAAC6J,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CACxE,GAAM,CAAAK,UAAU,CAAG9K,KAAK,CAACuK,MAAM,CAAC,GAAI,CAAAtK,cAAc,CAACU,QAAQ,CAAC6J,KAAK,CAAC9D,YAAY,CAAC,CAAC,CAAC+D,OAAO,CACxF,GAAM,CAAAM,mBAAmB,CAAG/K,KAAK,CAACuK,MAAM,CAACtK,cAAc,CAACU,QAAQ,CAACqK,QAAQ,CAAC,GAAI,CAAA/K,cAAc,CAACU,QAAQ,CAAC6J,KAAK,CAAC,CAAC,CAAC,CAAC,CAAEI,YAAY,CAAC,CAAC,CAC1HH,OAAO,CACZ,GAAM,CAAAQ,qBAAqB,CAAGjL,KAAK,CAACuK,MAAM,CAAC,IAAI,CAAC,CAChD,GAAM,CAAAW,qBAAqB,CAAGlL,KAAK,CAACuK,MAAM,CAAC,IAAI,CAAC,CAChD,GAAM,CAAAY,qBAAqB,CAAGnL,KAAK,CAACuK,MAAM,CAAC,IAAI,CAAC,CAChD,GAAM,CAAAa,cAAc,CAAGpL,KAAK,CAACuK,MAAM,CAAC,IAAI,CAAC,CACzC,GAAM,CAAAc,oBAAoB,CAAGrL,KAAK,CAACuK,MAAM,CAAC,IAAI,CAAC,CAC/C,GAAM,CAAAe,qBAAqB,CAAGtL,KAAK,CAACuK,MAAM,CAAC,IAAI,CAAC,CAGhD,GAAM,CAAAgB,SAAS,CAAGtL,cAAc,CAACU,QAAQ,CAAC4K,SAAS,CAACR,mBAAmB,CAAE,CAACrE,YAAY,CAAE,CAAC,CAAC,CAC1F,GAAM,CAAA8E,oBAAoB,CAAGd,mBAAmB,CAACe,MAAM,GAAK,CAAC,CAG7D,GAAM,CAAAC,SAAS,CAAGzL,cAAc,CAACU,QAAQ,CAACgL,GAAG,CAAC1L,cAAc,CAACU,QAAQ,CAACqK,QAAQ,CAACH,KAAK,CAAEW,oBAAoB,CAAG,CAAC,CAAGlB,gBAAgB,CAAC,CAAEiB,SAAS,CAAC,CAC9I,GAAM,CAAAnM,KAAK,CAAGa,cAAc,CAACU,QAAQ,CAACgL,GAAG,CAAC1L,cAAc,CAACU,QAAQ,CAACqK,QAAQ,CAACF,UAAU,CAAEU,oBAAoB,CAAG,CAAC,CAAGlB,gBAAgB,CAAC,CAAEoB,SAAS,CAAC,CAC/I,GAAI,CAAAE,iBAAiB,CAAG,KAAK,CAC7B,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC1B,GAAIlJ,UAAU,CAAE,CACZ,MAAO,MAAK,CAChB,CACA,GAAIyD,iBAAiB,CAAE,CACnB,MAAO,CAAAA,iBAAiB,CAAC,CAAC,CAC9B,CAAC,IACI,CACD0F,WAAW,CAAC,CAAC,CACjB,CACA,MAAO,KAAI,CACf,CAAC,CACD,GAAM,CAAAC,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,KAAK,CAAK,CAClC,GAAQ,CAAArF,MAAM,CAAKqF,KAAK,CAACC,cAAc,CAA/BtF,MAAM,CACdiC,iBAAiB,CAAC,IAAI,CAAC,CACvBI,iBAAiB,CAACrC,MAAM,CAAC,CAC7B,CAAC,CACD,GAAM,CAAAuF,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC7BtD,iBAAiB,CAAC,KAAK,CAAC,CACxBI,iBAAiB,CAAC,CAAC,CAAC,CACxB,CAAC,CACD,GAAM,CAAAmD,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,eAAe,CAAuB,IAArB,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAxN,SAAA,CAAAwN,SAAA,IAAG,SAAS,CACxD,GAAQ,CAAAnI,MAAM,CAAaD,mBAAmB,CAAtCC,MAAM,CAAEK,MAAM,CAAKN,mBAAmB,CAA9BM,MAAM,CACtB8G,qBAAqB,CAACb,OAAO,CAAGxK,cAAc,CAACuM,WAAW,CAACC,gBAAgB,CAAC,mBAAmB,CAAEZ,eAAe,CAAC,CACjH,GAAI,CAAAa,OAAO,CAAG,CAAC,CACf,GAAI,CAAAC,UAAU,CAAG,CAAC,CAClB,GAAI,CAAAC,WAAW,CACf,GAAIP,IAAI,GAAK,KAAK,CAAE,CAChBK,OAAO,CAAG,CAAC,CACf,CAAC,IACI,IAAIN,eAAe,CAAE,CACtBM,OAAO,CAAG,CAACnF,gBAAgB,EAAI,CAAC,EAAI6E,eAAe,CACvD,CAAC,IACI,IAAIpK,SAAS,CAAE,CAChB0K,OAAO,CAAG,CAACnF,gBAAgB,EAAI,CAAC,EAAIvF,SAAS,CACjD,CACA,GAAImD,uBAAuB,GAAKiH,eAAe,EAAIpK,SAAS,CAAC,CAAE,CAC3D2K,UAAU,CAAG,CAAC,CAClB,CAAC,IACI,IAAIxH,uBAAuB,EAC5B,CAACiH,eAAe,GACfC,IAAI,GAAK,KAAK,EAAIA,IAAI,GAAK,SAAS,CAAC,CAAE,CACxCM,UAAU,CAAG,CAAC,CAClB,CACA3E,YAAY,CAAC,IAAI,CAAC,CAClBI,cAAc,CAAC,IAAI,CAAC,CACpB,GAAKgE,eAAe,EAAIC,IAAI,GAAK,KAAK,EAAMrK,SAAS,EAAIqK,IAAI,GAAK,SAAU,CAAE,CAC1EO,WAAW,CAAG,SAAS,CAC3B,CAAC,IACI,CACDA,WAAW,CAAG,KAAK,CACvB,CACA3M,cAAc,CAACU,QAAQ,CAACkM,QAAQ,CAAC,CAC7B5M,cAAc,CAACU,QAAQ,CAACwD,MAAM,CAACwG,OAAO,CAAE,CACpC+B,OAAO,CAAEN,eAAe,EAAIC,IAAI,GAAK,SAAS,CAAG,CAAC,CAAG,CAAC,CACtDjI,QAAQ,CAAED,MAAM,CAACC,QAAQ,CACzBC,MAAM,CAAEpE,cAAc,CAACqE,MAAM,CAACC,IAAI,CAClCc,eAAe,CAAEtE,iBACrB,CAAC,CAAC,CACFoE,uBAAuB,CACjBlF,cAAc,CAACU,QAAQ,CAACwD,MAAM,CAACgB,uBAAuB,CAAE,CACtDuH,OAAO,CAAEC,UAAU,CACnBvI,QAAQ,CAAEnD,YAAY,CACtBoD,MAAM,CAAEpE,cAAc,CAACqE,MAAM,CAACC,IAAI,CAClCc,eAAe,CAAfA,eACJ,CAAC,CAAC,CACApF,cAAc,CAACU,QAAQ,CAACmM,KAAK,CAAC,CAAC,CAAC,CACtCtI,MAAM,CACAvE,cAAc,CAACU,QAAQ,CAAC6D,MAAM,CAACsG,UAAU,CAAEtM,MAAM,CAACuO,MAAM,CAACvO,MAAM,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAE3M,mBAAmB,CAAC4M,eAAe,CAACxI,MAAM,CAAC,CAAC,CAAE,CAAEkI,OAAO,CAAPA,OAAO,CAAErH,eAAe,CAAEtE,iBAAkB,CAAC,CAAC,CAAC,CAC1Kd,cAAc,CAACU,QAAQ,CAACwD,MAAM,CAAC2G,UAAU,CAAE,CACzC4B,OAAO,CAAPA,OAAO,CACPtI,QAAQ,CAAED,MAAM,CAACC,QAAQ,CACzBC,MAAM,CAAEF,MAAM,CAACE,MAAM,CACrBgB,eAAe,CAAEtE,iBACrB,CAAC,CAAC,CACT,CAAC,CAACkM,KAAK,CAAC,UAAM,CACX,GAAIhH,QAAQ,CAAE,CACVA,QAAQ,CAAC,CAAC,CACd,CACA2D,gBAAgB,CAACgD,WAAW,CAAC,CAC7B,GAAIvG,gBAAgB,CAAE,CAClBA,gBAAgB,CAACuG,WAAW,CAAC,CACjC,CACJ,CAAC,CAAC,CACN,CAAC,CACD,GAAM,CAAAM,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAmC,IAA/B,CAAAb,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAxN,SAAA,CAAAwN,SAAA,IAAG,SAAS,IAAE,CAAAa,QAAQ,CAAAb,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAxN,SAAA,CAClD,GAAI,CAAAsO,EAAE,CACN,GAAQ,CAAAjJ,MAAM,CAAaS,oBAAoB,CAAvCT,MAAM,CAAEK,MAAM,CAAKI,oBAAoB,CAA/BJ,MAAM,CACtB,GAAM,CAAA6I,aAAa,CAAGrL,SAAS,CAAGmF,KAAK,CAAC,CAAC,CAAC,CAAG,EAAE,CAC/C,GAAM,CAAAmG,mBAAmB,CAAGjB,IAAI,GAAK,YAAY,EAAIkB,OAAO,CAAC5K,UAAU,CAAC,CACxE,GAAM,CAAA+J,OAAO,CAAGY,mBAAmB,EAAI3K,UAAU,CAAG,CAAC4E,gBAAgB,EAAI,CAAC,EAAI5E,UAAU,CAAG+D,YAAY,CACvG,CAAC0G,EAAE,CAAG9B,qBAAqB,CAACb,OAAO,IAAM,IAAI,EAAI2C,EAAE,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,EAAE,CAACI,MAAM,CAAC,CAAC,CACrFlD,gBAAgB,CAACmD,QAAQ,CAAC,CAAC,CAAC,CAC5BjE,oBAAoB,CAAC,CAAC,CAAC,CACvBoB,YAAY,CAAC6C,QAAQ,CAAC,CAAC,CAAC,CACxBxN,cAAc,CAACU,QAAQ,CAACkM,QAAQ,CAAC,CAC7B5M,cAAc,CAACU,QAAQ,CAACwD,MAAM,CAACwG,OAAO,CAAE,CACpC+B,OAAO,CAAE,CAAC,CACVtI,QAAQ,CAAED,MAAM,CAACC,QAAQ,CACzBC,MAAM,CAAEpE,cAAc,CAACqE,MAAM,CAACC,IAAI,CAClCc,eAAe,CAAEtE,iBACrB,CAAC,CAAC,CACFoE,uBAAuB,CACjBlF,cAAc,CAACU,QAAQ,CAACwD,MAAM,CAACgB,uBAAuB,CAAE,CACtDuH,OAAO,CAAE,CAAC,CACVtI,QAAQ,CAAEnD,YAAY,CACtBoD,MAAM,CAAEpE,cAAc,CAACqE,MAAM,CAACC,IAAI,CAClCc,eAAe,CAAfA,eACJ,CAAC,CAAC,CACApF,cAAc,CAACU,QAAQ,CAACmM,KAAK,CAAC,CAAC,CAAC,CACtCtI,MAAM,CACAvE,cAAc,CAACU,QAAQ,CAAC6D,MAAM,CAACsG,UAAU,CAAEtM,MAAM,CAACuO,MAAM,CAACvO,MAAM,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAE3M,mBAAmB,CAAC4M,eAAe,CAACxI,MAAM,CAAC,CAAC,CAAE,CAAEkI,OAAO,CAAPA,OAAO,CAAErH,eAAe,CAAEtE,iBAAkB,CAAC,CAAC,CAAC,CAC1Kd,cAAc,CAACU,QAAQ,CAACwD,MAAM,CAAC2G,UAAU,CAAE,CACzC1G,QAAQ,CAAED,MAAM,CAACC,QAAQ,CACzBC,MAAM,CAAEpE,cAAc,CAACqE,MAAM,CAACoJ,GAAG,CAACzN,cAAc,CAACqE,MAAM,CAACC,IAAI,CAAC,CAC7DmI,OAAO,CAAPA,OAAO,CACPrH,eAAe,CAAEtE,iBACrB,CAAC,CAAC,CACT,CAAC,CAACkM,KAAK,CAAC,UAAM,CACX,GAAI9G,QAAQ,CAAE,CACVA,QAAQ,CAAC,CAAC,CACd,CACA,GAAIgH,QAAQ,CAAE,CACVA,QAAQ,CAAC,CAAC,CACd,CACA,GAAIxK,UAAU,EAAI0J,IAAI,GAAK,YAAY,EAAIhG,gBAAgB,CAAE,CACzDA,gBAAgB,CAAC,SAAS,CAAC,CAC/B,CACA,GAAI1D,UAAU,EAAI0J,IAAI,GAAK,YAAY,CAAE,CACrCzC,gBAAgB,CAAC,SAAS,CAAC,CAC/B,CACAxB,cAAc,CAACkF,mBAAmB,CAAC,CACnCxC,UAAU,CAAC2C,QAAQ,CAACf,OAAO,CAAC,CAC5B7B,KAAK,CAAC4C,QAAQ,CAAC,CAAC,CAAC,CACjB7B,iBAAiB,CAAG,KAAK,CACzBhE,WAAW,CAACyF,aAAa,CAAC,CAC1BrF,YAAY,CAACsF,mBAAmB,CAAC,CACrC,CAAC,CAAC,CACN,CAAC,CACD,GAAM,CAAAK,2BAA2B,CAAG,QAA9B,CAAAA,2BAA2BA,CAAAC,KAAA,CAAoC,IAAf,CAAAC,MAAM,CAAAD,KAAA,CAArBE,WAAW,CAAID,MAAM,CACxD,GAAM,CAAAzO,KAAK,CAAG2O,IAAI,CAACC,GAAG,CAACH,MAAM,CAAClH,MAAM,EAAI,CAAC9D,qBAAqB,EAAIkG,cAAc,CAAG8E,MAAM,CAACI,CAAC,CAAG,CAAC,CAAC,CAAEhH,SAAS,CACvGhH,cAAc,CAACmC,QAAQ,CAACC,MAAM,CAAC,CAC3BC,GAAG,CAAE,CAAC,CACNC,OAAO,CAAEwG,cAAc,CACvBrG,OAAO,CAAE,CACb,CAAC,CAAC,CAAC,CACP8E,mBAAmB,CAACpI,KAAK,CAAC,CAC9B,CAAC,CACD,GAAM,CAAA8O,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,SAAS,CAAExH,MAAM,CAAK,CAC5C0D,UAAU,CAAC,GAAI,CAAAH,GAAG,CAACE,OAAO,CAACgE,GAAG,CAACD,SAAS,CAAExH,MAAM,CAAC,CAAC,CAAC,CACnD,GAAM,CAAA0H,GAAG,CAAGC,KAAK,CAACC,IAAI,CAACnE,OAAO,CAAC,CAACoE,MAAM,CAAC,SAACC,GAAG,CAAEC,GAAG,QAAK,CAAAD,GAAG,EAAIC,GAAG,GAAK,IAAI,EAAIA,GAAG,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,GAAG,CAAC,CAAC,CAAC,CAAC,GAAE,CAAC,CAAC,CACjH,GAAM,CAAAC,QAAQ,CAAG,CAACN,GAAG,CAACO,OAAO,CAAC,CAAC,CAAC,CAChC,GAAM,CAAAC,cAAc,CAAG,CAAC5H,SAAS,CAAC2H,OAAO,CAAC,CAAC,CAAC,CAC5C,GAAM,CAAAE,aAAa,CAAGH,QAAQ,CAAGE,cAAc,CAC/CzF,gBAAgB,CAAC0F,aAAa,EAAI7L,uBAAuB,CAAC,CAC9D,CAAC,CACD,GAAM,CAAA8L,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,KAAA,CAAwB,IAAlB,CAAAlB,WAAW,CAAAkB,KAAA,CAAXlB,WAAW,CACtC,GAAIvH,QAAQ,CAAE,CACVA,QAAQ,CAACuH,WAAW,CAAC,CACzB,CACA,GAAInL,UAAU,EAAIE,qBAAqB,CAAE,CACrC,GAAQ,CAAA8D,MAAM,CAAKmH,WAAW,CAACD,MAAM,CAA7BlH,MAAM,CACd,MAAO,CAAAa,mBAAmB,CAACb,MAAM,CAAC,CACtC,CAEA,GAAI,CAAC9D,qBAAqB,CAAE,CACxB,OACJ,CACAqL,gBAAgB,CAAC,SAAS,CAAEJ,WAAW,CAACD,MAAM,CAAClH,MAAM,CAAC,CAC1D,CAAC,CACD,GAAM,CAAAsI,qBAAqB,CAAG,QAAxB,CAAAA,qBAAqBA,CAAAC,KAAA,CAAqBC,IAAI,CAAEC,QAAQ,CAAK,IAAlC,CAAAtB,WAAW,CAAAoB,KAAA,CAAXpB,WAAW,CAMxC,GAAI,CAACjL,qBAAqB,EAAIuM,QAAQ,CAAE,CACpC,OACJ,CACAlB,gBAAgB,CAACiB,IAAI,CAAErB,WAAW,CAACD,MAAM,CAAClH,MAAM,CAAC,CACrD,CAAC,CACD,GAAM,CAAAmF,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIO,IAAI,CAAEc,QAAQ,CAAK,CACpC,GAAIjH,OAAO,CAAE,CACTA,OAAO,CAAC,CAAC,CACb,CACAgH,kBAAkB,CAACb,IAAI,CAAEc,QAAQ,CAAC,CACtC,CAAC,CACD,GAAM,CAAAkC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAAC,KAAA,CAAqBC,IAAI,CAAK,IAAxB,CAAAzB,WAAW,CAAAwB,KAAA,CAAXxB,WAAW,CACjC,GAAQ,CAAA3J,MAAM,CAAKS,oBAAoB,CAA/BT,MAAM,CACd,GAAQ,CAAAqL,SAAS,CAAmB1B,WAAW,CAAvC0B,SAAS,CAAEC,YAAY,CAAK3B,WAAW,CAA5B2B,YAAY,CAC/B,GAAM,CAAAC,qBAAqB,CAAG/F,aAAa,GAAK,KAAK,EACjDJ,iBAAiB,GAAKvH,SAAS,CAAG,CAAC,CAAGlB,gBAAgB,CAAC,EACvD2O,YAAY,CAAG,CAAC,CACpB,GAAM,CAAAE,cAAc,CAAGF,YAAY,CAAGzK,SAAS,EAAIuE,iBAAiB,GAAK,CAAC,CAC1E,GAAM,CAAAqG,cAAc,CAAG1K,QAAQ,CACxBqE,iBAAiB,EAAI,EAAE,EAAIiG,SAAS,EAAItK,QAAQ,EAAKyK,cAAc,CACpEA,cAAc,CACpB,GAAI,CAAAE,kBAAkB,CAAG,IAAI,CAE7B,GAAIN,IAAI,GAAK,WAAW,EAAIjF,gBAAgB,CAACmB,MAAM,GAAK,CAAC,CAAE,CACvDf,mBAAmB,CAAC+C,QAAQ,CAAC,CAAC,CAAC,CACnC,CAKA,GAAIK,WAAW,CAACgC,QAAQ,GAAK5P,8BAA8B,CAAC6P,KAAK,CAACC,KAAK,CAAE,CACrEhG,cAAc,CAAC,KAAK,CAAC,CACrB,GAAI,CAAChG,6BAA6B,EAAIhC,SAAS,CACzCuH,iBAAiB,CAAG,CAAC,CACrBA,iBAAiB,CAAG,CAAC,EAAImG,qBAAqB,CAAE,CAClD1F,cAAc,CAAC,IAAI,CAAC,CACpBc,UAAU,CAAC2C,QAAQ,CAAC,CAAC,CAAC,CACtB5C,KAAK,CAAC4C,QAAQ,CAAC,CAAC,CAAC,CACjBnD,gBAAgB,CAACmD,QAAQ,CAAC,CAAC,CAAC,CAC5BoC,kBAAkB,CAAG,IAAI,CAC7B,CAAC,IACI,CACDvF,gBAAgB,CAACmD,QAAQ,CAAC,CAAC,CAAC,CAC5BoC,kBAAkB,CAAG,KAAK,CAC1B,GAAI,CAACjM,iBAAiB,CAAE,CACpBwF,gBAAgB,CAAC,CAACmE,OAAO,CAACvL,SAAS,CAAC,EAAIuL,OAAO,CAAC5K,UAAU,CAAC,GAAKgH,aAAa,GAAK,SAAS,CAAC,CAChG,CACJ,CACJ,CACAnB,gBAAgB,CAACnI,SAAS,CAAC4P,SAAS,CAC9B,KAAK,CACLtN,UAAU,CACN4G,iBAAiB,CAAG,CAAC,EAAIkG,YAAY,CAAG,CAAC,CACzCI,kBAAkB,CAAC,CAC7B,GAAI/B,WAAW,CAACgC,QAAQ,GAAK5P,8BAA8B,CAAC6P,KAAK,CAACG,MAAM,CAAE,CACtE,GAAM,CAAAxD,OAAO,CAAG+C,YAAY,CAAGlG,iBAAiB,CAChD,GAAI,CAAA4G,aAAa,CAAG,CAAC,CACrB,GAAInO,SAAS,EAAIW,UAAU,CAAE,CACzB,GAAM,CAAAyN,UAAU,CAAGzI,QAAQ,CAAG+E,OAAO,CAAG5H,QAAQ,CAAG0K,SAAS,CAI5DrI,KAAK,CAACkJ,OAAO,CAAC,SAACC,IAAI,CAAK,CACpB,GAAM,CAAAC,YAAY,CAAGxC,IAAI,CAACyC,GAAG,CAACF,IAAI,CAAGF,UAAU,CAAC,CAChD,GAAM,CAAAK,SAAS,CAAG1C,IAAI,CAACyC,GAAG,CAACL,aAAa,CAAGC,UAAU,CAAC,CAEtD,GAAIG,YAAY,CAAGE,SAAS,EAAI,CAAC9N,UAAU,CAAE,CACzC,GAAIqB,6BAA6B,CAAE,CAC/B,GAAI2F,aAAa,GAAK,SAAS,EAAI+F,qBAAqB,CAAE,CACtDS,aAAa,CAAGG,IAAI,CACpB1E,iBAAiB,CAAG,KAAK,CAC7B,CACA,GAAI0E,IAAI,GAAKrJ,SAAS,CAAE,CACpBkJ,aAAa,CAAGG,IAAI,CACpB1E,iBAAiB,CAAG,IAAI,CACxBE,WAAW,CAAC,CAAC,CACjB,CACJ,CAAC,IACI,CACDqE,aAAa,CAAGG,IAAI,CACpB1E,iBAAiB,CAAG,KAAK,CACzB,GAAI0E,IAAI,GAAKrJ,SAAS,CAAE,CACpB2E,iBAAiB,CAAG,IAAI,CACxBE,WAAW,CAAC,CAAC,CACjB,CACJ,CACJ,CAEA,GAAIyE,YAAY,CAAGE,SAAS,EAAI9N,UAAU,EAAI4G,iBAAiB,EAAI,CAAC,CAAE,CAClE4G,aAAa,CAAG,CAAC5I,gBAAgB,EAAI,CAAC,EAAI5E,UAAU,CACpDiJ,iBAAiB,CAAG,KAAK,CAC7B,CACJ,CAAC,CAAC,CACN,CAAC,IACI,IAAIgE,cAAc,EAAI,CAACjN,UAAU,EAAI,CAACoH,WAAW,CAAE,CACpD6B,iBAAiB,CAAG,IAAI,CACxBE,WAAW,CAAC,CAAC,CACjB,CACA,GAAIF,iBAAiB,CAAE,CACnB,OACJ,CACAhE,WAAW,CAACuI,aAAa,CAAC,CAC1BrF,UAAU,CAAC4F,aAAa,CAAC,CAAC,CAC1B5F,UAAU,CAAC2C,QAAQ,CAACf,OAAO,CAAC,CAC5B5B,UAAU,CAAC6F,aAAa,CAAC,CAAC,CAC1B9F,KAAK,CAAC4C,QAAQ,CAAC,CAAC,CAAC,CACjB,GAAI9K,UAAU,CAAE,CACZ1C,cAAc,CAACU,QAAQ,CAACwD,MAAM,CAACwG,OAAO,CAAE,CACpC+B,OAAO,CAAEkE,MAAM,CAACT,aAAa,EAAI,CAAC,CAAC,CACnC/L,QAAQ,CAAED,MAAM,CAACC,QAAQ,CACzBC,MAAM,CAAEpE,cAAc,CAACqE,MAAM,CAACC,IAAI,CAClCc,eAAe,CAAEtE,iBACrB,CAAC,CAAC,CAACkM,KAAK,CAAC,CAAC,CACd,CACAhN,cAAc,CAACU,QAAQ,CAAC6D,MAAM,CAACsG,UAAU,CAAE,CACvC+F,OAAO,CAAE,EAAE,CACXC,QAAQ,CAAE,EAAE,CACZ5L,QAAQ,CAAEsK,SAAS,CACnB9C,OAAO,CAAEyD,aAAa,CACtB9K,eAAe,CAAEtE,iBACrB,CAAC,CAAC,CAACkM,KAAK,CAAC,CAAC,CACV,GAAI1D,iBAAiB,EAAI,CAAC,CAAE,CACxB,GAAM,CAAAwH,kBAAkB,CAAGZ,aAAa,EAAI,CAAC,CAAG,KAAK,CAAG,SAAS,CACjE,GAAIhL,uBAAuB,CAAE,CACzBlF,cAAc,CAACU,QAAQ,CAACwD,MAAM,CAACgB,uBAAuB,CAAE,CACpDuH,OAAO,CAAEkE,MAAM,CAACG,kBAAkB,GAAK,KAAK,CAAC,CAC7C3M,QAAQ,CAAEnD,YAAY,CACtBoD,MAAM,CAAEpE,cAAc,CAACqE,MAAM,CAACC,IAAI,CAClCc,eAAe,CAAfA,eACJ,CAAC,CAAC,CAAC4H,KAAK,CAAC,CAAC,CACd,CACA,GAAI,CAACpK,qBAAqB,EAAIkO,kBAAkB,GAAK,KAAK,CAAE,CACxD3H,gBAAgB,CAAC,KAAK,CAAC,CAC3B,CACA,GAAI/C,gBAAgB,EAAIsD,aAAa,GAAKoH,kBAAkB,CAAE,CAC1D1K,gBAAgB,CAAC0K,kBAAkB,CAAC,CACxC,CACA,GAAIpH,aAAa,GAAKoH,kBAAkB,CAAE,CACtCnH,gBAAgB,CAACmH,kBAAkB,CAAC,CACxC,CACJ,CACJ,CACJ,CAAC,CACD,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAAC,KAAA,CAAwB,IAAlB,CAAAnD,WAAW,CAAAmD,KAAA,CAAXnD,WAAW,CAElC,GAAIA,WAAW,CAACgC,QAAQ,GAAK5P,8BAA8B,CAAC6P,KAAK,CAACC,KAAK,CAAE,CACrEtF,mBAAmB,CAAC+C,QAAQ,CAAC,CAAC,CAAC,CAC/B7C,YAAY,CAAC6C,QAAQ,CAAC,CAAC,CAAC,CAC5B,CACA4B,cAAc,CAAC,CAAEvB,WAAW,CAAXA,WAAY,CAAC,CAAE,WAAW,CAAC,CAChD,CAAC,CACD,GAAM,CAAAoD,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAAC,KAAA,CAAwB,IAAlB,CAAArD,WAAW,CAAAqD,KAAA,CAAXrD,WAAW,CAChC,GAAIA,WAAW,CAACgC,QAAQ,GAAK5P,8BAA8B,CAAC6P,KAAK,CAACG,MAAM,EAAI,CAACtE,iBAAiB,CAAE,CAC5F,GAAItF,cAAc,CAAE,CAChBA,cAAc,CAAC,CAAC,CACpB,CACA,GAAM,CAAA+F,IAAI,CAAG,CAAC,CAAC1J,UAAU,CAAG,YAAY,CAAG,SAAS,CACpDmJ,WAAW,CAACO,IAAI,CAAC,CACrB,CACJ,CAAC,CACD,GAAM,CAAA+E,kBAAkB,CAAGnR,cAAc,CAACU,QAAQ,CAACqL,KAAK,CAAC,CAAC,CAAE8B,WAAW,CAAE,CAAE2B,YAAY,CAAE5E,KAAM,CAAE,CAAC,CAAC,CAAE,CACjGxF,eAAe,CAAEtE,iBAAiB,CAClCsQ,QAAQ,CAAE,SAAAA,SAAAC,KAAA,CAAuC,IAArB,CAAA7B,YAAY,CAAA6B,KAAA,CAA3BxD,WAAW,CAAI2B,YAAY,CACpC,GAAI,CAAArC,EAAE,CACN,GAAIjI,uBAAuB,CAAE,CACzB,GAAM,CAAAoM,MAAM,CAAG,CAACnE,EAAE,CAAGzK,UAAU,GAAK,IAAI,EAAIA,UAAU,GAAK,IAAK,EAAC,CAAGA,UAAU,CAAGX,SAAS,IAAM,IAAI,EAAIoL,EAAE,GAAK,IAAK,EAAC,CAAGA,EAAE,CAAG,CAAC,CAC9H,GAAM,CAAAoE,IAAI,CAAGzD,IAAI,CAACyC,GAAG,CAACf,YAAY,EAAIxI,SAAS,CAAGsK,MAAM,CAAC,CAAC,CAC1D,GAAM,CAAAtD,CAAC,CAAGwB,YAAY,EAAI,CAAC,CAAG+B,IAAI,CAAG,CAAC,CAAGA,IAAI,CAC7C,GAAI,CAAApS,MAAK,CACT,GAAIuK,aAAa,GAAK,SAAS,EAAI8F,YAAY,CAAG,CAAC,CAAE,CACjDrQ,MAAK,CAAG,CAAC,CACb,CAAC,IACI,IAAIuK,aAAa,GAAK,KAAK,EAAI8F,YAAY,EAAI,CAAC,CAAE,CACnDrQ,MAAK,CAAG,CAAC,CACb,CAAC,IACI,CACDA,MAAK,CAAG6O,CAAC,CACb,CACA9I,uBAAuB,CAACsI,QAAQ,CAACrO,MAAK,CAAC,CAC3C,CACJ,CACJ,CAAC,CAAC,CACF,GAAM,CAAAqS,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACvB,GAAM,CAAAC,YAAY,CAAG,CAACjR,QAAQ,CAACiC,OAAO,CAACiP,MAAM,CAAC,CAC9C,GAAM,CAAAC,WAAW,CAAG,CAACnR,QAAQ,CAACiC,OAAO,CAACmP,aAAa,CAAEhQ,WAAW,CAAC,CACjE,GAAI,CAAC6D,UAAU,CAAE,CACb,MAAO,KAAI,CACf,CACA,GAAI,CAACkB,eAAe,CAAE,CAClB8K,YAAY,CAACI,IAAI,CAACrR,QAAQ,CAACiC,OAAO,CAACqP,YAAY,CAAC,CAChDH,WAAW,CAACE,IAAI,CAACrR,QAAQ,CAACiC,OAAO,CAACsP,mBAAmB,CAAEnQ,WAAW,CAAC,CACvE,CACA,MAAQ,CAAA7B,KAAK,CAACiS,aAAa,CAAC/R,8BAA8B,CAACgS,iBAAiB,CAAE,CAAEC,OAAO,CAAE3O,iBAAiB,CAAE4O,oBAAoB,CAAEnH,qBAAqB,CAAEoH,uBAAuB,CAAE,KAAK,CAAEC,cAAc,CAAElB,kBAAkB,CAAEmB,oBAAoB,CAAEvB,eAAgB,CAAC,CAChQhR,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACU,QAAQ,CAAC6R,IAAI,CAAE,CAAEC,KAAK,CAAEf,YAAa,CAAC,CACrE1R,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACuS,IAAI,CAAE,CAAEC,KAAK,CAAEb,WAAY,CAAC,CAAC,CAAC,CAAC,CAC9E,CAAC,CACD,GAAM,CAAAc,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,OAAO,QAAK,OAAO,CAAAA,OAAO,GAAK,UAAU,CAAGA,OAAO,CAAC,CAAC,CAAGA,OAAO,GACtF,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAIzE,SAAS,CAAEgB,IAAI,CAAK,CACzC,GAAI,CAAA/B,EAAE,CACN,GAAI,CAACe,SAAS,CAAE,CACZ,MAAO,KAAI,CACf,CACA,GAAM,CAAA0E,GAAG,CAAGH,aAAa,CAACvE,SAAS,CAAC,CAMpC,GAAI9N,SAAS,CAAC4P,SAAS,EAAI,CAACvM,0BAA0B,CAAE,CACpD,MAAO,CAAAmP,GAAG,CACd,CACA,GAAM,CAAAC,GAAG,CAAG7S,cAAc,CAAC8S,UAAU,CAACC,OAAO,CAAC,CAAC5F,EAAE,CAAGyF,GAAG,GAAK,IAAI,EAAIA,GAAG,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,GAAG,CAACI,KAAK,IAAM,IAAI,EAAI7F,EAAE,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,EAAE,CAACqF,KAAK,CAAC,CACvJ,GAAM,CAAArD,QAAQ,CAAG,CAAC0D,GAAG,GAAK,IAAI,EAAIA,GAAG,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,GAAG,CAACI,QAAQ,IAAM,UAAU,CACxF,GAAM,CAAAC,MAAM,CAAGL,GAAG,GAAK,IAAI,EAAIA,GAAG,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,GAAG,CAACK,MAAM,CACnE,MAAQ,CAAAnT,KAAK,CAACiS,aAAa,CAAC/R,8BAA8B,CAACgS,iBAAiB,CAAE,CAAEC,OAAO,CAAE3O,iBAAiB,CAAE6O,uBAAuB,CAAE,KAAK,CAAEC,cAAc,CAAElB,kBAAkB,CAAEmB,oBAAoB,CAAEvB,eAAgB,CAAC,CACnNhR,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACU,QAAQ,CAAC6R,IAAI,CAAE,CAAEC,KAAK,CAAE,CAAEU,MAAM,CAANA,MAAO,CAAC,CAAE5M,QAAQ,CAAE,SAAAA,SAAC6M,CAAC,QAAK,CAAAnE,qBAAqB,CAACmE,CAAC,CAAEjE,IAAI,CAAEC,QAAQ,CAAC,EAAC,CAAC,CAAEyD,GAAG,CAAC,CAAC,CACjJ,CAAC,CACD,GAAM,CAAAQ,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACxB,GAAI,CAAAjG,EAAE,CACN,GAAM,CAAAkG,mBAAmB,CAAGjT,SAAS,CAACkT,KAAK,CAAG,aAAa,CAAG,SAAS,CACvE,GAAM,CAAAC,aAAa,CAAG,CAACpG,EAAE,CAAG5L,aAAa,GAAK,IAAI,EAAIA,aAAa,GAAK,IAAK,EAAC,CAAGA,aAAa,CAAGC,gBAAgB,IAAM,IAAI,EAAI2L,EAAE,GAAK,IAAK,EAAC,CAAGA,EAAE,CAAG7L,eAAe,CAEnK,GAAM,CAAAkS,OAAO,CAAG,CAACD,aAAa,GAAK,IAAI,EAAIA,aAAa,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,aAAa,CAACC,OAAO,IAAM3U,SAAS,EAAI,EAAE0U,aAAa,GAAK,IAAI,EAAIA,aAAa,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,aAAa,CAACC,OAAO,CAAC,CACvMD,aAAa,GAAK,IAAI,EAAIA,aAAa,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,aAAa,CAACC,OAAO,CAAGlL,aAAa,CACzG,GAAM,CAAAmL,aAAa,CAAG,CAACF,aAAa,GAAK,IAAI,EAAIA,aAAa,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,aAAa,CAACE,aAAa,IAAM5U,SAAS,EAAI,EAAE0U,aAAa,GAAK,IAAI,EAAIA,aAAa,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,aAAa,CAACE,aAAa,CAAC,CACzNF,aAAa,GAAK,IAAI,EAAIA,aAAa,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,aAAa,CAACE,aAAa,CAAG/K,cAAc,EAAI,CAACQ,aAAa,CAClI,GAAM,CAAAwK,mBAAmB,CAAG,CAACH,aAAa,GAAK,IAAI,EAAIA,aAAa,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,aAAa,CAACG,mBAAmB,GAAK,EAAE,CACnI,GAAM,CAAAC,iBAAiB,CAAGJ,aAAa,GAAK,IAAI,EAAIA,aAAa,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,aAAa,CAACI,iBAAiB,CACvH,GAAM,CAAAC,IAAI,CAAG,CACTzS,GAAG,CAAEZ,cAAc,CAACsT,WAAW,CAAC1I,cAAc,CAAE/J,UAAU,CAAC,CAC3DoS,OAAO,CAAPA,OAAO,CACPG,iBAAiB,CAAE3T,cAAc,CAACU,QAAQ,CAACqL,KAAK,CAAC,CAAC,CAAE8B,WAAW,CAAE,CAAEiG,aAAa,CAAE,CAAE9F,CAAC,CAAErD,YAAa,CAAE,CAAE,CAAC,CAAC,CAAE,CACxGvF,eAAe,CAAEtE,iBAAiB,CAClCsQ,QAAQ,CAAEuC,iBACd,CAAC,CAAC,CACFD,mBAAmB,CAAnBA,mBAAmB,CACnBpN,QAAQ,CAAEwI,mBAAmB,CAC7B2E,aAAa,CAAbA,aAAa,CACbJ,mBAAmB,CAAnBA,mBACJ,CAAC,CACD,GAAI9R,aAAa,CAAE,CACf,MAAO,CAAAxB,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACU,QAAQ,CAACqT,QAAQ,CAAExV,MAAM,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAEvL,aAAa,CAAEqS,IAAI,CAAC,CAAC,CACxG,CACA,GAAIpS,gBAAgB,CAAE,CAClB,MAAO,CAAAzB,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACU,QAAQ,CAACsT,WAAW,CAAEzV,MAAM,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAEtL,gBAAgB,CAAEoS,IAAI,CAAC,CAAC,CAC9G,CACA,GAAInS,cAAc,CAAE,CAChB,GAAM,CAAAmR,GAAG,CAAGH,aAAa,CAAChR,cAAc,CAAC,CACzC,MAAO,CAAA1B,KAAK,CAACkU,YAAY,CAACrB,GAAG,CAAErU,MAAM,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAE8G,IAAI,CAAC,CAAC,CAC3D,CACA,MAAQ,CAAA7T,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACU,QAAQ,CAACwT,UAAU,CAAE3V,MAAM,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAExL,eAAe,CAAEsS,IAAI,CAAC,CAAEvS,QAAQ,CAAC,CACvH,CAAC,CACD,GAAM,CAAA8S,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACzB,GAAM,CAAA3B,KAAK,CAAG5P,qBAAqB,CAAGpC,QAAQ,CAACiC,OAAO,CAAC2R,qBAAqB,CAAG5T,QAAQ,CAACiC,OAAO,CAAC4R,kBAAkB,CAClH,GAAM,CAAAC,OAAO,CAAGjU,WAAW,CAACkU,OAAO,CAAC,CAAC,CAAG1V,SAAS,CAAGkC,SAAS,CAC7D,MAAQ,CAAAhB,KAAK,CAACiS,aAAa,CAAC/R,8BAA8B,CAACgS,iBAAiB,CAAE,CAAE9Q,GAAG,CAAE8J,qBAAqB,CAAEiH,OAAO,CAAE3O,iBAAiB,CAAE4O,oBAAoB,CAAE,CAACjH,qBAAqB,CAAEF,qBAAqB,CAAC,CAAEoH,uBAAuB,CAAE,KAAK,CAAEC,cAAc,CAAElB,kBAAkB,CAAEmD,OAAO,CAAEA,OAAO,CAAEE,aAAa,CAAEzT,SAAS,CAAE0T,aAAa,CAAE1T,SAAS,CAAEuR,oBAAoB,CAAElD,cAAe,CAAC,CAC1XrP,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACU,QAAQ,CAAC6R,IAAI,CAAE,CAAEC,KAAK,CAAE,CAACA,KAAK,CAAE1Q,aAAa,CAAE,CAAC,CAC/E/B,KAAK,CAACiS,aAAa,CAAC/R,8BAA8B,CAACyU,wBAAwB,CAAE,CAAEvT,GAAG,CAAE+J,qBAAqB,CAAEyJ,OAAO,CAAE3J,qBAAqB,CAAEmH,oBAAoB,CAAElH,qBAAsB,CAAC,CAAEmI,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CACxN,CAAC,CACD,GAAM,CAAAwB,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACxB,GAAM,CAAAC,aAAa,CAAGnS,UAAU,GAAKgH,aAAa,GAAK,SAAS,EAAI,CAACA,aAAa,CAAC,CAAG,UAAU,CAAG,MAAM,CACzG,MAAQ,CAAA3J,KAAK,CAACiS,aAAa,CAAC/R,8BAA8B,CAACgS,iBAAiB,CAAE,CAAEC,OAAO,CAAE3O,iBAAiB,CAAE4O,oBAAoB,CAAEnH,qBAAqB,CAAEoH,uBAAuB,CAAE,KAAK,CAAEC,cAAc,CAAElB,kBAAkB,CAAEmB,oBAAoB,CAAElD,cAAe,CAAC,CAC/PrP,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACU,QAAQ,CAAC6R,IAAI,CAAE,CAAEC,KAAK,CAAEhS,QAAQ,CAACiC,OAAO,CAACiI,OAAO,CAAEmK,aAAa,CAAEA,aAAc,CAAC,CAAE3M,WAAW,EAAKnI,KAAK,CAACiS,aAAa,CAAC/R,8BAA8B,CAAC6U,iBAAiB,CAAE,CAAE3T,GAAG,CAAEiK,oBAAoB,CAAE8G,OAAO,CAAErO,iBAAiB,GAAKhF,SAAS,CAAGgF,iBAAiB,CAAGN,iBAAiB,CAAE+O,oBAAoB,CAAErB,aAAc,CAAC,CAC3VlR,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACU,QAAQ,CAAC6R,IAAI,CAAE,CAAEC,KAAK,CAAE,CACnDhS,QAAQ,CAACiC,OAAO,CAACsS,mBAAmB,CACpClT,YAAY,CACZ,CACImT,OAAO,CAAEtK,OAAO,CAACuK,WAAW,CAAC,CACzBC,UAAU,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAClBC,WAAW,CAAE,CAAC,CAAC,CAAE,CAAC,CACtB,CAAC,CACL,CAAC,CACJ,CAAEN,aAAa,CAAEA,aAAc,CAAC,CAAC,CAAE,CAAC,CAAC,CACtD,CAAC,CACD9U,KAAK,CAACqV,mBAAmB,CAACjU,GAAG,CAAE,iBAAO,CAClCkU,IAAI,UAAAA,KAACjJ,IAAI,CAAE,CACP,GAAIrG,MAAM,CAAE,CACRA,MAAM,CAAC,CAAC,CACZ,CACAmG,iBAAiB,CAACxJ,UAAU,CAAE0J,IAAI,CAAC,CACvC,CAAC,CACDkJ,KAAK,UAAAA,MAAClJ,IAAI,CAAEc,QAAQ,CAAE,CAClBrB,WAAW,CAACO,IAAI,CAAEc,QAAQ,CAAC,CAC/B,CACJ,CAAC,EAAC,CAAC,CACHnN,KAAK,CAACwV,SAAS,CAAC,UAAM,CAClB,GAAI7S,UAAU,GAAK4E,gBAAgB,EAAI1E,qBAAqB,CAAC,CAAE,CAC3DsJ,iBAAiB,CAACxJ,UAAU,CAAC,CACjC,CACJ,CAAC,CAAE,CAACA,UAAU,CAAE4E,gBAAgB,CAAC,CAAC,CAClCvH,KAAK,CAACwV,SAAS,CAAC,UAAM,CAClBjV,WAAW,CAACkV,SAAS,CAACxT,WAAW,EAAIY,qBAAqB,CAAG,kHAAiH,CAAC,CAC/KtC,WAAW,CAACkV,SAAS,CAAC,CAAClU,eAAe,EAAID,QAAQ,GAAKE,aAAa,CAAG,gKAA+J,CAAC,CACvOjB,WAAW,CAACkV,SAAS,CAAC,CAAClU,eAAe,EAAID,QAAQ,GAAKG,gBAAgB,CAAG,uKAAsK,CAAC,CACrP,CAAC,CAAE,CACCQ,WAAW,CACXY,qBAAqB,CACrBtB,eAAe,CACfD,QAAQ,CACRE,aAAa,CACbC,gBAAgB,CACnB,CAAC,CACFzB,KAAK,CAACwV,SAAS,CAAC,UAAM,CAClBhO,mBAAmB,CAACN,WAAW,CAAC,CACpC,CAAC,CAAE,CAACrE,qBAAqB,CAAEZ,WAAW,CAAEyE,YAAY,CAAC,CAAC,CACtD1G,KAAK,CAACwV,SAAS,CAAC,UAAM,CAClB,GAAI,CAAAE,oBAAoB,CAAG,IAAI,CAC/B,GAAI,CAAAC,oBAAoB,CAAG,IAAI,CAC/B,GAAM,CAAAC,oBAAoB,CAAGhL,YAAY,CAACiL,WAAW,CAAC,SAAAC,KAAA,KAAG,CAAA1W,KAAK,CAAA0W,KAAA,CAAL1W,KAAK,OAAO,CAAAoK,oBAAoB,CAACpK,KAAK,CAAC,GAAC,CACjG,GAAIkB,WAAW,CAACyV,WAAW,CAAE,CACzB9V,cAAc,CAAC+V,QAAQ,CAACH,WAAW,CAAC,iBAAiB,CAAE9J,kBAAkB,CAAC,CAC1E9L,cAAc,CAAC+V,QAAQ,CAACH,WAAW,CAAC,iBAAiB,CAAE3J,kBAAkB,CAAC,CAC9E,CAAC,IACI,CACDwJ,oBAAoB,CAAGzV,cAAc,CAAC+V,QAAQ,CAACH,WAAW,CAAC,iBAAiB,CAAE9J,kBAAkB,CAAC,CACjG4J,oBAAoB,CAAG1V,cAAc,CAAC+V,QAAQ,CAACH,WAAW,CAAC,iBAAiB,CAAE3J,kBAAkB,CAAC,CACrG,CACA,MAAO,WAAM,CACT,GAAI,CAAAkB,EAAE,CACN,CAACA,EAAE,CAAG9B,qBAAqB,CAACb,OAAO,IAAM,IAAI,EAAI2C,EAAE,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,EAAE,CAACI,MAAM,CAAC,CAAC,CACrF5C,YAAY,CAACqL,cAAc,CAACL,oBAAoB,CAAC,CACjD,GAAItV,WAAW,CAACyV,WAAW,CAAE,CACzB9V,cAAc,CAAC+V,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAElK,kBAAkB,CAAC,CAC7E9L,cAAc,CAAC+V,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAE/J,kBAAkB,CAAC,CACjF,CAAC,IACI,CACDwJ,oBAAoB,GAAK,IAAI,EAAIA,oBAAoB,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,oBAAoB,CAAClI,MAAM,CAAC,CAAC,CACzGmI,oBAAoB,GAAK,IAAI,EAAIA,oBAAoB,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,oBAAoB,CAACnI,MAAM,CAAC,CAAC,CAC7G,CACJ,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CACN,GAAM,CAAA0I,yBAAyB,CAAG,CAC9BC,sBAAsB,CAAE7S,sBAAsB,CAC9C8S,QAAQ,CAAE/S,wBAAwB,CAClC8O,OAAO,CAAEhP,oBAAoB,CAC7BsP,KAAK,CAAE,CACHhS,QAAQ,CAACiC,OAAO,CAAC2T,iBAAiB,CAClCzU,UAAU,CACV,CACI+E,MAAM,CAAEY,gBAAgB,CACxB+O,SAAS,CAAErP,SAAS,CACpBsP,SAAS,CAAE,CACP,CACIzL,UAAU,CAAE1L,KAAK,CAAC8V,WAAW,CAAC,CAC1BC,UAAU,CAAE,CAAC,CAAC,EAAE,CAAE,CAAC,CAAElO,SAAS,CAAC,CAC/BmO,WAAW,CAAE,CAAC,CAAC,CAAE,CAAC,CAAEnO,SAAS,CAAC,CAC9BuP,WAAW,CAAE,OACjB,CAAC,CACL,CAAC,CAET,CAAC,CAET,CAAC,CACD,GAAI,CAACrT,oBAAoB,EAAI,CAACN,qBAAqB,CAAE,CACjDqT,yBAAyB,CAAC3P,QAAQ,CAAGoH,2BAA2B,CACpE,CACA,GAAM,CAAA8I,cAAc,CAAIzW,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACuS,IAAI,CAAE,CAAEC,KAAK,CAAE,CAAChS,QAAQ,CAACiC,OAAO,CAACgU,QAAQ,CAAE/U,SAAS,CAAC,CAAEmT,aAAa,CAAEnS,UAAU,EAAI,CAACiD,WAAW,CAAG,UAAU,CAAG,MAAO,CAAC,CAC/K5F,KAAK,CAACiS,aAAa,CAAC/R,8BAA8B,CAAC6U,iBAAiB,CAAE,CAAE3T,GAAG,CAAE6J,qBAAqB,CAAE0L,aAAa,CAAE/S,iBAAiB,CAAG,MAAM,CAAG,EAAE,CAAEgT,SAAS,CAAEjP,QAAQ,CAAEwK,OAAO,CAAE3O,iBAAkB,CAAC,CACjMxD,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAACuS,IAAI,CAAE,CAAEC,KAAK,CAAEhS,QAAQ,CAACiC,OAAO,CAACmU,iBAAiB,CAAE/B,aAAa,CAAE,UAAW,CAAC,CAC7G3M,WAAW,EAAKnI,KAAK,CAACiS,aAAa,CAACvR,4BAA4B,CAAElC,MAAM,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAEmJ,yBAAyB,CAAC,CAC1GzE,YAAY,CAAC,CAAC,CACdmB,eAAe,CAAC/M,eAAe,CAAE,QAAQ,CAAC,CAC1CuO,cAAc,CAAC,CAAC,CAChBxB,eAAe,CAAC9M,eAAe,CAAE,QAAQ,CAAC,CAAE,CAChDF,WAAW,EAAIiP,aAAa,CAAC,CAAC,CAAC,CAAC,CACxCjC,eAAe,CAAC7M,iBAAiB,CAAE,UAAU,CAAC,CAAE,CACpD,GAAM,CAAA+Q,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,KAAK,QAAM,CAAA/W,KAAK,CAACiS,aAAa,CAAChS,cAAc,CAAC+W,KAAK,CAAExY,MAAM,CAACuO,MAAM,CAAC,CAAC,CAAC,CAAEvH,eAAe,CAAE,CAAEyR,qBAAqB,CAAE,CAAC,WAAW,CAAE,UAAU,CAAE,sBAAsB,CAAC,CAAEC,cAAc,CAAErL,eAAe,CAAEsL,mBAAmB,CAAEpW,iBAAiB,CAAEqW,OAAO,CAAErP,SAAS,CAAEsP,WAAW,CAAE,IAAK,CAAC,CAAC,CAAEN,KAAK,CAAC,EAAC,CACxT,GAAI,CAAChP,SAAS,CAAE,CACZ,MAAO,KAAI,CACf,CACA,GAAIxC,cAAc,CAAE,CAChB,MAAO,CAAAuR,gBAAgB,CAACL,cAAc,CAAC,CAC3C,CACA,MAAO,CAAAA,cAAc,CACzB,CAAC,CACD7W,OAAO,CAACG,QAAQ,CAAGC,KAAK,CAACsX,UAAU,CAACpW,YAAY,CAAC,CACjDvB,YAAY,CAACrB,OAAO,CAAC,sBAAsB,CAAC,CAAEsB,OAAO,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}