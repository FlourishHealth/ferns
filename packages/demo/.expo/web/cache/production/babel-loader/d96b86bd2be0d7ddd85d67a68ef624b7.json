{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import Keyboard from\"react-native-web/dist/exports/Keyboard\";import Platform from\"react-native-web/dist/exports/Platform\";var emptyCoordinates=Object.freeze({screenX:0,screenY:0,width:0,height:0});var initialValue={start:emptyCoordinates,end:emptyCoordinates};export function useKeyboard(enabled){var pauseKeyboardHandler=useRef(false);var _a=useState(false),shown=_a[0],setShown=_a[1];var _b=useState(initialValue),coordinates=_b[0],setCoordinates=_b[1];var _c=useState(0),keyboardHeight=_c[0],setKeyboardHeight=_c[1];var handleKeyboardDidShow=React.useCallback(function(e){if(pauseKeyboardHandler.current)return;setCoordinates({start:e.startCoordinates,end:e.endCoordinates});setKeyboardHeight(e.endCoordinates.height);setShown(true);},[]);var handleKeyboardDidHide=React.useCallback(function(e){setShown(false);if(e){setCoordinates({start:e.startCoordinates,end:e.endCoordinates});}else{setCoordinates(initialValue);setKeyboardHeight(0);}},[]);useEffect(function(){var subscriptions=[];if(enabled){subscriptions=[Keyboard.addListener('keyboardDidChangeFrame',handleKeyboardDidShow),Keyboard.addListener('keyboardDidHide',handleKeyboardDidHide)];if(\"web\"=='android'){subscriptions.push(Keyboard.addListener('keyboardDidShow',handleKeyboardDidShow));}else{subscriptions.push(Keyboard.addListener('keyboardWillShow',handleKeyboardDidShow),Keyboard.addListener('keyboardWillHide',handleKeyboardDidHide));}}return function(){subscriptions.forEach(function(subscription){return subscription.remove();});};},[enabled,handleKeyboardDidHide,handleKeyboardDidShow]);return{keyboardShown:!enabled?false:shown,coordinates:!enabled||!shown?emptyCoordinates:coordinates,keyboardHeight:!enabled||!shown?0:keyboardHeight,pauseKeyboardHandler:pauseKeyboardHandler,reset:function reset(){setShown(false);setKeyboardHeight(0);}};}","map":{"version":3,"names":["React","useEffect","useRef","useState","Keyboard","Platform","emptyCoordinates","Object","freeze","screenX","screenY","width","height","initialValue","start","end","useKeyboard","enabled","pauseKeyboardHandler","_a","shown","setShown","_b","coordinates","setCoordinates","_c","keyboardHeight","setKeyboardHeight","handleKeyboardDidShow","useCallback","e","current","startCoordinates","endCoordinates","handleKeyboardDidHide","subscriptions","addListener","push","forEach","subscription","remove","keyboardShown","reset"],"sources":["/Users/josh/src/ui/node_modules/react-native-actions-sheet/dist/src/hooks/useKeyboard.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Keyboard, Platform, } from 'react-native';\nvar emptyCoordinates = Object.freeze({\n    screenX: 0,\n    screenY: 0,\n    width: 0,\n    height: 0,\n});\nvar initialValue = {\n    start: emptyCoordinates,\n    end: emptyCoordinates,\n};\nexport function useKeyboard(enabled) {\n    var pauseKeyboardHandler = useRef(false);\n    var _a = useState(false), shown = _a[0], setShown = _a[1];\n    var _b = useState(initialValue), coordinates = _b[0], setCoordinates = _b[1];\n    var _c = useState(0), keyboardHeight = _c[0], setKeyboardHeight = _c[1];\n    var handleKeyboardDidShow = React.useCallback(function (e) {\n        if (pauseKeyboardHandler.current)\n            return;\n        setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n        setKeyboardHeight(e.endCoordinates.height);\n        setShown(true);\n    }, []);\n    var handleKeyboardDidHide = React.useCallback(function (e) {\n        setShown(false);\n        if (e) {\n            setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n        }\n        else {\n            setCoordinates(initialValue);\n            setKeyboardHeight(0);\n        }\n    }, []);\n    useEffect(function () {\n        var subscriptions = [];\n        if (enabled) {\n            subscriptions = [\n                Keyboard.addListener('keyboardDidChangeFrame', handleKeyboardDidShow),\n                Keyboard.addListener('keyboardDidHide', handleKeyboardDidHide),\n            ];\n            if (Platform.OS == 'android') {\n                subscriptions.push(Keyboard.addListener('keyboardDidShow', handleKeyboardDidShow));\n            }\n            else {\n                subscriptions.push(Keyboard.addListener('keyboardWillShow', handleKeyboardDidShow), Keyboard.addListener('keyboardWillHide', handleKeyboardDidHide));\n            }\n        }\n        return function () {\n            subscriptions.forEach(function (subscription) { return subscription.remove(); });\n        };\n    }, [enabled, handleKeyboardDidHide, handleKeyboardDidShow]);\n    return {\n        keyboardShown: !enabled ? false : shown,\n        coordinates: !enabled || !shown ? emptyCoordinates : coordinates,\n        keyboardHeight: !enabled || !shown ? 0 : keyboardHeight,\n        pauseKeyboardHandler: pauseKeyboardHandler,\n        reset: function () {\n            setShown(false);\n            setKeyboardHeight(0);\n        },\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}