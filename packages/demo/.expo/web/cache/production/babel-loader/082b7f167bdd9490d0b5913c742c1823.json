{"ast":null,"code":"import{useEffect,useState}from'react';import{actionSheetEventManager}from'../eventmanager';import{useProviderContext}from'../provider';var useSheetManager=function useSheetManager(_a){var id=_a.id,onHide=_a.onHide,onBeforeShow=_a.onBeforeShow,onContextUpdate=_a.onContextUpdate;var _b=useState(false),visible=_b[0],setVisible=_b[1];var currentContext=useProviderContext();useEffect(function(){if(!id)return undefined;var subscriptions=[actionSheetEventManager.subscribe(\"show_\".concat(id),function(data,context){if(currentContext!==context)return;if(visible)return;onContextUpdate===null||onContextUpdate===void 0?void 0:onContextUpdate();onBeforeShow===null||onBeforeShow===void 0?void 0:onBeforeShow(data);setVisible(true);}),actionSheetEventManager.subscribe(\"hide_\".concat(id),function(data,context){if(currentContext!==context)return;onHide===null||onHide===void 0?void 0:onHide(data);})];return function(){subscriptions.forEach(function(s){var _a;return(_a=s===null||s===void 0?void 0:s.unsubscribe)===null||_a===void 0?void 0:_a.call(s);});};},[id,onHide,onBeforeShow,onContextUpdate,visible,currentContext]);return{visible:visible,setVisible:setVisible};};export default useSheetManager;","map":{"version":3,"names":["useEffect","useState","actionSheetEventManager","useProviderContext","useSheetManager","_a","id","onHide","onBeforeShow","onContextUpdate","_b","visible","setVisible","currentContext","undefined","subscriptions","subscribe","concat","data","context","forEach","s","unsubscribe","call"],"sources":["/Users/josh/src/ui/node_modules/react-native-actions-sheet/dist/src/hooks/use-sheet-manager.js"],"sourcesContent":["/* eslint-disable curly */\nimport { useEffect, useState } from 'react';\nimport { actionSheetEventManager } from '../eventmanager';\nimport { useProviderContext } from '../provider';\nvar useSheetManager = function (_a) {\n    var id = _a.id, onHide = _a.onHide, onBeforeShow = _a.onBeforeShow, onContextUpdate = _a.onContextUpdate;\n    var _b = useState(false), visible = _b[0], setVisible = _b[1];\n    var currentContext = useProviderContext();\n    useEffect(function () {\n        if (!id)\n            return undefined;\n        var subscriptions = [\n            actionSheetEventManager.subscribe(\"show_\".concat(id), function (data, context) {\n                if (currentContext !== context)\n                    return;\n                if (visible)\n                    return;\n                onContextUpdate === null || onContextUpdate === void 0 ? void 0 : onContextUpdate();\n                onBeforeShow === null || onBeforeShow === void 0 ? void 0 : onBeforeShow(data);\n                setVisible(true);\n            }),\n            actionSheetEventManager.subscribe(\"hide_\".concat(id), function (data, context) {\n                if (currentContext !== context)\n                    return;\n                onHide === null || onHide === void 0 ? void 0 : onHide(data);\n            }),\n        ];\n        return function () {\n            subscriptions.forEach(function (s) { var _a; return (_a = s === null || s === void 0 ? void 0 : s.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(s); });\n        };\n    }, [id, onHide, onBeforeShow, onContextUpdate, visible, currentContext]);\n    return {\n        visible: visible,\n        setVisible: setVisible,\n    };\n};\nexport default useSheetManager;\n"],"mappings":"AACA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,uBAAuB,KAAQ,iBAAiB,CACzD,OAASC,kBAAkB,KAAQ,aAAa,CAChD,GAAI,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAaC,EAAE,CAAE,CAChC,GAAI,CAAAC,EAAE,CAAGD,EAAE,CAACC,EAAE,CAAEC,MAAM,CAAGF,EAAE,CAACE,MAAM,CAAEC,YAAY,CAAGH,EAAE,CAACG,YAAY,CAAEC,eAAe,CAAGJ,EAAE,CAACI,eAAe,CACxG,GAAI,CAAAC,EAAE,CAAGT,QAAQ,CAAC,KAAK,CAAC,CAAEU,OAAO,CAAGD,EAAE,CAAC,CAAC,CAAC,CAAEE,UAAU,CAAGF,EAAE,CAAC,CAAC,CAAC,CAC7D,GAAI,CAAAG,cAAc,CAAGV,kBAAkB,CAAC,CAAC,CACzCH,SAAS,CAAC,UAAY,CAClB,GAAI,CAACM,EAAE,CACH,MAAO,CAAAQ,SAAS,CACpB,GAAI,CAAAC,aAAa,CAAG,CAChBb,uBAAuB,CAACc,SAAS,CAAC,OAAO,CAACC,MAAM,CAACX,EAAE,CAAC,CAAE,SAAUY,IAAI,CAAEC,OAAO,CAAE,CAC3E,GAAIN,cAAc,GAAKM,OAAO,CAC1B,OACJ,GAAIR,OAAO,CACP,OACJF,eAAe,GAAK,IAAI,EAAIA,eAAe,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,eAAe,CAAC,CAAC,CACnFD,YAAY,GAAK,IAAI,EAAIA,YAAY,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,YAAY,CAACU,IAAI,CAAC,CAC9EN,UAAU,CAAC,IAAI,CAAC,CACpB,CAAC,CAAC,CACFV,uBAAuB,CAACc,SAAS,CAAC,OAAO,CAACC,MAAM,CAACX,EAAE,CAAC,CAAE,SAAUY,IAAI,CAAEC,OAAO,CAAE,CAC3E,GAAIN,cAAc,GAAKM,OAAO,CAC1B,OACJZ,MAAM,GAAK,IAAI,EAAIA,MAAM,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,MAAM,CAACW,IAAI,CAAC,CAChE,CAAC,CAAC,CACL,CACD,MAAO,WAAY,CACfH,aAAa,CAACK,OAAO,CAAC,SAAUC,CAAC,CAAE,CAAE,GAAI,CAAAhB,EAAE,CAAE,MAAO,CAACA,EAAE,CAAGgB,CAAC,GAAK,IAAI,EAAIA,CAAC,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,CAAC,CAACC,WAAW,IAAM,IAAI,EAAIjB,EAAE,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,EAAE,CAACkB,IAAI,CAACF,CAAC,CAAC,CAAE,CAAC,CAAC,CACtK,CAAC,CACL,CAAC,CAAE,CAACf,EAAE,CAAEC,MAAM,CAAEC,YAAY,CAAEC,eAAe,CAAEE,OAAO,CAAEE,cAAc,CAAC,CAAC,CACxE,MAAO,CACHF,OAAO,CAAEA,OAAO,CAChBC,UAAU,CAAEA,UAChB,CAAC,CACL,CAAC,CACD,cAAe,CAAAR,eAAe"},"metadata":{},"sourceType":"module"}