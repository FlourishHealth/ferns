{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { useEffect, useRef } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nexport function useScrollHandlers(id, ref, minGesutureBoundary) {\n  if (minGesutureBoundary === void 0) {\n    minGesutureBoundary = 50;\n  }\n  var timer = useRef();\n  var scrollRef = useRef(null);\n  var scrollLayout = useRef();\n  var scrollOffset = useRef(0);\n  var prevState = useRef(false);\n  var subscription = useRef();\n  var onScroll = function onScroll(event) {\n    var _a;\n    scrollOffset.current = event.nativeEvent.contentOffset.y;\n    (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n  };\n  var disableScrolling = React.useCallback(function () {\n    if (Platform.OS === 'web') {\n      scrollRef.current.style.touchAction = 'none';\n      scrollRef.current.style.overflowY = 'hidden';\n    }\n  }, [scrollRef]);\n  var enableScrolling = React.useCallback(function () {\n    if (Platform.OS === 'web') {\n      scrollRef.current.style.overflowY = 'scroll';\n      scrollRef.current.style.touchAction = 'auto';\n    }\n  }, [scrollRef]);\n  useEffect(function () {\n    return function () {\n      var _a;\n      (_a = subscription.current) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n    };\n  }, [id, ref, disableScrolling, enableScrolling]);\n  var onMeasure = function onMeasure(_x, _y, w, h, px, py) {\n    var _a;\n    scrollLayout.current = {\n      width: w,\n      height: h,\n      x: px,\n      y: py\n    };\n    (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n  };\n  function measureAndLayout() {\n    clearTimeout(timer.current);\n    timer.current = setTimeout(function () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n      if ((_a = scrollRef.current) === null || _a === void 0 ? void 0 : _a._listRef) {\n        (_d = (_c = (_b = scrollRef.current._listRef) === null || _b === void 0 ? void 0 : _b._scrollRef) === null || _c === void 0 ? void 0 : _c.measure) === null || _d === void 0 ? void 0 : _d.call(_c, onMeasure);\n      } else if ((_e = scrollRef.current) === null || _e === void 0 ? void 0 : _e.rlvRef) {\n        (_j = (_h = (_g = (_f = scrollRef.current) === null || _f === void 0 ? void 0 : _f.rlvRef) === null || _g === void 0 ? void 0 : _g._scrollComponent) === null || _h === void 0 ? void 0 : _h._scrollViewRef) === null || _j === void 0 ? void 0 : _j.measure(onMeasure);\n      } else {\n        (_l = (_k = scrollRef.current) === null || _k === void 0 ? void 0 : _k.measure) === null || _l === void 0 ? void 0 : _l.call(_k, onMeasure);\n      }\n    }, 500);\n  }\n  var onLayout = function onLayout(event) {\n    var _a;\n    scrollLayout.current = __assign(__assign({}, event.nativeEvent.layout), {\n      y: event.nativeEvent.layout.y || minGesutureBoundary\n    });\n    measureAndLayout();\n    subscription.current = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.ev.subscribe('onoffsetchange', function (offset) {\n      measureAndLayout();\n      if (offset < 3) {\n        if (prevState.current) return;\n        prevState.current = true;\n        enableScrolling();\n      } else {\n        if (!prevState.current) return;\n        prevState.current = false;\n        disableScrolling();\n      }\n    });\n  };\n  return {\n    scrollEnabled: true,\n    onScroll: onScroll,\n    ref: scrollRef,\n    onLayout: onLayout,\n    scrollEventThrottle: 50\n  };\n}","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useEffect","useRef","Platform","useScrollHandlers","id","ref","minGesutureBoundary","timer","scrollRef","scrollLayout","scrollOffset","prevState","subscription","onScroll","event","_a","current","nativeEvent","contentOffset","y","modifyGesturesForLayout","disableScrolling","useCallback","OS","style","touchAction","overflowY","enableScrolling","unsubscribe","onMeasure","_x","_y","w","h","px","py","width","height","x","measureAndLayout","clearTimeout","setTimeout","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_listRef","_scrollRef","measure","rlvRef","_scrollComponent","_scrollViewRef","onLayout","layout","ev","subscribe","offset","scrollEnabled","scrollEventThrottle"],"sources":["/Users/josh/src/ui/node_modules/react-native-actions-sheet/dist/src/hooks/use-scroll-handlers.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/* eslint-disable curly */\nimport React, { useEffect, useRef } from 'react';\nimport { Platform, } from 'react-native';\n/**\n * If you are using a `ScrollView` or `FlatList` in ActionSheet. You must attach `scrollHandlers`\n * with it to enable vertical scrolling. For horizontal ScrollViews, you should not use this hook.\n * @param id Id for the handler. Could be any string value.\n * @param ref ref of the ActionSheet in which the ScrollView is present.\n * @param minGesutureBoundary The minimum area of scrollView from top, where swipe gestures are allowed always.\n * @returns\n */\nexport function useScrollHandlers(id, ref, minGesutureBoundary) {\n    if (minGesutureBoundary === void 0) { minGesutureBoundary = 50; }\n    var timer = useRef();\n    var scrollRef = useRef(null);\n    var scrollLayout = useRef();\n    var scrollOffset = useRef(0);\n    var prevState = useRef(false);\n    var subscription = useRef();\n    var onScroll = function (event) {\n        var _a;\n        scrollOffset.current = event.nativeEvent.contentOffset.y;\n        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n    };\n    var disableScrolling = React.useCallback(function () {\n        if (Platform.OS === 'web') {\n            //@ts-ignore\n            scrollRef.current.style.touchAction = 'none';\n            //@ts-ignore\n            scrollRef.current.style.overflowY = 'hidden';\n        }\n    }, [scrollRef]);\n    var enableScrolling = React.useCallback(function () {\n        if (Platform.OS === 'web') {\n            //@ts-ignore\n            scrollRef.current.style.overflowY = 'scroll';\n            //@ts-ignore\n            scrollRef.current.style.touchAction = 'auto';\n        }\n    }, [scrollRef]);\n    useEffect(function () {\n        return function () {\n            var _a;\n            (_a = subscription.current) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n        };\n    }, [id, ref, disableScrolling, enableScrolling]);\n    var onMeasure = function (_x, _y, w, h, px, py) {\n        var _a;\n        scrollLayout.current = {\n            width: w,\n            height: h,\n            x: px,\n            y: py\n        };\n        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.modifyGesturesForLayout(id, scrollLayout.current, scrollOffset.current);\n    };\n    function measureAndLayout() {\n        clearTimeout(timer.current);\n        timer.current = setTimeout(function () {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n            //@ts-ignore support flatlist\n            if ((_a = scrollRef.current) === null || _a === void 0 ? void 0 : _a._listRef) {\n                //@ts-ignore\n                (_d = (_c = (_b = scrollRef.current._listRef) === null || _b === void 0 ? void 0 : _b._scrollRef) === null || _c === void 0 ? void 0 : _c.measure) === null || _d === void 0 ? void 0 : _d.call(_c, onMeasure);\n            } //@ts-ignore support flash-list.\n            else if ((_e = scrollRef.current) === null || _e === void 0 ? void 0 : _e.rlvRef) {\n                //@ts-ignore support flash-list.\n                (_j = (_h = (_g = (_f = scrollRef.current) === null || _f === void 0 ? void 0 : _f.rlvRef) === null || _g === void 0 ? void 0 : _g._scrollComponent) === null || _h === void 0 ? void 0 : _h._scrollViewRef) === null || _j === void 0 ? void 0 : _j.measure(onMeasure);\n            }\n            else {\n                //@ts-ignore regular scrollView\n                (_l = (_k = scrollRef.current) === null || _k === void 0 ? void 0 : _k.measure) === null || _l === void 0 ? void 0 : _l.call(_k, onMeasure);\n            }\n        }, 500);\n    }\n    var onLayout = function (event) {\n        var _a;\n        scrollLayout.current = __assign(__assign({}, event.nativeEvent.layout), { y: event.nativeEvent.layout.y || minGesutureBoundary });\n        measureAndLayout();\n        subscription.current = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.ev.subscribe('onoffsetchange', function (offset) {\n            measureAndLayout();\n            if (offset < 3) {\n                if (prevState.current)\n                    return;\n                prevState.current = true;\n                enableScrolling();\n            }\n            else {\n                if (!prevState.current)\n                    return;\n                prevState.current = false;\n                disableScrolling();\n            }\n        });\n    };\n    return {\n        scrollEnabled: true,\n        onScroll: onScroll,\n        ref: scrollRef,\n        onLayout: onLayout,\n        scrollEventThrottle: 50\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}