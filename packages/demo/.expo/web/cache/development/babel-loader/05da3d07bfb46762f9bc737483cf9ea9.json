{"ast":null,"code":"import React from \"react\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { useToast as useRNToast } from \"react-native-toast-notifications\";\nimport { Box } from \"./Box\";\nimport { Button } from \"./Button\";\nimport { Icon } from \"./Icon\";\nimport { IconButton } from \"./IconButton\";\nimport { Text } from \"./Text\";\nimport { isAPIError, printAPIError } from \"./Utilities\";\nvar TOAST_DURATION_MS = 3 * 1000;\nexport function useToast() {\n  var toast = useRNToast();\n  var show = function show(text, options) {\n    return toast.show(text, {\n      data: options,\n      duration: (options === null || options === void 0 ? void 0 : options.persistent) ? 0 : TOAST_DURATION_MS\n    });\n  };\n  return {\n    show: show,\n    warn: function warn(text, options) {\n      return show(text, Object.assign(Object.assign({}, options), {\n        variant: \"warning\"\n      }));\n    },\n    error: function error(text, options) {\n      return show(text, Object.assign(Object.assign({}, options), {\n        variant: \"error\"\n      }));\n    },\n    hide: function hide(id) {\n      return toast.hide(id);\n    },\n    catch: function _catch(error, message, options) {\n      var _a, _b;\n      var exceptionMsg;\n      if (isAPIError(error)) {\n        exceptionMsg = `${message}: ${printAPIError(error)}`;\n        console.error(exceptionMsg);\n      } else {\n        exceptionMsg = (_b = (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : error === null || error === void 0 ? void 0 : error.error) !== null && _b !== void 0 ? _b : String(error);\n        console.error(`${message}: ${exceptionMsg}`);\n      }\n      show(exceptionMsg, Object.assign(Object.assign({}, options), {\n        variant: \"error\"\n      }));\n    }\n  };\n}\nexport var Toast = function Toast(_ref) {\n  var message = _ref.message,\n    data = _ref.data;\n  var width = Math.min(Dimensions.get(\"window\").width - 16 * 4, 712);\n  var _ref2 = data !== null && data !== void 0 ? data : {},\n    variant = _ref2.variant,\n    buttonText = _ref2.buttonText,\n    buttonOnClick = _ref2.buttonOnClick,\n    persistent = _ref2.persistent,\n    onDismiss = _ref2.onDismiss;\n  var color = \"darkGray\";\n  if (variant === \"warning\" || variant === \"error\") {\n    color = variant;\n  }\n  return React.createElement(Box, {\n    alignItems: \"center\",\n    color: color,\n    direction: \"row\",\n    flex: \"shrink\",\n    marginBottom: 4,\n    marginLeft: 8,\n    marginRight: 8,\n    maxWidth: width,\n    padding: 2,\n    paddingX: 4,\n    paddingY: 3,\n    rounding: 4\n  }, Boolean(variant === \"error\") && (React.createElement(Box, {\n    marginRight: 4\n  }, React.createElement(Icon, {\n    color: \"white\",\n    name: \"exclamation-circle\",\n    size: \"lg\"\n  }))), Boolean(variant === \"warning\") && (React.createElement(Box, {\n    marginRight: 4\n  }, React.createElement(Icon, {\n    color: \"white\",\n    name: \"exclamation-triangle\",\n    size: \"lg\"\n  }))), React.createElement(Box, {\n    alignItems: \"center\",\n    direction: \"column\",\n    flex: \"shrink\",\n    justifyContent: \"center\"\n  }, React.createElement(Text, {\n    color: \"white\",\n    size: \"lg\",\n    weight: \"bold\"\n  }, message)), Boolean(buttonOnClick && buttonText) && (React.createElement(Box, {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginLeft: 4\n  }, React.createElement(Button, {\n    color: \"lightGray\",\n    shape: \"pill\",\n    text: buttonText,\n    onClick: buttonOnClick\n  }))), Boolean(onDismiss && persistent) && (React.createElement(Box, {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginLeft: 4\n  }, React.createElement(IconButton, {\n    accessibilityLabel: \"Dismiss notification\",\n    icon: \"times\",\n    iconColor: \"white\",\n    onClick: onDismiss\n  }))));\n};","map":{"version":3,"sources":["../src/Toast.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React from \"react\";\nimport { Dimensions } from \"react-native\";\nimport { useToast as useRNToast } from \"react-native-toast-notifications\";\nimport { Box } from \"./Box\";\nimport { Button } from \"./Button\";\nimport { Icon } from \"./Icon\";\nimport { IconButton } from \"./IconButton\";\nimport { Text } from \"./Text\";\nimport { isAPIError, printAPIError } from \"./Utilities\";\nconst TOAST_DURATION_MS = 3 * 1000;\nexport function useToast() {\n    const toast = useRNToast();\n    const show = (text, options) => {\n        return toast.show(text, {\n            data: options,\n            // a duration of 0 keeps the toast up infinitely until hidden\n            duration: (options === null || options === void 0 ? void 0 : options.persistent) ? 0 : TOAST_DURATION_MS,\n        });\n    };\n    return {\n        show,\n        warn: (text, options) => {\n            return show(text, Object.assign(Object.assign({}, options), { variant: \"warning\" }));\n        },\n        error: (text, options) => {\n            return show(text, Object.assign(Object.assign({}, options), { variant: \"error\" }));\n        },\n        hide: (id) => toast.hide(id),\n        catch: (error, message, options) => {\n            var _a, _b;\n            let exceptionMsg;\n            if (isAPIError(error)) {\n                // Get the error without details.\n                exceptionMsg = `${message}: ${printAPIError(error)}`;\n                console.error(exceptionMsg);\n            }\n            else {\n                exceptionMsg = (_b = (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : error === null || error === void 0 ? void 0 : error.error) !== null && _b !== void 0 ? _b : String(error);\n                console.error(`${message}: ${exceptionMsg}`);\n            }\n            show(exceptionMsg, Object.assign(Object.assign({}, options), { variant: \"error\" }));\n        },\n    };\n}\nexport const Toast = ({ message, data }) => {\n    // margin 8 on either side, times the standard 4px we multiply by.\n    const width = Math.min(Dimensions.get(\"window\").width - 16 * 4, 712);\n    const { variant, buttonText, buttonOnClick, persistent, onDismiss } = data !== null && data !== void 0 ? data : {};\n    let color = \"darkGray\";\n    if (variant === \"warning\" || variant === \"error\") {\n        color = variant;\n    }\n    return (React.createElement(Box, { alignItems: \"center\", color: color, direction: \"row\", flex: \"shrink\", marginBottom: 4, marginLeft: 8, marginRight: 8, maxWidth: width, padding: 2, paddingX: 4, paddingY: 3, rounding: 4 },\n        Boolean(variant === \"error\") && (React.createElement(Box, { marginRight: 4 },\n            React.createElement(Icon, { color: \"white\", name: \"exclamation-circle\", size: \"lg\" }))),\n        Boolean(variant === \"warning\") && (React.createElement(Box, { marginRight: 4 },\n            React.createElement(Icon, { color: \"white\", name: \"exclamation-triangle\", size: \"lg\" }))),\n        React.createElement(Box, { alignItems: \"center\", direction: \"column\", flex: \"shrink\", justifyContent: \"center\" },\n            React.createElement(Text, { color: \"white\", size: \"lg\", weight: \"bold\" }, message)),\n        Boolean(buttonOnClick && buttonText) && (React.createElement(Box, { alignItems: \"center\", justifyContent: \"center\", marginLeft: 4 },\n            React.createElement(Button, { color: \"lightGray\", shape: \"pill\", text: buttonText, onClick: buttonOnClick }))),\n        Boolean(onDismiss && persistent) && (React.createElement(Box, { alignItems: \"center\", justifyContent: \"center\", marginLeft: 4 },\n            React.createElement(IconButton, { accessibilityLabel: \"Dismiss notification\", icon: \"times\", iconColor: \"white\", onClick: onDismiss })))));\n};\n//# sourceMappingURL=Toast.js.map"]},"metadata":{},"sourceType":"module"}