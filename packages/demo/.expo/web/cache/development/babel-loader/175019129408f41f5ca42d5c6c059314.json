{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component, createRef } from \"react\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport UIManager from \"react-native-web/dist/exports/UIManager\";\nimport View from \"react-native-web/dist/exports/View\";\nexport var styles = StyleSheet.create({\n  scrollView: {\n    height: \"100%\",\n    width: \"100%\",\n    backgroundColor: \"transparent\"\n  },\n  container: {\n    width: \"100%\",\n    backgroundColor: \"white\",\n    alignSelf: \"center\"\n  },\n  safearea: {\n    position: \"absolute\",\n    top: 999999,\n    left: 999999\n  },\n  indicator: {\n    height: 6,\n    width: 45,\n    borderRadius: 100,\n    backgroundColor: \"#f0f0f0\",\n    marginVertical: 5,\n    alignSelf: \"center\"\n  },\n  parentContainer: {\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});\nexport function getDeviceHeight(statusBarTranslucent) {\n  var height = Dimensions.get(\"window\").height;\n  if (Platform.OS === \"android\" && !statusBarTranslucent) {\n    return StatusBar.currentHeight ? height - StatusBar.currentHeight : height;\n  }\n  return height;\n}\nexport var getElevation = function getElevation(elevation) {\n  if (!elevation) {\n    return {};\n  }\n  return {\n    elevation: elevation,\n    shadowColor: \"black\",\n    shadowOffset: {\n      width: 0.3 * elevation,\n      height: 0.5 * elevation\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 0.7 * elevation\n  };\n};\nexport var SUPPORTED_ORIENTATIONS = [\"portrait\", \"portrait-upside-down\", \"landscape\", \"landscape-left\", \"landscape-right\"];\nexport var waitAsync = function waitAsync(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      resolve(null);\n    }, ms);\n  });\n};\nvar safeAreaInnerHeight = 0;\nvar dummyData = [\"dummy\"];\nvar safeAreaPaddingTop = Platform.OS === \"android\" ? StatusBar.currentHeight || 0 : 0;\nvar calculatedDeviceHeight = Dimensions.get(\"window\").height;\nvar defaultProps = {\n  animated: true,\n  closeOnPressBack: true,\n  bounciness: 8,\n  extraScroll: 0,\n  closeAnimationDuration: 300,\n  delayActionSheetDrawTime: 0,\n  openAnimationSpeed: 12,\n  springOffset: 100,\n  elevation: 5,\n  initialOffsetFromBottom: 1,\n  indicatorColor: \"#f0f0f0\",\n  defaultOverlayOpacity: 0.3,\n  overlayColor: \"black\",\n  closable: true,\n  bottomOffset: 0,\n  closeOnTouchBackdrop: true,\n  drawUnderStatusBar: true,\n  statusBarTranslucent: true,\n  keyboardMode: \"padding\",\n  gestureEnabled: false\n};\nexport var ActionSheet = function (_Component) {\n  _inherits(ActionSheet, _Component);\n  var _super = _createSuper(ActionSheet);\n  function ActionSheet(props) {\n    var _this;\n    _classCallCheck(this, ActionSheet);\n    _this = _super.call(this, props);\n    _this.actionSheetHeight = 0;\n    _this.keyboardDidShowListener = null;\n    _this.keyboardDidHideListener = null;\n    _this.prevScroll = 0;\n    _this.timeout = null;\n    _this.offsetY = 0;\n    _this.currentOffsetFromBottom = 0;\n    _this.scrollAnimationEndValue = 0;\n    _this.hasBounced = false;\n    _this.layoutHasCalled = false;\n    _this.isClosing = false;\n    _this.isRecoiling = false;\n    _this.isReachedTop = false;\n    _this.deviceLayoutCalled = false;\n    _this.snapToOffset = function (offset) {\n      var correction = _this.state.deviceHeight * 0.15;\n      var extraScroll = _this.props.extraScroll || 0;\n      var scrollOffset = _this.props.gestureEnabled ? offset + correction + extraScroll : offset + correction + extraScroll;\n      _this.currentOffsetFromBottom = offset / _this.actionSheetHeight;\n      _this._scrollTo(scrollOffset);\n      _this.updateActionSheetPosition(scrollOffset);\n    };\n    _this.show = function () {\n      _this.setModalVisible(true);\n    };\n    _this.hide = function () {\n      _this.setModalVisible(false);\n    };\n    _this.setModalVisible = function (visible) {\n      var modalVisible = _this.state.modalVisible;\n      if (visible !== undefined) {\n        if (modalVisible === visible) {\n          return;\n        }\n        modalVisible = !visible;\n      }\n      if (!modalVisible) {\n        _this.setState({\n          modalVisible: true,\n          scrollable: _this.props.gestureEnabled || false\n        });\n      } else {\n        _this._hideModal();\n      }\n    };\n    _this._hideModal = function () {\n      if (_this.isClosing) return;\n      _this.isClosing = true;\n      _this._hideAnimation();\n    };\n    _this.measure = _asyncToGenerator(function* () {\n      return new Promise(function (resolve) {\n        setTimeout(function () {\n          UIManager.measureInWindow(_this.safeAreaViewRef.current._nativeTag, function (x, y, width, height) {\n            safeAreaPaddingTop = height;\n            resolve(height === 0 ? 20 : height);\n          });\n        }, 100);\n      });\n    });\n    _this._showModal = function () {\n      var _ref2 = _asyncToGenerator(function* (event) {\n        var _this$props = _this.props,\n          gestureEnabled = _this$props.gestureEnabled,\n          delayActionSheetDraw = _this$props.delayActionSheetDraw,\n          delayActionSheetDrawTime = _this$props.delayActionSheetDrawTime;\n        if (!(event === null || event === void 0 ? void 0 : event.nativeEvent)) return;\n        var height = event.nativeEvent.layout.height;\n        if (_this.layoutHasCalled) {\n          _this.actionSheetHeight = height;\n          _this._returnToPrevScrollPosition(height);\n          return;\n        } else {\n          _this.layoutHasCalled = true;\n          _this.actionSheetHeight = height;\n          var scrollOffset = _this.getInitialScrollPosition();\n          _this.isRecoiling = false;\n          if (Platform.OS === \"ios\") {\n            yield waitAsync(delayActionSheetDrawTime);\n          } else {\n            if (delayActionSheetDraw) {\n              yield waitAsync(delayActionSheetDrawTime);\n            }\n          }\n          _this._scrollTo(scrollOffset, false);\n          _this.prevScroll = scrollOffset;\n          if (Platform.OS === \"ios\") {\n            yield waitAsync(delayActionSheetDrawTime !== null && delayActionSheetDrawTime !== void 0 ? delayActionSheetDrawTime : 0 / 2);\n          } else {\n            if (delayActionSheetDraw) {\n              yield waitAsync(delayActionSheetDrawTime !== null && delayActionSheetDrawTime !== void 0 ? delayActionSheetDrawTime : 0 / 2);\n            }\n          }\n          _this._openAnimation(scrollOffset);\n          _this.underlayScale.setValue(1);\n          _this.underlayTranslateY.setValue(100);\n          if (!gestureEnabled) {\n            _this.props.onPositionChanged && _this.props.onPositionChanged(true);\n          }\n          _this.updateActionSheetPosition(scrollOffset);\n        }\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    _this._openAnimation = function (scrollOffset) {\n      var _this$props2 = _this.props,\n        bounciness = _this$props2.bounciness,\n        bounceOnOpen = _this$props2.bounceOnOpen,\n        animated = _this$props2.animated,\n        openAnimationSpeed = _this$props2.openAnimationSpeed;\n      if (animated) {\n        _this.transformValue.setValue(scrollOffset);\n        Animated.parallel([Animated.spring(_this.transformValue, {\n          toValue: 0,\n          bounciness: bounceOnOpen ? bounciness : 1,\n          speed: openAnimationSpeed,\n          useNativeDriver: true\n        }), Animated.timing(_this.opacityValue, {\n          toValue: 1,\n          duration: 150,\n          useNativeDriver: true\n        })]).start();\n      } else {\n        _this.opacityValue.setValue(1);\n      }\n    };\n    _this._onScrollBegin = _asyncToGenerator(function* () {});\n    _this._onScrollBeginDrag = function () {\n      var _ref4 = _asyncToGenerator(function* (event) {\n        _this.prevScroll = event.nativeEvent.contentOffset.y;\n      });\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    _this._onScrollEnd = function () {\n      var _ref5 = _asyncToGenerator(function* (event) {\n        var _a;\n        var _this$props3 = _this.props,\n          springOffset = _this$props3.springOffset,\n          extraScroll = _this$props3.extraScroll;\n        var verticalOffset = event.nativeEvent.contentOffset.y;\n        var correction = _this.state.deviceHeight * 0.15;\n        if (_this.isRecoiling) return;\n        if (_this.prevScroll < verticalOffset) {\n          if (verticalOffset - _this.prevScroll > (springOffset !== null && springOffset !== void 0 ? springOffset : 0) * 0.75) {\n            _this.isRecoiling = true;\n            _this._applyHeightLimiter();\n            _this.currentOffsetFromBottom = _this.currentOffsetFromBottom < ((_a = _this.props.initialOffsetFromBottom) !== null && _a !== void 0 ? _a : 0) ? _this.props.initialOffsetFromBottom : 1;\n            var scrollOffset = _this.actionSheetHeight * _this.currentOffsetFromBottom + correction + (extraScroll !== null && extraScroll !== void 0 ? extraScroll : 0);\n            _this._scrollTo(scrollOffset);\n            yield waitAsync(300);\n            _this.isRecoiling = false;\n            _this.props.onPositionChanged && _this.props.onPositionChanged(true);\n          } else {\n            _this._returnToPrevScrollPosition(_this.actionSheetHeight);\n          }\n        } else {\n          if (_this.prevScroll - verticalOffset > (springOffset !== null && springOffset !== void 0 ? springOffset : 0)) {\n            _this._hideModal();\n          } else {\n            if (_this.isRecoiling) {\n              return;\n            }\n            _this.isRecoiling = true;\n            _this._returnToPrevScrollPosition(_this.actionSheetHeight);\n            yield waitAsync(300);\n            _this.isRecoiling = false;\n          }\n        }\n      });\n      return function (_x3) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    _this._scrollTo = function (y) {\n      var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var _a;\n      _this.scrollAnimationEndValue = y;\n      _this.prevScroll = y;\n      (_a = _this.scrollViewRef.current) === null || _a === void 0 ? void 0 : _a._listRef._scrollRef.scrollTo({\n        x: 0,\n        y: _this.scrollAnimationEndValue,\n        animated: animated\n      });\n    };\n    _this._onTouchMove = function () {\n      if (_this.props.closeOnTouchBackdrop) {\n        _this._hideModal();\n      }\n      _this.setState({\n        scrollable: false\n      });\n    };\n    _this._onTouchStart = function () {\n      if (_this.props.closeOnTouchBackdrop) {\n        _this._hideModal();\n      }\n      _this.setState({\n        scrollable: false\n      });\n    };\n    _this._onTouchEnd = function () {\n      _this._returnToPrevScrollPosition(_this.actionSheetHeight);\n      if (_this.props.gestureEnabled) {\n        _this.setState({\n          scrollable: true\n        });\n      }\n    };\n    _this._onScroll = function (event) {\n      _this.offsetY = event.nativeEvent.contentOffset.y;\n      var correction = _this.state.deviceHeight * 0.15;\n      var distanceFromTop = _this.actionSheetHeight + correction - _this.offsetY;\n      if (_this.actionSheetHeight < _this.offsetY) {\n        if (!_this.isReachedTop) {\n          _this.isReachedTop = true;\n          _this.props.onPositionChanged && _this.props.onPositionChanged(true);\n        }\n      } else {\n        if (_this.isReachedTop) {\n          _this.isReachedTop = false;\n          _this.props.onPositionChanged && _this.props.onPositionChanged(false);\n        }\n      }\n      if (_this.actionSheetHeight >= _this.state.deviceHeight - 1) {\n        if (distanceFromTop < safeAreaPaddingTop) {\n          if (!_this.props.drawUnderStatusBar) return;\n          _this.indicatorTranslateY.setValue(-_this.state.paddingTop + (safeAreaPaddingTop - distanceFromTop));\n        } else {\n          _this.indicatorTranslateY.setValue(-safeAreaPaddingTop);\n        }\n      }\n    };\n    _this._onRequestClose = function () {\n      if (_this.props.closeOnPressBack) _this._hideModal();\n    };\n    _this._onTouchBackdrop = function () {\n      if (_this.props.closeOnTouchBackdrop) {\n        _this._hideModal();\n      }\n    };\n    _this._onKeyboardShow = function (event) {\n      _this.setState({\n        keyboard: true\n      });\n      var ReactNativeVersion = require(\"react-native/Libraries/Core/ReactNativeVersion\");\n      var v = ReactNativeVersion.version.major + ReactNativeVersion.version.minor;\n      v = parseInt(v);\n      if (v >= 63 || Platform.OS === \"ios\") {\n        var keyboardHeight = event.endCoordinates.height;\n        var _Dimensions$get = Dimensions.get(\"window\"),\n          windowHeight = _Dimensions$get.height;\n        var currentlyFocusedField = TextInput.State.currentlyFocusedField ? findNodeHandle(TextInput.State.currentlyFocusedField()) : TextInput.State.currentlyFocusedField();\n        if (!currentlyFocusedField) {\n          return;\n        }\n        UIManager.measure(currentlyFocusedField, function (originX, originY, width, height, pageX, pageY) {\n          var fieldHeight = height;\n          var gap = windowHeight - keyboardHeight - (pageY + fieldHeight);\n          if (gap >= 0) {\n            return;\n          }\n          var toValue = _this.props.keyboardMode === \"position\" ? -(keyboardHeight + 15) : gap - 10;\n          Animated.timing(_this.transformValue, {\n            toValue: toValue,\n            duration: 250,\n            useNativeDriver: true\n          }).start();\n        });\n      } else {\n        Animated.timing(_this.transformValue, {\n          toValue: -10,\n          duration: 250,\n          useNativeDriver: true\n        }).start();\n      }\n    };\n    _this.handleChildScrollEnd = _asyncToGenerator(function* () {\n      var _a, _b;\n      if (_this.offsetY > _this.prevScroll) return;\n      if (_this.prevScroll - ((_a = _this.props.springOffset) !== null && _a !== void 0 ? _a : 0) > _this.offsetY) {\n        var scrollOffset = _this.getInitialScrollPosition();\n        if (_this.offsetY > scrollOffset - 100) {\n          _this.isRecoiling = true;\n          _this._scrollTo(scrollOffset);\n          _this.currentOffsetFromBottom = (_b = _this.props.initialOffsetFromBottom) !== null && _b !== void 0 ? _b : 0;\n          _this.prevScroll = scrollOffset;\n          setTimeout(function () {\n            _this.isRecoiling = false;\n          }, 500);\n        } else {\n          _this._hideModal();\n        }\n      } else {\n        _this.isRecoiling = true;\n        _this._scrollTo(_this.prevScroll, true);\n        setTimeout(function () {\n          _this.isRecoiling = false;\n        }, 500);\n      }\n    });\n    _this._onKeyboardHide = function () {\n      _this.setState({\n        keyboard: false\n      });\n      _this.opacityValue.setValue(1);\n      Animated.timing(_this.transformValue, {\n        toValue: 0,\n        duration: 100,\n        useNativeDriver: true\n      }).start();\n    };\n    _this._onDeviceLayout = function () {\n      var _ref7 = _asyncToGenerator(function* (_event) {\n        var event = Object.assign({}, _event);\n        if (_this.timeout) {\n          clearTimeout(_this.timeout);\n        }\n        _this.timeout = setTimeout(_asyncToGenerator(function* () {\n          var _a;\n          var safeMarginFromTop = 0;\n          var measuredPadding = Platform.OS === \"ios\" ? yield _this.measure() : StatusBar.currentHeight;\n          if (!_this.props.drawUnderStatusBar) {\n            if (Platform.OS === \"android\" && !_this.props.statusBarTranslucent) return;\n            safeMarginFromTop = measuredPadding !== null && measuredPadding !== void 0 ? measuredPadding : 0;\n            _this.indicatorTranslateY.setValue(-measuredPadding);\n          } else {\n            _this.updateActionSheetPosition(_this.offsetY);\n          }\n          var height = event.nativeEvent.layout.height - safeMarginFromTop;\n          var width = Dimensions.get(\"window\").width;\n          if ((height === null || height === void 0 ? void 0 : height.toFixed(0)) === (calculatedDeviceHeight === null || calculatedDeviceHeight === void 0 ? void 0 : calculatedDeviceHeight.toFixed(0)) && (width === null || width === void 0 ? void 0 : width.toFixed(0)) === ((_a = _this.state.deviceWidth) === null || _a === void 0 ? void 0 : _a.toFixed(0)) && _this.deviceLayoutCalled) return;\n          _this.deviceLayoutCalled = true;\n          calculatedDeviceHeight = height;\n          _this.setState({\n            deviceHeight: height,\n            deviceWidth: width,\n            portrait: height > width,\n            paddingTop: measuredPadding\n          });\n        }), 1);\n      });\n      return function (_x4) {\n        return _ref7.apply(this, arguments);\n      };\n    }();\n    _this._keyExtractor = function (item) {\n      return item;\n    };\n    _this.state = {\n      modalVisible: false,\n      scrollable: false,\n      layoutHasCalled: false,\n      keyboard: false,\n      deviceHeight: calculatedDeviceHeight || getDeviceHeight(_this.props.statusBarTranslucent),\n      deviceWidth: Dimensions.get(\"window\").width,\n      portrait: true,\n      safeAreaInnerHeight: safeAreaInnerHeight,\n      paddingTop: safeAreaPaddingTop\n    };\n    _this.actionSheetHeight = 0;\n    _this.prevScroll = 0;\n    _this.scrollAnimationEndValue = 0;\n    _this.hasBounced = false;\n    _this.scrollViewRef = createRef();\n    _this.layoutHasCalled = false;\n    _this.isClosing = false;\n    _this.isRecoiling = false;\n    _this.offsetY = 0;\n    _this.safeAreaViewRef = createRef();\n    _this.transformValue = new Animated.Value(0);\n    _this.opacityValue = new Animated.Value(0);\n    _this.borderRadius = new Animated.Value(10);\n    _this.currentOffsetFromBottom = _this.props.initialOffsetFromBottom;\n    _this.underlayTranslateY = new Animated.Value(100);\n    _this.underlayScale = new Animated.Value(1);\n    _this.indicatorTranslateY = new Animated.Value(-_this.state.paddingTop | 0);\n    _this.isReachedTop = false;\n    _this.deviceLayoutCalled = false;\n    _this.timeout = null;\n    return _this;\n  }\n  _createClass(ActionSheet, [{\n    key: \"_hideAnimation\",\n    value: function _hideAnimation() {\n      var _this2 = this;\n      var _this$props4 = this.props,\n        animated = _this$props4.animated,\n        closeAnimationDuration = _this$props4.closeAnimationDuration,\n        bottomOffset = _this$props4.bottomOffset,\n        initialOffsetFromBottom = _this$props4.initialOffsetFromBottom,\n        extraScroll = _this$props4.extraScroll,\n        closable = _this$props4.closable;\n      Animated.parallel([Animated.timing(this.opacityValue, {\n        toValue: closable ? 0 : 1,\n        duration: animated ? closeAnimationDuration : 1,\n        useNativeDriver: true\n      }), Animated.timing(this.transformValue, {\n        toValue: closable ? this.actionSheetHeight * 2 : 0,\n        duration: animated ? closeAnimationDuration : 1,\n        useNativeDriver: true\n      })]).start();\n      void waitAsync(closeAnimationDuration / 1.5).then(function () {\n        if (!closable) {\n          if (bottomOffset && bottomOffset > 0) {\n            _this2.snapToOffset(bottomOffset);\n          } else {\n            _this2._scrollTo(_this2.actionSheetHeight * (initialOffsetFromBottom || 0) + _this2.state.deviceHeight * 0.1 + (extraScroll !== null && extraScroll !== void 0 ? extraScroll : 0), true);\n            _this2.currentOffsetFromBottom = initialOffsetFromBottom;\n          }\n          _this2.isClosing = false;\n        } else {\n          _this2._scrollTo(0, false);\n          _this2.currentOffsetFromBottom = initialOffsetFromBottom;\n          _this2.setState({\n            modalVisible: !closable\n          }, function () {\n            _this2.isClosing = false;\n            _this2.isReachedTop = false;\n            _this2.props.onPositionChanged && _this2.props.onPositionChanged(false);\n            _this2.indicatorTranslateY.setValue(-_this2.state.paddingTop);\n            _this2.layoutHasCalled = false;\n            _this2.deviceLayoutCalled = false;\n            _this2.props.onClose && _this2.props.onClose();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_applyHeightLimiter\",\n    value: function _applyHeightLimiter() {\n      if (this.actionSheetHeight > this.state.deviceHeight) {\n        this.actionSheetHeight = this.actionSheetHeight - (this.actionSheetHeight - this.state.deviceHeight);\n      }\n    }\n  }, {\n    key: \"updateActionSheetPosition\",\n    value: function updateActionSheetPosition(scrollPosition) {\n      if (this.actionSheetHeight >= this.state.deviceHeight - 1) {\n        var correction = this.state.deviceHeight * 0.15;\n        var distanceFromTop = this.actionSheetHeight + correction - scrollPosition;\n        if (distanceFromTop < safeAreaPaddingTop) {\n          if (!this.props.drawUnderStatusBar) return;\n          this.indicatorTranslateY.setValue(0);\n        } else {\n          this.indicatorTranslateY.setValue(-safeAreaPaddingTop);\n        }\n      }\n    }\n  }, {\n    key: \"_returnToPrevScrollPosition\",\n    value: function _returnToPrevScrollPosition(height) {\n      var _a;\n      var correction = this.state.deviceHeight * 0.15;\n      var scrollOffset = height * this.currentOffsetFromBottom + correction + ((_a = this.props.extraScroll) !== null && _a !== void 0 ? _a : 0);\n      this.updateActionSheetPosition(scrollOffset);\n      this._scrollTo(scrollOffset);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.keyboardDidShowListener = Keyboard.addListener(Platform.OS === \"android\" ? \"keyboardDidShow\" : \"keyboardWillShow\", this._onKeyboardShow);\n      this.keyboardDidHideListener = Keyboard.addListener(Platform.OS === \"android\" ? \"keyboardDidHide\" : \"keyboardWillHide\", this._onKeyboardHide);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _a, _b;\n      (_a = this.keyboardDidShowListener) === null || _a === void 0 ? void 0 : _a.remove();\n      (_b = this.keyboardDidHideListener) === null || _b === void 0 ? void 0 : _b.remove();\n    }\n  }, {\n    key: \"getInitialScrollPosition\",\n    value: function getInitialScrollPosition() {\n      var _a, _b, _c, _d;\n      this._applyHeightLimiter();\n      var correction = this.state.deviceHeight * 0.15;\n      var scrollPosition = this.props.gestureEnabled ? this.actionSheetHeight * ((_a = this.props.initialOffsetFromBottom) !== null && _a !== void 0 ? _a : 0) + correction + ((_b = this.props.extraScroll) !== null && _b !== void 0 ? _b : 0) : this.actionSheetHeight + correction + ((_c = this.props.extraScroll) !== null && _c !== void 0 ? _c : 0);\n      this.currentOffsetFromBottom = (_d = this.props.initialOffsetFromBottom) !== null && _d !== void 0 ? _d : 0;\n      this.updateActionSheetPosition(scrollPosition);\n      return scrollPosition;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$state = this.state,\n        scrollable = _this$state.scrollable,\n        modalVisible = _this$state.modalVisible,\n        keyboard = _this$state.keyboard;\n      var _this$props5 = this.props,\n        onOpen = _this$props5.onOpen,\n        overlayColor = _this$props5.overlayColor,\n        gestureEnabled = _this$props5.gestureEnabled,\n        elevation = _this$props5.elevation,\n        indicatorColor = _this$props5.indicatorColor,\n        defaultOverlayOpacity = _this$props5.defaultOverlayOpacity,\n        children = _this$props5.children,\n        containerStyle = _this$props5.containerStyle,\n        CustomHeaderComponent = _this$props5.CustomHeaderComponent,\n        headerAlwaysVisible = _this$props5.headerAlwaysVisible,\n        keyboardShouldPersistTaps = _this$props5.keyboardShouldPersistTaps,\n        statusBarTranslucent = _this$props5.statusBarTranslucent;\n      return React.createElement(Modal, {\n        animationType: \"none\",\n        statusBarTranslucent: statusBarTranslucent,\n        supportedOrientations: SUPPORTED_ORIENTATIONS,\n        transparent: true,\n        visible: modalVisible,\n        onRequestClose: this._onRequestClose,\n        onShow: onOpen\n      }, React.createElement(Animated.View, {\n        style: [styles.parentContainer, {\n          opacity: this.opacityValue,\n          width: this.state.deviceWidth\n        }],\n        onLayout: this._onDeviceLayout\n      }, React.createElement(SafeAreaView, {\n        ref: this.safeAreaViewRef,\n        style: styles.safearea\n      }, React.createElement(View, null)), React.createElement(FlatList, {\n        ref: this.scrollViewRef,\n        bounces: false,\n        contentContainerStyle: {\n          width: this.state.deviceWidth\n        },\n        data: dummyData,\n        keyExtractor: this._keyExtractor,\n        keyboardShouldPersistTaps: keyboardShouldPersistTaps,\n        renderItem: function renderItem() {\n          return React.createElement(View, {\n            style: {\n              width: \"100%\"\n            }\n          }, React.createElement(Animated.View, {\n            style: {\n              height: \"100%\",\n              width: \"100%\",\n              position: \"absolute\",\n              zIndex: 1,\n              backgroundColor: overlayColor,\n              opacity: defaultOverlayOpacity\n            },\n            onTouchEnd: _this3._onTouchBackdrop,\n            onTouchMove: _this3._onTouchBackdrop,\n            onTouchStart: _this3._onTouchBackdrop\n          }), React.createElement(View, {\n            style: {\n              height: _this3.state.deviceHeight * 1.15,\n              width: \"100%\",\n              zIndex: 10\n            },\n            onTouchEnd: _this3._onTouchEnd,\n            onTouchMove: _this3._onTouchMove,\n            onTouchStart: _this3._onTouchStart\n          }, React.createElement(Pressable, {\n            style: {\n              height: _this3.state.deviceHeight * 1.15,\n              width: \"100%\"\n            },\n            onLongPress: _this3._onTouchBackdrop,\n            onPress: _this3._onTouchBackdrop\n          })), React.createElement(Animated.View, {\n            style: [styles.container, {\n              borderRadius: 10\n            }, containerStyle, Object.assign(Object.assign({}, getElevation(elevation)), {\n              zIndex: 11,\n              opacity: _this3.opacityValue,\n              transform: [{\n                translateY: _this3.transformValue\n              }],\n              maxHeight: _this3.state.deviceHeight\n            })],\n            onLayout: _this3._showModal\n          }, React.createElement(Animated.View, {\n            style: {\n              maxHeight: _this3.state.deviceHeight,\n              transform: [{\n                translateY: _this3.indicatorTranslateY\n              }],\n              marginTop: _this3.state.paddingTop\n            }\n          }, gestureEnabled || headerAlwaysVisible ? CustomHeaderComponent ? CustomHeaderComponent : (React.createElement(Animated.View, {\n            style: [styles.indicator, {\n              backgroundColor: indicatorColor\n            }]\n          })) : null, children)));\n        },\n        scrollEnabled: scrollable && !keyboard,\n        scrollEventThrottle: 5,\n        scrollsToTop: false,\n        showsVerticalScrollIndicator: false,\n        style: [styles.scrollView, {\n          width: this.state.deviceWidth\n        }],\n        onMomentumScrollBegin: this._onScrollBegin,\n        onMomentumScrollEnd: this._onScrollEnd,\n        onScroll: this._onScroll,\n        onScrollBeginDrag: this._onScrollBeginDrag,\n        onTouchEnd: this._onTouchEnd\n      })));\n    }\n  }]);\n  return ActionSheet;\n}(Component);\nActionSheet.defaultProps = defaultProps;","map":{"version":3,"sources":["../src/ActionSheet.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { Component, createRef } from \"react\";\nimport { Animated, Dimensions, findNodeHandle, FlatList, Keyboard, Modal, Platform, Pressable, SafeAreaView, StatusBar, StyleSheet, TextInput, UIManager, View, } from \"react-native\";\nexport const styles = StyleSheet.create({\n    scrollView: {\n        height: \"100%\",\n        width: \"100%\",\n        backgroundColor: \"transparent\",\n    },\n    container: {\n        width: \"100%\",\n        backgroundColor: \"white\",\n        alignSelf: \"center\",\n    },\n    safearea: {\n        position: \"absolute\",\n        top: 999999,\n        left: 999999,\n    },\n    indicator: {\n        height: 6,\n        width: 45,\n        borderRadius: 100,\n        backgroundColor: \"#f0f0f0\",\n        marginVertical: 5,\n        alignSelf: \"center\",\n    },\n    parentContainer: {\n        width: \"100%\",\n        height: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n});\nexport function getDeviceHeight(statusBarTranslucent) {\n    const height = Dimensions.get(\"window\").height;\n    if (Platform.OS === \"android\" && !statusBarTranslucent) {\n        return StatusBar.currentHeight ? height - StatusBar.currentHeight : height;\n    }\n    return height;\n}\nexport const getElevation = (elevation) => {\n    if (!elevation) {\n        return {};\n    }\n    return {\n        elevation,\n        shadowColor: \"black\",\n        shadowOffset: { width: 0.3 * elevation, height: 0.5 * elevation },\n        shadowOpacity: 0.2,\n        shadowRadius: 0.7 * elevation,\n    };\n};\nexport const SUPPORTED_ORIENTATIONS = [\"portrait\", \"portrait-upside-down\", \"landscape\", \"landscape-left\", \"landscape-right\"];\nexport const waitAsync = (ms) => new Promise((resolve) => {\n    setTimeout(() => {\n        resolve(null);\n    }, ms);\n});\nconst safeAreaInnerHeight = 0;\nconst dummyData = [\"dummy\"];\nlet safeAreaPaddingTop = Platform.OS === \"android\" ? StatusBar.currentHeight || 0 : 0;\nlet calculatedDeviceHeight = Dimensions.get(\"window\").height;\nconst defaultProps = {\n    animated: true,\n    closeOnPressBack: true,\n    bounciness: 8,\n    extraScroll: 0,\n    closeAnimationDuration: 300,\n    delayActionSheetDrawTime: 0,\n    openAnimationSpeed: 12,\n    springOffset: 100,\n    elevation: 5,\n    initialOffsetFromBottom: 1,\n    indicatorColor: \"#f0f0f0\",\n    defaultOverlayOpacity: 0.3,\n    overlayColor: \"black\",\n    closable: true,\n    bottomOffset: 0,\n    closeOnTouchBackdrop: true,\n    drawUnderStatusBar: true,\n    statusBarTranslucent: true,\n    keyboardMode: \"padding\",\n    gestureEnabled: false,\n};\nexport class ActionSheet extends Component {\n    constructor(props) {\n        super(props);\n        this.actionSheetHeight = 0;\n        this.keyboardDidShowListener = null;\n        this.keyboardDidHideListener = null;\n        this.prevScroll = 0;\n        this.timeout = null;\n        this.offsetY = 0;\n        this.currentOffsetFromBottom = 0;\n        this.scrollAnimationEndValue = 0;\n        this.hasBounced = false;\n        this.layoutHasCalled = false;\n        this.isClosing = false;\n        this.isRecoiling = false;\n        this.isReachedTop = false;\n        this.deviceLayoutCalled = false;\n        /**\n         * Snap ActionSheet to Offset\n         */\n        this.snapToOffset = (offset) => {\n            const correction = this.state.deviceHeight * 0.15;\n            const extraScroll = this.props.extraScroll || 0;\n            const scrollOffset = this.props.gestureEnabled\n                ? offset + correction + extraScroll\n                : offset + correction + extraScroll;\n            this.currentOffsetFromBottom = offset / this.actionSheetHeight;\n            this._scrollTo(scrollOffset);\n            this.updateActionSheetPosition(scrollOffset);\n        };\n        // Open the ActionSheet\n        this.show = () => {\n            this.setModalVisible(true);\n        };\n        // Close the ActionSheet\n        this.hide = () => {\n            this.setModalVisible(false);\n        };\n        /**\n         * Open/Close the ActionSheet\n         */\n        this.setModalVisible = (visible) => {\n            let modalVisible = this.state.modalVisible;\n            if (visible !== undefined) {\n                if (modalVisible === visible) {\n                    return;\n                }\n                modalVisible = !visible;\n            }\n            if (!modalVisible) {\n                this.setState({\n                    modalVisible: true,\n                    scrollable: this.props.gestureEnabled || false,\n                });\n            }\n            else {\n                this._hideModal();\n            }\n        };\n        this._hideModal = () => {\n            if (this.isClosing)\n                return;\n            this.isClosing = true;\n            this._hideAnimation();\n        };\n        this.measure = async () => {\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    UIManager.measureInWindow(this.safeAreaViewRef.current._nativeTag, (x, y, width, height) => {\n                        safeAreaPaddingTop = height;\n                        resolve(height === 0 ? 20 : height);\n                    });\n                }, 100);\n            });\n        };\n        this._showModal = async (event) => {\n            const { gestureEnabled, delayActionSheetDraw, delayActionSheetDrawTime } = this.props;\n            if (!(event === null || event === void 0 ? void 0 : event.nativeEvent))\n                return;\n            const height = event.nativeEvent.layout.height;\n            if (this.layoutHasCalled) {\n                this.actionSheetHeight = height;\n                this._returnToPrevScrollPosition(height);\n                return;\n            }\n            else {\n                this.layoutHasCalled = true;\n                this.actionSheetHeight = height;\n                const scrollOffset = this.getInitialScrollPosition();\n                this.isRecoiling = false;\n                if (Platform.OS === \"ios\") {\n                    await waitAsync(delayActionSheetDrawTime);\n                }\n                else {\n                    if (delayActionSheetDraw) {\n                        await waitAsync(delayActionSheetDrawTime);\n                    }\n                }\n                this._scrollTo(scrollOffset, false);\n                this.prevScroll = scrollOffset;\n                if (Platform.OS === \"ios\") {\n                    await waitAsync(delayActionSheetDrawTime !== null && delayActionSheetDrawTime !== void 0 ? delayActionSheetDrawTime : 0 / 2);\n                }\n                else {\n                    if (delayActionSheetDraw) {\n                        await waitAsync(delayActionSheetDrawTime !== null && delayActionSheetDrawTime !== void 0 ? delayActionSheetDrawTime : 0 / 2);\n                    }\n                }\n                this._openAnimation(scrollOffset);\n                this.underlayScale.setValue(1);\n                this.underlayTranslateY.setValue(100);\n                if (!gestureEnabled) {\n                    this.props.onPositionChanged && this.props.onPositionChanged(true);\n                }\n                this.updateActionSheetPosition(scrollOffset);\n            }\n        };\n        this._openAnimation = (scrollOffset) => {\n            const { bounciness, bounceOnOpen, animated, openAnimationSpeed } = this.props;\n            if (animated) {\n                this.transformValue.setValue(scrollOffset);\n                Animated.parallel([\n                    Animated.spring(this.transformValue, {\n                        toValue: 0,\n                        bounciness: bounceOnOpen ? bounciness : 1,\n                        speed: openAnimationSpeed,\n                        useNativeDriver: true,\n                    }),\n                    Animated.timing(this.opacityValue, {\n                        toValue: 1,\n                        duration: 150,\n                        useNativeDriver: true,\n                    }),\n                ]).start();\n            }\n            else {\n                this.opacityValue.setValue(1);\n            }\n        };\n        this._onScrollBegin = async () => { };\n        this._onScrollBeginDrag = async (event) => {\n            this.prevScroll = event.nativeEvent.contentOffset.y;\n        };\n        this._onScrollEnd = async (event) => {\n            var _a;\n            const { springOffset, extraScroll } = this.props;\n            const verticalOffset = event.nativeEvent.contentOffset.y;\n            const correction = this.state.deviceHeight * 0.15;\n            if (this.isRecoiling)\n                return;\n            if (this.prevScroll < verticalOffset) {\n                if (verticalOffset - this.prevScroll > (springOffset !== null && springOffset !== void 0 ? springOffset : 0) * 0.75) {\n                    this.isRecoiling = true;\n                    this._applyHeightLimiter();\n                    this.currentOffsetFromBottom =\n                        this.currentOffsetFromBottom < ((_a = this.props.initialOffsetFromBottom) !== null && _a !== void 0 ? _a : 0)\n                            ? this.props.initialOffsetFromBottom\n                            : 1;\n                    const scrollOffset = this.actionSheetHeight * this.currentOffsetFromBottom + correction + (extraScroll !== null && extraScroll !== void 0 ? extraScroll : 0);\n                    this._scrollTo(scrollOffset);\n                    await waitAsync(300);\n                    this.isRecoiling = false;\n                    this.props.onPositionChanged && this.props.onPositionChanged(true);\n                }\n                else {\n                    this._returnToPrevScrollPosition(this.actionSheetHeight);\n                }\n            }\n            else {\n                if (this.prevScroll - verticalOffset > (springOffset !== null && springOffset !== void 0 ? springOffset : 0)) {\n                    this._hideModal();\n                }\n                else {\n                    if (this.isRecoiling) {\n                        return;\n                    }\n                    this.isRecoiling = true;\n                    this._returnToPrevScrollPosition(this.actionSheetHeight);\n                    await waitAsync(300);\n                    this.isRecoiling = false;\n                }\n            }\n        };\n        this._scrollTo = (y, animated = true) => {\n            var _a;\n            this.scrollAnimationEndValue = y;\n            this.prevScroll = y;\n            (_a = this.scrollViewRef.current) === null || _a === void 0 ? void 0 : _a._listRef._scrollRef.scrollTo({\n                x: 0,\n                y: this.scrollAnimationEndValue,\n                animated,\n            });\n        };\n        this._onTouchMove = () => {\n            if (this.props.closeOnTouchBackdrop) {\n                this._hideModal();\n            }\n            this.setState({\n                scrollable: false,\n            });\n        };\n        this._onTouchStart = () => {\n            if (this.props.closeOnTouchBackdrop) {\n                this._hideModal();\n            }\n            this.setState({\n                scrollable: false,\n            });\n        };\n        this._onTouchEnd = () => {\n            this._returnToPrevScrollPosition(this.actionSheetHeight);\n            if (this.props.gestureEnabled) {\n                this.setState({\n                    scrollable: true,\n                });\n            }\n        };\n        this._onScroll = (event) => {\n            this.offsetY = event.nativeEvent.contentOffset.y;\n            const correction = this.state.deviceHeight * 0.15;\n            const distanceFromTop = this.actionSheetHeight + correction - this.offsetY;\n            if (this.actionSheetHeight < this.offsetY) {\n                if (!this.isReachedTop) {\n                    this.isReachedTop = true;\n                    this.props.onPositionChanged && this.props.onPositionChanged(true);\n                }\n            }\n            else {\n                if (this.isReachedTop) {\n                    this.isReachedTop = false;\n                    this.props.onPositionChanged && this.props.onPositionChanged(false);\n                }\n            }\n            if (this.actionSheetHeight >= this.state.deviceHeight - 1) {\n                if (distanceFromTop < safeAreaPaddingTop) {\n                    if (!this.props.drawUnderStatusBar)\n                        return;\n                    this.indicatorTranslateY.setValue(-this.state.paddingTop + (safeAreaPaddingTop - distanceFromTop));\n                }\n                else {\n                    this.indicatorTranslateY.setValue(-safeAreaPaddingTop);\n                }\n            }\n        };\n        this._onRequestClose = () => {\n            if (this.props.closeOnPressBack)\n                this._hideModal();\n        };\n        this._onTouchBackdrop = () => {\n            if (this.props.closeOnTouchBackdrop) {\n                this._hideModal();\n            }\n        };\n        this._onKeyboardShow = (event) => {\n            this.setState({\n                keyboard: true,\n            });\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\n            const ReactNativeVersion = require(\"react-native/Libraries/Core/ReactNativeVersion\");\n            let v = ReactNativeVersion.version.major + ReactNativeVersion.version.minor;\n            v = parseInt(v);\n            if (v >= 63 || Platform.OS === \"ios\") {\n                const keyboardHeight = event.endCoordinates.height;\n                const { height: windowHeight } = Dimensions.get(\"window\");\n                const currentlyFocusedField = TextInput.State.currentlyFocusedField\n                    ? findNodeHandle(TextInput.State.currentlyFocusedField())\n                    : TextInput.State.currentlyFocusedField();\n                if (!currentlyFocusedField) {\n                    return;\n                }\n                UIManager.measure(currentlyFocusedField, (originX, originY, width, height, pageX, pageY) => {\n                    const fieldHeight = height;\n                    const gap = windowHeight - keyboardHeight - (pageY + fieldHeight);\n                    if (gap >= 0) {\n                        return;\n                    }\n                    const toValue = this.props.keyboardMode === \"position\" ? -(keyboardHeight + 15) : gap - 10;\n                    Animated.timing(this.transformValue, {\n                        toValue,\n                        duration: 250,\n                        useNativeDriver: true,\n                    }).start();\n                });\n            }\n            else {\n                Animated.timing(this.transformValue, {\n                    toValue: -10,\n                    duration: 250,\n                    useNativeDriver: true,\n                }).start();\n            }\n        };\n        /**\n         * Attach this to any child ScrollView Component's onScrollEndDrag,\n         * onMomentumScrollEnd,onScrollAnimationEnd callbacks to handle the ActionSheet\n         * closing and bouncing back properly.\n         */\n        this.handleChildScrollEnd = async () => {\n            var _a, _b;\n            if (this.offsetY > this.prevScroll)\n                return;\n            if (this.prevScroll - ((_a = this.props.springOffset) !== null && _a !== void 0 ? _a : 0) > this.offsetY) {\n                const scrollOffset = this.getInitialScrollPosition();\n                if (this.offsetY > scrollOffset - 100) {\n                    this.isRecoiling = true;\n                    this._scrollTo(scrollOffset);\n                    this.currentOffsetFromBottom = (_b = this.props.initialOffsetFromBottom) !== null && _b !== void 0 ? _b : 0;\n                    this.prevScroll = scrollOffset;\n                    setTimeout(() => {\n                        this.isRecoiling = false;\n                    }, 500);\n                }\n                else {\n                    this._hideModal();\n                }\n            }\n            else {\n                this.isRecoiling = true;\n                this._scrollTo(this.prevScroll, true);\n                setTimeout(() => {\n                    this.isRecoiling = false;\n                }, 500);\n            }\n        };\n        this._onKeyboardHide = () => {\n            this.setState({\n                keyboard: false,\n            });\n            this.opacityValue.setValue(1);\n            Animated.timing(this.transformValue, {\n                toValue: 0,\n                duration: 100,\n                useNativeDriver: true,\n            }).start();\n        };\n        this._onDeviceLayout = async (_event) => {\n            const event = Object.assign({}, _event);\n            if (this.timeout) {\n                clearTimeout(this.timeout);\n            }\n            this.timeout = setTimeout(async () => {\n                var _a;\n                let safeMarginFromTop = 0;\n                const measuredPadding = Platform.OS === \"ios\" ? await this.measure() : StatusBar.currentHeight;\n                if (!this.props.drawUnderStatusBar) {\n                    if (Platform.OS === \"android\" && !this.props.statusBarTranslucent)\n                        return;\n                    safeMarginFromTop = measuredPadding !== null && measuredPadding !== void 0 ? measuredPadding : 0;\n                    this.indicatorTranslateY.setValue(-measuredPadding);\n                }\n                else {\n                    this.updateActionSheetPosition(this.offsetY);\n                }\n                const height = event.nativeEvent.layout.height - safeMarginFromTop;\n                const width = Dimensions.get(\"window\").width;\n                if ((height === null || height === void 0 ? void 0 : height.toFixed(0)) === (calculatedDeviceHeight === null || calculatedDeviceHeight === void 0 ? void 0 : calculatedDeviceHeight.toFixed(0)) &&\n                    (width === null || width === void 0 ? void 0 : width.toFixed(0)) === ((_a = this.state.deviceWidth) === null || _a === void 0 ? void 0 : _a.toFixed(0)) &&\n                    this.deviceLayoutCalled)\n                    return;\n                this.deviceLayoutCalled = true;\n                calculatedDeviceHeight = height;\n                this.setState({\n                    deviceHeight: height,\n                    deviceWidth: width,\n                    portrait: height > width,\n                    paddingTop: measuredPadding,\n                });\n            }, 1);\n        };\n        this._keyExtractor = (item) => item;\n        this.state = {\n            modalVisible: false,\n            scrollable: false,\n            layoutHasCalled: false,\n            keyboard: false,\n            deviceHeight: calculatedDeviceHeight || getDeviceHeight(this.props.statusBarTranslucent),\n            deviceWidth: Dimensions.get(\"window\").width,\n            portrait: true,\n            safeAreaInnerHeight,\n            paddingTop: safeAreaPaddingTop,\n        };\n        this.actionSheetHeight = 0;\n        this.prevScroll = 0;\n        this.scrollAnimationEndValue = 0;\n        this.hasBounced = false;\n        this.scrollViewRef = createRef();\n        this.layoutHasCalled = false;\n        this.isClosing = false;\n        this.isRecoiling = false;\n        this.offsetY = 0;\n        this.safeAreaViewRef = createRef();\n        this.transformValue = new Animated.Value(0);\n        this.opacityValue = new Animated.Value(0);\n        this.borderRadius = new Animated.Value(10);\n        this.currentOffsetFromBottom = this.props.initialOffsetFromBottom;\n        this.underlayTranslateY = new Animated.Value(100);\n        this.underlayScale = new Animated.Value(1);\n        this.indicatorTranslateY = new Animated.Value(-this.state.paddingTop | 0);\n        this.isReachedTop = false;\n        this.deviceLayoutCalled = false;\n        this.timeout = null;\n    }\n    _hideAnimation() {\n        const { animated, closeAnimationDuration, bottomOffset, initialOffsetFromBottom, extraScroll, closable, } = this.props;\n        Animated.parallel([\n            Animated.timing(this.opacityValue, {\n                toValue: closable ? 0 : 1,\n                duration: animated ? closeAnimationDuration : 1,\n                useNativeDriver: true,\n            }),\n            Animated.timing(this.transformValue, {\n                toValue: closable ? this.actionSheetHeight * 2 : 0,\n                duration: animated ? closeAnimationDuration : 1,\n                useNativeDriver: true,\n            }),\n        ]).start();\n        void waitAsync(closeAnimationDuration / 1.5).then(() => {\n            if (!closable) {\n                if (bottomOffset && bottomOffset > 0) {\n                    this.snapToOffset(bottomOffset);\n                }\n                else {\n                    this._scrollTo((this.actionSheetHeight * (initialOffsetFromBottom || 0)) +\n                        this.state.deviceHeight * 0.1 +\n                        (extraScroll !== null && extraScroll !== void 0 ? extraScroll : 0), true);\n                    this.currentOffsetFromBottom = initialOffsetFromBottom;\n                }\n                this.isClosing = false;\n            }\n            else {\n                this._scrollTo(0, false);\n                this.currentOffsetFromBottom = initialOffsetFromBottom;\n                this.setState({\n                    modalVisible: !closable,\n                }, () => {\n                    this.isClosing = false;\n                    this.isReachedTop = false;\n                    this.props.onPositionChanged && this.props.onPositionChanged(false);\n                    this.indicatorTranslateY.setValue(-this.state.paddingTop);\n                    this.layoutHasCalled = false;\n                    this.deviceLayoutCalled = false;\n                    this.props.onClose && this.props.onClose();\n                });\n            }\n        });\n    }\n    _applyHeightLimiter() {\n        if (this.actionSheetHeight > this.state.deviceHeight) {\n            this.actionSheetHeight =\n                this.actionSheetHeight - (this.actionSheetHeight - this.state.deviceHeight);\n        }\n    }\n    updateActionSheetPosition(scrollPosition) {\n        if (this.actionSheetHeight >= this.state.deviceHeight - 1) {\n            const correction = this.state.deviceHeight * 0.15;\n            const distanceFromTop = this.actionSheetHeight + correction - scrollPosition;\n            if (distanceFromTop < safeAreaPaddingTop) {\n                if (!this.props.drawUnderStatusBar)\n                    return;\n                this.indicatorTranslateY.setValue(0);\n            }\n            else {\n                this.indicatorTranslateY.setValue(-safeAreaPaddingTop);\n            }\n        }\n    }\n    _returnToPrevScrollPosition(height) {\n        var _a;\n        const correction = this.state.deviceHeight * 0.15;\n        const scrollOffset = height * this.currentOffsetFromBottom + correction + ((_a = this.props.extraScroll) !== null && _a !== void 0 ? _a : 0);\n        this.updateActionSheetPosition(scrollOffset);\n        this._scrollTo(scrollOffset);\n    }\n    componentDidMount() {\n        this.keyboardDidShowListener = Keyboard.addListener(Platform.OS === \"android\" ? \"keyboardDidShow\" : \"keyboardWillShow\", this._onKeyboardShow);\n        this.keyboardDidHideListener = Keyboard.addListener(Platform.OS === \"android\" ? \"keyboardDidHide\" : \"keyboardWillHide\", this._onKeyboardHide);\n    }\n    componentWillUnmount() {\n        var _a, _b;\n        (_a = this.keyboardDidShowListener) === null || _a === void 0 ? void 0 : _a.remove();\n        (_b = this.keyboardDidHideListener) === null || _b === void 0 ? void 0 : _b.remove();\n    }\n    getInitialScrollPosition() {\n        var _a, _b, _c, _d;\n        this._applyHeightLimiter();\n        const correction = this.state.deviceHeight * 0.15;\n        const scrollPosition = this.props.gestureEnabled\n            ? this.actionSheetHeight * ((_a = this.props.initialOffsetFromBottom) !== null && _a !== void 0 ? _a : 0) +\n                correction +\n                ((_b = this.props.extraScroll) !== null && _b !== void 0 ? _b : 0)\n            : this.actionSheetHeight + correction + ((_c = this.props.extraScroll) !== null && _c !== void 0 ? _c : 0);\n        this.currentOffsetFromBottom = (_d = this.props.initialOffsetFromBottom) !== null && _d !== void 0 ? _d : 0;\n        this.updateActionSheetPosition(scrollPosition);\n        return scrollPosition;\n    }\n    render() {\n        const { scrollable, modalVisible, keyboard } = this.state;\n        const { onOpen, overlayColor, gestureEnabled, elevation, indicatorColor, defaultOverlayOpacity, children, containerStyle, CustomHeaderComponent, headerAlwaysVisible, keyboardShouldPersistTaps, statusBarTranslucent, } = this.props;\n        return (React.createElement(Modal, { animationType: \"none\", statusBarTranslucent: statusBarTranslucent, \n            // testID={testID}\n            supportedOrientations: SUPPORTED_ORIENTATIONS, transparent: true, visible: modalVisible, onRequestClose: this._onRequestClose, onShow: onOpen },\n            React.createElement(Animated.View, { style: [\n                    styles.parentContainer,\n                    {\n                        opacity: this.opacityValue,\n                        width: this.state.deviceWidth,\n                    },\n                ], onLayout: this._onDeviceLayout },\n                React.createElement(SafeAreaView, { ref: this.safeAreaViewRef, style: styles.safearea },\n                    React.createElement(View, null)),\n                React.createElement(FlatList, { ref: this.scrollViewRef, bounces: false, contentContainerStyle: {\n                        width: this.state.deviceWidth,\n                    }, data: dummyData, keyExtractor: this._keyExtractor, keyboardShouldPersistTaps: keyboardShouldPersistTaps, renderItem: () => (React.createElement(View, { style: {\n                            width: \"100%\",\n                        } },\n                        React.createElement(Animated.View, { style: {\n                                height: \"100%\",\n                                width: \"100%\",\n                                position: \"absolute\",\n                                zIndex: 1,\n                                backgroundColor: overlayColor,\n                                opacity: defaultOverlayOpacity,\n                            }, onTouchEnd: this._onTouchBackdrop, onTouchMove: this._onTouchBackdrop, onTouchStart: this._onTouchBackdrop }),\n                        React.createElement(View, { style: {\n                                height: this.state.deviceHeight * 1.15,\n                                width: \"100%\",\n                                zIndex: 10,\n                            }, onTouchEnd: this._onTouchEnd, onTouchMove: this._onTouchMove, onTouchStart: this._onTouchStart },\n                            React.createElement(Pressable, { style: {\n                                    height: this.state.deviceHeight * 1.15,\n                                    width: \"100%\",\n                                }, onLongPress: this._onTouchBackdrop, onPress: this._onTouchBackdrop })),\n                        React.createElement(Animated.View, { style: [\n                                styles.container,\n                                {\n                                    borderRadius: 10,\n                                },\n                                containerStyle,\n                                Object.assign(Object.assign({}, getElevation(elevation)), { zIndex: 11, opacity: this.opacityValue, transform: [\n                                        {\n                                            translateY: this.transformValue,\n                                        },\n                                    ], maxHeight: this.state.deviceHeight }),\n                            ], onLayout: this._showModal },\n                            React.createElement(Animated.View, { style: {\n                                    maxHeight: this.state.deviceHeight,\n                                    transform: [\n                                        {\n                                            translateY: this.indicatorTranslateY,\n                                        },\n                                    ],\n                                    marginTop: this.state.paddingTop,\n                                } },\n                                gestureEnabled || headerAlwaysVisible ? (CustomHeaderComponent ? (CustomHeaderComponent) : (React.createElement(Animated.View, { style: [styles.indicator, { backgroundColor: indicatorColor }] }))) : null,\n                                children)))), scrollEnabled: scrollable && !keyboard, scrollEventThrottle: 5, scrollsToTop: false, showsVerticalScrollIndicator: false, style: [\n                        styles.scrollView,\n                        {\n                            width: this.state.deviceWidth,\n                        },\n                    ], onMomentumScrollBegin: this._onScrollBegin, onMomentumScrollEnd: this._onScrollEnd, onScroll: this._onScroll, onScrollBeginDrag: this._onScrollBeginDrag, onTouchEnd: this._onTouchEnd }))));\n    }\n}\nActionSheet.defaultProps = defaultProps;\n//# sourceMappingURL=ActionSheet.js.map"]},"metadata":{},"sourceType":"module"}