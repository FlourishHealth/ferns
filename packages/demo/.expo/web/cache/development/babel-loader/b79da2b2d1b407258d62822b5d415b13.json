{"ast":null,"code":"'use strict';\n\nimport { defineAnimation, getReduceMotionForAnimation } from '../util';\nimport { rubberBandDecay } from './rubberBandDecay';\nimport { isValidRubberBandConfig } from './utils';\nimport { rigidDecay } from './rigidDecay';\nvar _worklet_10880719511297_init_data = {\n  code: \"function validateConfig(config){if(config.clamp){if(!Array.isArray(config.clamp)){throw new Error(\\\"[Reanimated] `config.clamp` must be an array but is \\\"+typeof config.clamp+\\\".\\\");}if(config.clamp.length!==2){throw new Error(\\\"[Reanimated] `clamp array` must contain 2 items but is given \\\"+config.clamp.length+\\\".\\\");}}if(config.velocityFactor<=0){throw new Error(\\\"[Reanimated] `config.velocityFactor` must be greather then 0 but is \\\"+config.velocityFactor+\\\".\\\");}if(config.rubberBandEffect&&!config.clamp){throw new Error('[Reanimated] You need to set `clamp` property when using `rubberBandEffect`.');}}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/animation/decay/decay.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"validateConfig\\\",\\\"config\\\",\\\"clamp\\\",\\\"Error\\\",\\\"length\\\",\\\"velocityFactor\\\",\\\"rubberBandEffect\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/animation/decay/decay.js\\\"],\\\"mappings\\\":\\\"AAOA,SAAAA,eAAAC,MAAA,KAAAA,MAAA,CAAAC,KAAA,E,iCAEA,KAAS,KAAAC,KAAA,uDAAuB,QAAAF,MAAA,CAAAC,KAAA,MAG9B,CACE,GAAID,MAAM,CAACC,KAAA,CAAAE,MAAQ,GAAO,EAAK,CAC7B,KAAM,IAAI,CAAAD,KAAK,gEAA0D,CAAOF,MAAO,CAAAC,KAAM,CAAAE,MAAG,MAClG,C,IAEEH,MAAM,CAAAI,cAAS,KACjB,UAAAF,KAAA,wEAAAF,MAAA,CAAAI,cAAA,MACF,CACA,GAAIJ,MAAM,CAACK,gBAAc,EAAK,CAAEL,MAAA,CAAAC,KAAA,EAC9B,KAAM,IAAI,CAAAC,KAAK,+EAA0E,CAAM,CACjG,C\\\"}\",\n  version: \"3.6.3\"\n};\nvar validateConfig = function () {\n  var _e = [new global.Error(), 1, -27];\n  var validateConfig = function validateConfig(config) {\n    if (config.clamp) {\n      if (!Array.isArray(config.clamp)) {\n        throw new Error(`[Reanimated] \\`config.clamp\\` must be an array but is ${typeof config.clamp}.`);\n      }\n      if (config.clamp.length !== 2) {\n        throw new Error(`[Reanimated] \\`clamp array\\` must contain 2 items but is given ${config.clamp.length}.`);\n      }\n    }\n    if (config.velocityFactor <= 0) {\n      throw new Error(`[Reanimated] \\`config.velocityFactor\\` must be greather then 0 but is ${config.velocityFactor}.`);\n    }\n    if (config.rubberBandEffect && !config.clamp) {\n      throw new Error('[Reanimated] You need to set `clamp` property when using `rubberBandEffect`.');\n    }\n  };\n  validateConfig.__closure = {};\n  validateConfig.__workletHash = 10880719511297;\n  validateConfig.__initData = _worklet_10880719511297_init_data;\n  validateConfig.__stackDetails = _e;\n  return validateConfig;\n}();\nvar _worklet_12854220298_init_data = {\n  code: \"function anonymous(userConfig,callback){const{defineAnimation,isValidRubberBandConfig,rubberBandDecay,rigidDecay,validateConfig,getReduceMotionForAnimation}=this.__closure;return defineAnimation(0,function(){'worklet';var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0,rubberBandFactor:0.6};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const decay=isValidRubberBandConfig(config)?function(animation,now){return rubberBandDecay(animation,now,config);}:function(animation,now){return rigidDecay(animation,now,config);};function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig(config);if(animation.reduceMotion&&config.clamp){if(value<config.clamp[0]){animation.current=config.clamp[0];}else if(value>config.clamp[1]){animation.current=config.clamp[1];}}}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0,reduceMotion:getReduceMotionForAnimation(config.reduceMotion)};});}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/animation/decay/decay.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"userConfig\\\",\\\"callback\\\",\\\"defineAnimation\\\",\\\"isValidRubberBandConfig\\\",\\\"rubberBandDecay\\\",\\\"rigidDecay\\\",\\\"validateConfig\\\",\\\"getReduceMotionForAnimation\\\",\\\"__closure\\\",\\\"_config$velocity\\\",\\\"config\\\",\\\"deceleration\\\",\\\"velocityFactor\\\",\\\"velocity\\\",\\\"rubberBandFactor\\\",\\\"Object\\\",\\\"keys\\\",\\\"forEach\\\",\\\"key\\\",\\\"decay\\\",\\\"animation\\\",\\\"now\\\",\\\"onStart\\\",\\\"value\\\",\\\"current\\\",\\\"lastTimestamp\\\",\\\"startTimestamp\\\",\\\"initialVelocity\\\",\\\"reduceMotion\\\",\\\"clamp\\\",\\\"onFrame\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/animation/decay/decay.js\\\"],\\\"mappings\\\":\\\"AAoCyB,SAAAA,SAAUA,CAAAC,UAAY,CAAQC,QAAE,QAAAC,eAAA,CAAAC,uBAAA,CAAAC,eAAA,CAAAC,UAAA,CAAAC,cAAA,CAAAC,2BAAA,OAAAC,SAAA,CAGvD,MAAO,CAAAN,eAAe,CAAC,CAAC,CAAE,UAAM,CAC9B,SAAS,KAAAO,gBAAA,CAET,KAAM,CAAAC,MAAM,CAAG,CACbC,YAAY,CAAE,KAAK,CACnBC,cAAc,CAAE,CAAC,CACjBC,QAAQ,CAAE,CAAC,CACXC,gBAAgB,CAAE,GACpB,CAAC,CACD,GAAId,UAAU,CAAE,CACde,MAAM,CAACC,IAAI,CAAChB,UAAU,CAAC,CAACiB,OAAO,CAAC,SAAAC,GAAG,QAAI,CAAAR,MAAM,CAACQ,GAAG,CAAC,CAAGlB,UAAU,CAACkB,GAAG,CAAC,GAAC,CACvE,CACA,KAAM,CAAAC,KAAK,CAAGhB,uBAAuB,CAACO,MAAM,CAAC,CAAG,SAACU,SAAS,CAAEC,GAAG,QAAK,CAAAjB,eAAe,CAACgB,SAAS,CAAEC,GAAG,CAAEX,MAAM,CAAC,GAAG,SAACU,SAAS,CAAEC,GAAG,QAAK,CAAAhB,UAAU,CAACe,SAAS,CAAEC,GAAG,CAAEX,MAAM,CAAC,GACpK,QAAS,CAAAY,OAAOA,CAACF,SAAS,CAAEG,KAAK,CAAEF,GAAG,CAAE,CACtCD,SAAS,CAACI,OAAO,CAAGD,KAAK,CACzBH,SAAS,CAACK,aAAa,CAAGJ,GAAG,CAC7BD,SAAS,CAACM,cAAc,CAAGL,GAAG,CAC9BD,SAAS,CAACO,eAAe,CAAGjB,MAAM,CAACG,QAAQ,CAC3CP,cAAc,CAACI,MAAM,CAAC,CACtB,GAAIU,SAAS,CAACQ,YAAY,EAAIlB,MAAM,CAACmB,KAAK,CAAE,CAC1C,GAAIN,KAAK,CAAGb,MAAM,CAACmB,KAAK,CAAC,CAAC,CAAC,CAAE,CAC3BT,SAAS,CAACI,OAAO,CAAGd,MAAM,CAACmB,KAAK,CAAC,CAAC,CAAC,CACrC,CAAC,IAAM,IAAIN,KAAK,CAAGb,MAAM,CAACmB,KAAK,CAAC,CAAC,CAAC,CAAE,CAClCT,SAAS,CAACI,OAAO,CAAGd,MAAM,CAACmB,KAAK,CAAC,CAAC,CAAC,CACrC,CACF,CACF,CACA,MAAO,CACLC,OAAO,CAAEX,KAAK,CACdG,OAAO,CAAPA,OAAO,CACPrB,QAAQ,CAARA,QAAQ,CACRY,QAAQ,EAAAJ,gBAAA,CAAEC,MAAM,CAACG,QAAQ,UAAAJ,gBAAA,UAAAA,gBAAA,CAAI,CAAC,CAC9BkB,eAAe,CAAE,CAAC,CAClBH,OAAO,CAAE,CAAC,CACVC,aAAa,CAAE,CAAC,CAChBC,cAAc,CAAE,CAAC,CACjBE,YAAY,CAAErB,2BAA2B,CAACG,MAAM,CAACkB,YAAY,CAC/D,CAAC,CACH,CAAC,CAAC,CACJ\\\"}\",\n  version: \"3.6.3\"\n};\nvar _worklet_3982720953188_init_data = {\n  code: \"function anonymous(){const{userConfig,isValidRubberBandConfig,rubberBandDecay,rigidDecay,validateConfig,callback,getReduceMotionForAnimation}=this.__closure;var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0,rubberBandFactor:0.6};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const decay=isValidRubberBandConfig(config)?function(animation,now){return rubberBandDecay(animation,now,config);}:function(animation,now){return rigidDecay(animation,now,config);};function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig(config);if(animation.reduceMotion&&config.clamp){if(value<config.clamp[0]){animation.current=config.clamp[0];}else if(value>config.clamp[1]){animation.current=config.clamp[1];}}}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0,reduceMotion:getReduceMotionForAnimation(config.reduceMotion)};}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/animation/decay/decay.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"userConfig\\\",\\\"isValidRubberBandConfig\\\",\\\"rubberBandDecay\\\",\\\"rigidDecay\\\",\\\"validateConfig\\\",\\\"callback\\\",\\\"getReduceMotionForAnimation\\\",\\\"__closure\\\",\\\"_config$velocity\\\",\\\"config\\\",\\\"deceleration\\\",\\\"velocityFactor\\\",\\\"velocity\\\",\\\"rubberBandFactor\\\",\\\"Object\\\",\\\"keys\\\",\\\"forEach\\\",\\\"key\\\",\\\"decay\\\",\\\"animation\\\",\\\"now\\\",\\\"onStart\\\",\\\"value\\\",\\\"current\\\",\\\"lastTimestamp\\\",\\\"startTimestamp\\\",\\\"initialVelocity\\\",\\\"reduceMotion\\\",\\\"clamp\\\",\\\"onFrame\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/animation/decay/decay.js\\\"],\\\"mappings\\\":\\\"AAuC4B,SAAAA,SAAMA,CAAA,QAAAC,UAAA,CAAAC,uBAAA,CAAAC,eAAA,CAAAC,UAAA,CAAAC,cAAA,CAAAC,QAAA,CAAAC,2BAAA,OAAAC,SAAA,KAAAC,gBAAA,CAG9B,KAAM,CAAAC,MAAM,CAAG,CACbC,YAAY,CAAE,KAAK,CACnBC,cAAc,CAAE,CAAC,CACjBC,QAAQ,CAAE,CAAC,CACXC,gBAAgB,CAAE,GACpB,CAAC,CACD,GAAIb,UAAU,CAAE,CACdc,MAAM,CAACC,IAAI,CAACf,UAAU,CAAC,CAACgB,OAAO,CAAC,SAAAC,GAAG,QAAI,CAAAR,MAAM,CAACQ,GAAG,CAAC,CAAGjB,UAAU,CAACiB,GAAG,CAAC,GAAC,CACvE,CACA,KAAM,CAAAC,KAAK,CAAGjB,uBAAuB,CAACQ,MAAM,CAAC,CAAG,SAACU,SAAS,CAAEC,GAAG,QAAK,CAAAlB,eAAe,CAACiB,SAAS,CAAEC,GAAG,CAAEX,MAAM,CAAC,GAAG,SAACU,SAAS,CAAEC,GAAG,QAAK,CAAAjB,UAAU,CAACgB,SAAS,CAAEC,GAAG,CAAEX,MAAM,CAAC,GACpK,QAAS,CAAAY,OAAOA,CAACF,SAAS,CAAEG,KAAK,CAAEF,GAAG,CAAE,CACtCD,SAAS,CAACI,OAAO,CAAGD,KAAK,CACzBH,SAAS,CAACK,aAAa,CAAGJ,GAAG,CAC7BD,SAAS,CAACM,cAAc,CAAGL,GAAG,CAC9BD,SAAS,CAACO,eAAe,CAAGjB,MAAM,CAACG,QAAQ,CAC3CR,cAAc,CAACK,MAAM,CAAC,CACtB,GAAIU,SAAS,CAACQ,YAAY,EAAIlB,MAAM,CAACmB,KAAK,CAAE,CAC1C,GAAIN,KAAK,CAAGb,MAAM,CAACmB,KAAK,CAAC,CAAC,CAAC,CAAE,CAC3BT,SAAS,CAACI,OAAO,CAAGd,MAAM,CAACmB,KAAK,CAAC,CAAC,CAAC,CACrC,CAAC,IAAM,IAAIN,KAAK,CAAGb,MAAM,CAACmB,KAAK,CAAC,CAAC,CAAC,CAAE,CAClCT,SAAS,CAACI,OAAO,CAAGd,MAAM,CAACmB,KAAK,CAAC,CAAC,CAAC,CACrC,CACF,CACF,CACA,MAAO,CACLC,OAAO,CAAEX,KAAK,CACdG,OAAO,CAAPA,OAAO,CACPhB,QAAQ,CAARA,QAAQ,CACRO,QAAQ,EAAAJ,gBAAA,CAAEC,MAAM,CAACG,QAAQ,UAAAJ,gBAAA,UAAAA,gBAAA,CAAI,CAAC,CAC9BkB,eAAe,CAAE,CAAC,CAClBH,OAAO,CAAE,CAAC,CACVC,aAAa,CAAE,CAAC,CAChBC,cAAc,CAAE,CAAC,CACjBE,YAAY,CAAErB,2BAA2B,CAACG,MAAM,CAACkB,YAAY,CAC/D,CAAC,CACH\\\"}\",\n  version: \"3.6.3\"\n};\nexport var withDecay = function () {\n  var _e = [new global.Error(), -7, -27];\n  var anonymous = function anonymous(userConfig, callback) {\n    return defineAnimation(0, function () {\n      var _e = [new global.Error(), -8, -27];\n      var anonymous = function anonymous() {\n        var _config$velocity;\n        var config = {\n          deceleration: 0.998,\n          velocityFactor: 1,\n          velocity: 0,\n          rubberBandFactor: 0.6\n        };\n        if (userConfig) {\n          Object.keys(userConfig).forEach(function (key) {\n            return config[key] = userConfig[key];\n          });\n        }\n        var decay = isValidRubberBandConfig(config) ? function (animation, now) {\n          return rubberBandDecay(animation, now, config);\n        } : function (animation, now) {\n          return rigidDecay(animation, now, config);\n        };\n        function onStart(animation, value, now) {\n          animation.current = value;\n          animation.lastTimestamp = now;\n          animation.startTimestamp = now;\n          animation.initialVelocity = config.velocity;\n          validateConfig(config);\n          if (animation.reduceMotion && config.clamp) {\n            if (value < config.clamp[0]) {\n              animation.current = config.clamp[0];\n            } else if (value > config.clamp[1]) {\n              animation.current = config.clamp[1];\n            }\n          }\n        }\n        return {\n          onFrame: decay,\n          onStart: onStart,\n          callback: callback,\n          velocity: (_config$velocity = config.velocity) != null ? _config$velocity : 0,\n          initialVelocity: 0,\n          current: 0,\n          lastTimestamp: 0,\n          startTimestamp: 0,\n          reduceMotion: getReduceMotionForAnimation(config.reduceMotion)\n        };\n      };\n      anonymous.__closure = {\n        userConfig: userConfig,\n        isValidRubberBandConfig: isValidRubberBandConfig,\n        rubberBandDecay: rubberBandDecay,\n        rigidDecay: rigidDecay,\n        validateConfig: validateConfig,\n        callback: callback,\n        getReduceMotionForAnimation: getReduceMotionForAnimation\n      };\n      anonymous.__workletHash = 3982720953188;\n      anonymous.__initData = _worklet_3982720953188_init_data;\n      anonymous.__stackDetails = _e;\n      return anonymous;\n    }());\n  };\n  anonymous.__closure = {\n    defineAnimation: defineAnimation,\n    isValidRubberBandConfig: isValidRubberBandConfig,\n    rubberBandDecay: rubberBandDecay,\n    rigidDecay: rigidDecay,\n    validateConfig: validateConfig,\n    getReduceMotionForAnimation: getReduceMotionForAnimation\n  };\n  anonymous.__workletHash = 12854220298;\n  anonymous.__initData = _worklet_12854220298_init_data;\n  anonymous.__stackDetails = _e;\n  return anonymous;\n}();","map":{"version":3,"sources":["decay.ts"],"names":["defineAnimation","getReduceMotionForAnimation","rubberBandDecay","isValidRubberBandConfig","rigidDecay","validateConfig","config","clamp","Array","isArray","Error","length","velocityFactor","rubberBandEffect","withDecay","userConfig","callback","deceleration","velocity","rubberBandFactor","Object","keys","forEach","key","decay","animation","now","onStart","value","current","lastTimestamp","startTimestamp","initialVelocity","reduceMotion","onFrame"],"mappings":"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","sourcesContent":["'use strict';\nimport { defineAnimation, getReduceMotionForAnimation } from '../util';\nimport type {\n  AnimationCallback,\n  Timestamp,\n  Animation,\n} from '../../commonTypes';\nimport { rubberBandDecay } from './rubberBandDecay';\nimport { isValidRubberBandConfig } from './utils';\nimport type {\n  DecayAnimation,\n  DecayConfig,\n  DefaultDecayConfig,\n  InnerDecayAnimation,\n} from './utils';\nimport { rigidDecay } from './rigidDecay';\n\nexport type WithDecayConfig = DecayConfig;\n\n// TODO TYPESCRIPT This is a temporary type to get rid of .d.ts file.\ntype withDecayType = (\n  userConfig: DecayConfig,\n  callback?: AnimationCallback\n) => number;\n\nfunction validateConfig(config: DefaultDecayConfig): void {\n  'worklet';\n  if (config.clamp) {\n    if (!Array.isArray(config.clamp)) {\n      throw new Error(\n        `[Reanimated] \\`config.clamp\\` must be an array but is ${typeof config.clamp}.`\n      );\n    }\n    if (config.clamp.length !== 2) {\n      throw new Error(\n        `[Reanimated] \\`clamp array\\` must contain 2 items but is given ${config.clamp.length}.`\n      );\n    }\n  }\n  if (config.velocityFactor <= 0) {\n    throw new Error(\n      `[Reanimated] \\`config.velocityFactor\\` must be greather then 0 but is ${config.velocityFactor}.`\n    );\n  }\n  if (config.rubberBandEffect && !config.clamp) {\n    throw new Error(\n      '[Reanimated] You need to set `clamp` property when using `rubberBandEffect`.'\n    );\n  }\n}\n\n/**\n * Lets you create animations that mimic objects in motion with friction.\n *\n * @param config - The decay animation configuration - {@link DecayConfig}.\n * @param callback - A function called upon animation completion - {@link AnimationCallback}.\n * @returns An [animation object](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#animation-object) which holds the current state of the animation.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/animations/withDecay\n */\nexport const withDecay = function (\n  userConfig: DecayConfig,\n  callback?: AnimationCallback\n): Animation<DecayAnimation> {\n  'worklet';\n\n  return defineAnimation<DecayAnimation>(0, () => {\n    'worklet';\n    const config: DefaultDecayConfig = {\n      deceleration: 0.998,\n      velocityFactor: 1,\n      velocity: 0,\n      rubberBandFactor: 0.6,\n    };\n    if (userConfig) {\n      Object.keys(userConfig).forEach(\n        (key) =>\n          ((config as any)[key] = userConfig[key as keyof typeof userConfig])\n      );\n    }\n\n    const decay: (animation: InnerDecayAnimation, now: number) => boolean =\n      isValidRubberBandConfig(config)\n        ? (animation, now) => rubberBandDecay(animation, now, config)\n        : (animation, now) => rigidDecay(animation, now, config);\n\n    function onStart(\n      animation: DecayAnimation,\n      value: number,\n      now: Timestamp\n    ): void {\n      animation.current = value;\n      animation.lastTimestamp = now;\n      animation.startTimestamp = now;\n      animation.initialVelocity = config.velocity;\n      validateConfig(config);\n\n      if (animation.reduceMotion && config.clamp) {\n        if (value < config.clamp[0]) {\n          animation.current = config.clamp[0];\n        } else if (value > config.clamp[1]) {\n          animation.current = config.clamp[1];\n        }\n      }\n    }\n\n    return {\n      onFrame: decay,\n      onStart,\n      callback,\n      velocity: config.velocity ?? 0,\n      initialVelocity: 0,\n      current: 0,\n      lastTimestamp: 0,\n      startTimestamp: 0,\n      reduceMotion: getReduceMotionForAnimation(config.reduceMotion),\n    } as DecayAnimation;\n  });\n} as unknown as withDecayType;\n"]},"metadata":{},"sourceType":"module"}