{"ast":null,"code":"'use strict';\n\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n    case 1:\n      return x ^ y ^ z;\n    case 2:\n      return x & y ^ x & z ^ y & z;\n    case 3:\n      return x ^ y ^ z;\n    default:\n      return 0;\n  }\n}\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes));\n    bytes = new Array(msg.length);\n    for (var i = 0; i < msg.length; i++) bytes[i] = msg.charCodeAt(i);\n  }\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n  for (var _i = 0; _i < N; _i++) {\n    M[_i] = new Array(16);\n    for (var j = 0; j < 16; j++) {\n      M[_i][j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n  }\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n  for (var _i2 = 0; _i2 < N; _i2++) {\n    var W = new Array(80);\n    for (var t = 0; t < 16; t++) W[t] = M[_i2][t];\n    for (var _t = 16; _t < 80; _t++) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n    for (var _t2 = 0; _t2 < 80; _t2++) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\nexport default sha1;","map":{"version":3,"sources":["../../../src/uuid/lib/sha1.ts"],"names":[],"mappings":"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","sourcesContent":["// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\n'use strict';\n\nfunction f(s: number, x: number, y: number, z: number) {\n  switch (s) {\n    case 0:\n      return (x & y) ^ (~x & z);\n    case 1:\n      return x ^ y ^ z;\n    case 2:\n      return (x & y) ^ (x & z) ^ (y & z);\n    case 3:\n      return x ^ y ^ z;\n    default:\n      return 0;\n  }\n}\n\nfunction ROTL(x: number, n: number) {\n  return (x << n) | (x >>> (32 - n));\n}\n\nfunction sha1(bytes: number[] | string) {\n  const K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  const H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes == 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n    bytes = new Array(msg.length);\n    for (let i = 0; i < msg.length; i++) bytes[i] = msg.charCodeAt(i);\n  }\n\n  bytes.push(0x80);\n\n  const l = bytes.length / 4 + 2;\n  const N = Math.ceil(l / 16);\n  const M = new Array(N);\n\n  for (let i = 0; i < N; i++) {\n    M[i] = new Array(16);\n    for (let j = 0; j < 16; j++) {\n      M[i][j] =\n        (bytes[i * 64 + j * 4] << 24) |\n        (bytes[i * 64 + j * 4 + 1] << 16) |\n        (bytes[i * 64 + j * 4 + 2] << 8) |\n        bytes[i * 64 + j * 4 + 3];\n    }\n  }\n\n  M[N - 1][14] = ((bytes.length - 1) * 8) / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = ((bytes.length - 1) * 8) & 0xffffffff;\n\n  for (let i = 0; i < N; i++) {\n    const W = new Array(80);\n\n    for (let t = 0; t < 16; t++) W[t] = M[i][t];\n    for (let t = 16; t < 80; t++) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    let a = H[0];\n    let b = H[1];\n    let c = H[2];\n    let d = H[3];\n    let e = H[4];\n\n    for (let t = 0; t < 80; t++) {\n      const s = Math.floor(t / 20);\n      const T = (ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t]) >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = (H[0] + a) >>> 0;\n    H[1] = (H[1] + b) >>> 0;\n    H[2] = (H[2] + c) >>> 0;\n    H[3] = (H[3] + d) >>> 0;\n    H[4] = (H[4] + e) >>> 0;\n  }\n\n  return [\n    (H[0] >> 24) & 0xff,\n    (H[0] >> 16) & 0xff,\n    (H[0] >> 8) & 0xff,\n    H[0] & 0xff,\n    (H[1] >> 24) & 0xff,\n    (H[1] >> 16) & 0xff,\n    (H[1] >> 8) & 0xff,\n    H[1] & 0xff,\n    (H[2] >> 24) & 0xff,\n    (H[2] >> 16) & 0xff,\n    (H[2] >> 8) & 0xff,\n    H[2] & 0xff,\n    (H[3] >> 24) & 0xff,\n    (H[3] >> 16) & 0xff,\n    (H[3] >> 8) & 0xff,\n    H[3] & 0xff,\n    (H[4] >> 24) & 0xff,\n    (H[4] >> 16) & 0xff,\n    (H[4] >> 8) & 0xff,\n    H[4] & 0xff,\n  ];\n}\n\nexport default sha1;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}