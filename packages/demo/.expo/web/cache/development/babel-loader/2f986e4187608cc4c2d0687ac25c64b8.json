{"ast":null,"code":"'use strict';\n\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { reportFatalErrorOnJS } from './errors';\nimport { isChromeDebugger, isJest, shouldBeUseWeb } from './PlatformChecker';\nimport { runOnJS, setupMicrotasks, callMicrotasks, runOnUIImmediately } from './threads';\nimport { mockedRequestAnimationFrame } from './mockedRequestAnimationFrame';\nvar IS_JEST = isJest();\nvar SHOULD_BE_USE_WEB = shouldBeUseWeb();\nvar IS_CHROME_DEBUGGER = isChromeDebugger();\nvar _worklet_14810700639596_init_data = {\n  code: \"function callGuardDEV(fn){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}try{fn(...args);}catch(e){if(global.__ErrorUtils){global.__ErrorUtils.reportFatalError(e);}else{throw e;}}}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"callGuardDEV\\\",\\\"fn\\\",\\\"_len\\\",\\\"arguments\\\",\\\"length\\\",\\\"args\\\",\\\"Array\\\",\\\"_key\\\",\\\"e\\\",\\\"global\\\",\\\"__ErrorUtils\\\",\\\"reportFatalError\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\\\"],\\\"mappings\\\":\\\"AAWO,SAAAA,YAASA,CAAaC,EAAA,CAAE,CAG7B,IAAK,GAAI,CAAAC,IAAI,CAAGC,SAAS,CAACC,MAAM,CAAEC,IAAI,CAAG,GAAI,CAAAC,KAAK,CAACJ,IAAI,CAAG,CAAC,CAAGA,IAAI,CAAG,CAAC,CAAG,CAAC,CAAC,CAAEK,IAAI,CAAG,CAAC,CAAEA,IAAI,CAAGL,IAAI,CAAEK,IAAI,EAAE,CAAE,CAC1GF,IAAI,CAACE,IAAI,CAAG,CAAC,CAAC,CAAGJ,SAAS,CAACI,IAAI,CAAC,CAClC,CACA,GAAI,CACFN,EAAE,CAAC,GAAGI,IAAI,CAAC,CACb,CAAE,MAAOG,CAAC,CAAE,CACV,GAAIC,MAAM,CAACC,YAAY,CAAE,CACvBD,MAAM,CAACC,YAAY,CAACC,gBAAgB,CAACH,CAAC,CAAC,CACzC,CAAC,IAAM,CACL,KAAM,CAAAA,CAAC,CACT,CACF,CACF\\\"}\",\n  version: \"3.6.3\"\n};\nexport var callGuardDEV = function () {\n  var _e = [new global.Error(), 1, -27];\n  var callGuardDEV = function callGuardDEV(fn) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    try {\n      fn.apply(void 0, args);\n    } catch (e) {\n      if (global.__ErrorUtils) {\n        global.__ErrorUtils.reportFatalError(e);\n      } else {\n        throw e;\n      }\n    }\n  };\n  callGuardDEV.__closure = {};\n  callGuardDEV.__workletHash = 14810700639596;\n  callGuardDEV.__initData = _worklet_14810700639596_init_data;\n  callGuardDEV.__stackDetails = _e;\n  return callGuardDEV;\n}();\nvar _worklet_5000844547961_init_data = {\n  code: \"function setupCallGuard(){const{callGuardDEV,runOnJS,reportFatalErrorOnJS}=this.__closure;global.__callGuardDEV=callGuardDEV;global.__ErrorUtils={reportFatalError:function(error){runOnJS(reportFatalErrorOnJS)({message:error.message,stack:error.stack});}};}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"setupCallGuard\\\",\\\"callGuardDEV\\\",\\\"runOnJS\\\",\\\"reportFatalErrorOnJS\\\",\\\"__closure\\\",\\\"global\\\",\\\"__callGuardDEV\\\",\\\"__ErrorUtils\\\",\\\"reportFatalError\\\",\\\"error\\\",\\\"message\\\",\\\"stack\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\\\"],\\\"mappings\\\":\\\"AA2BO,SAAAA,cAASA,CAAA,CAAc,OAAAC,YAAA,CAAAC,OAAA,CAAAC,oBAAA,OAAAC,SAAA,CAG5BC,MAAM,CAACC,cAAc,CAAGL,YAAY,CACpCI,MAAM,CAACE,YAAY,CAAG,CACpBC,gBAAgB,CAAE,QAAAA,CAAAC,KAAK,CAAI,CACzBP,OAAO,CAACC,oBAAoB,CAAC,CAAC,CAC5BO,OAAO,CAAED,KAAK,CAACC,OAAO,CACtBC,KAAK,CAAEF,KAAK,CAACE,KACf,CAAC,CAAC,CACJ,CACF,CAAC,CACH\\\"}\",\n  version: \"3.6.3\"\n};\nexport var setupCallGuard = function () {\n  var _e = [new global.Error(), -4, -27];\n  var setupCallGuard = function setupCallGuard() {\n    global.__callGuardDEV = callGuardDEV;\n    global.__ErrorUtils = {\n      reportFatalError: function reportFatalError(error) {\n        runOnJS(reportFatalErrorOnJS)({\n          message: error.message,\n          stack: error.stack\n        });\n      }\n    };\n  };\n  setupCallGuard.__closure = {\n    callGuardDEV: callGuardDEV,\n    runOnJS: runOnJS,\n    reportFatalErrorOnJS: reportFatalErrorOnJS\n  };\n  setupCallGuard.__workletHash = 5000844547961;\n  setupCallGuard.__initData = _worklet_5000844547961_init_data;\n  setupCallGuard.__stackDetails = _e;\n  return setupCallGuard;\n}();\nvar capturableConsole = _objectSpread({}, console);\nvar _worklet_3852058212244_init_data = {\n  code: \"function setupConsole(){const{IS_CHROME_DEBUGGER,runOnJS,capturableConsole}=this.__closure;if(!IS_CHROME_DEBUGGER){global.console={assert:runOnJS(capturableConsole.assert),debug:runOnJS(capturableConsole.debug),log:runOnJS(capturableConsole.log),warn:runOnJS(capturableConsole.warn),error:runOnJS(capturableConsole.error),info:runOnJS(capturableConsole.info)};}}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"setupConsole\\\",\\\"IS_CHROME_DEBUGGER\\\",\\\"runOnJS\\\",\\\"capturableConsole\\\",\\\"__closure\\\",\\\"global\\\",\\\"console\\\",\\\"assert\\\",\\\"debug\\\",\\\"log\\\",\\\"warn\\\",\\\"error\\\",\\\"info\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\\\"],\\\"mappings\\\":\\\"AA8CO,SAAAA,YAASA,CAAA,CAAY,OAAAC,kBAAA,CAAAC,OAAA,CAAAC,iBAAA,OAAAC,SAAA,CAG1B,GAAI,CAACH,kBAAkB,CAAE,CAEvBI,MAAM,CAACC,OAAO,CAAG,CACfC,MAAM,CAAEL,OAAO,CAACC,iBAAiB,CAACI,MAAM,CAAC,CACzCC,KAAK,CAAEN,OAAO,CAACC,iBAAiB,CAACK,KAAK,CAAC,CACvCC,GAAG,CAAEP,OAAO,CAACC,iBAAiB,CAACM,GAAG,CAAC,CACnCC,IAAI,CAAER,OAAO,CAACC,iBAAiB,CAACO,IAAI,CAAC,CACrCC,KAAK,CAAET,OAAO,CAACC,iBAAiB,CAACQ,KAAK,CAAC,CACvCC,IAAI,CAAEV,OAAO,CAACC,iBAAiB,CAACS,IAAI,CACtC,CAAC,CACH,CACF\\\"}\",\n  version: \"3.6.3\"\n};\nexport var setupConsole = function () {\n  var _e = [new global.Error(), -4, -27];\n  var setupConsole = function setupConsole() {\n    if (!IS_CHROME_DEBUGGER) {\n      global.console = {\n        assert: runOnJS(capturableConsole.assert),\n        debug: runOnJS(capturableConsole.debug),\n        log: runOnJS(capturableConsole.log),\n        warn: runOnJS(capturableConsole.warn),\n        error: runOnJS(capturableConsole.error),\n        info: runOnJS(capturableConsole.info)\n      };\n    }\n  };\n  setupConsole.__closure = {\n    IS_CHROME_DEBUGGER: IS_CHROME_DEBUGGER,\n    runOnJS: runOnJS,\n    capturableConsole: capturableConsole\n  };\n  setupConsole.__workletHash = 3852058212244;\n  setupConsole.__initData = _worklet_3852058212244_init_data;\n  setupConsole.__stackDetails = _e;\n  return setupConsole;\n}();\nvar _worklet_7781445156117_init_data = {\n  code: \"function setupRequestAnimationFrame(){const{callMicrotasks}=this.__closure;const nativeRequestAnimationFrame=global.requestAnimationFrame;let animationFrameCallbacks=[];let lastNativeAnimationFrameTimestamp=-1;global.__flushAnimationFrame=function(frameTimestamp){const currentCallbacks=animationFrameCallbacks;animationFrameCallbacks=[];currentCallbacks.forEach(function(f){return f(frameTimestamp);});callMicrotasks();};global.requestAnimationFrame=function(callback){animationFrameCallbacks.push(callback);if(animationFrameCallbacks.length===1){nativeRequestAnimationFrame(function(timestamp){if(lastNativeAnimationFrameTimestamp>=timestamp){return;}lastNativeAnimationFrameTimestamp=timestamp;global.__frameTimestamp=timestamp;global.__flushAnimationFrame(timestamp);global.__frameTimestamp=undefined;});}return-1;};}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"setupRequestAnimationFrame\\\",\\\"callMicrotasks\\\",\\\"__closure\\\",\\\"nativeRequestAnimationFrame\\\",\\\"global\\\",\\\"requestAnimationFrame\\\",\\\"animationFrameCallbacks\\\",\\\"lastNativeAnimationFrameTimestamp\\\",\\\"__flushAnimationFrame\\\",\\\"frameTimestamp\\\",\\\"currentCallbacks\\\",\\\"forEach\\\",\\\"f\\\",\\\"callback\\\",\\\"push\\\",\\\"length\\\",\\\"timestamp\\\",\\\"__frameTimestamp\\\",\\\"undefined\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\\\"],\\\"mappings\\\":\\\"AA6DA,SAAAA,0BAASA,CAAA,CAA0B,OAAAC,cAAA,OAAAC,SAAA,CAKjC,KAAM,CAAAC,2BAA2B,CAAGC,MAAM,CAACC,qBAAqB,CAChE,GAAI,CAAAC,uBAAuB,CAAG,EAAE,CAChC,GAAI,CAAAC,iCAAiC,CAAG,CAAC,CAAC,CAC1CH,MAAM,CAACI,qBAAqB,CAAG,SAAAC,cAAc,CAAI,CAC/C,KAAM,CAAAC,gBAAgB,CAAGJ,uBAAuB,CAChDA,uBAAuB,CAAG,EAAE,CAC5BI,gBAAgB,CAACC,OAAO,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACH,cAAc,CAAC,GAAC,CAChDR,cAAc,CAAC,CAAC,CAClB,CAAC,CACDG,MAAM,CAACC,qBAAqB,CAAG,SAAAQ,QAAQ,CAAI,CACzCP,uBAAuB,CAACQ,IAAI,CAACD,QAAQ,CAAC,CACtC,GAAIP,uBAAuB,CAACS,MAAM,GAAK,CAAC,CAAE,CAIxCZ,2BAA2B,CAAC,SAAAa,SAAS,CAAI,CACvC,GAAIT,iCAAiC,EAAIS,SAAS,CAAE,CAElD,OACF,CACAT,iCAAiC,CAAGS,SAAS,CAC7CZ,MAAM,CAACa,gBAAgB,CAAGD,SAAS,CACnCZ,MAAM,CAACI,qBAAqB,CAACQ,SAAS,CAAC,CACvCZ,MAAM,CAACa,gBAAgB,CAAGC,SAAS,CACrC,CAAC,CAAC,CACJ,CAKA,MAAO,CAAC,CAAC,CACX,CAAC,CACH\\\"}\",\n  version: \"3.6.3\"\n};\nvar setupRequestAnimationFrame = function () {\n  var _e = [new global.Error(), -2, -27];\n  var setupRequestAnimationFrame = function setupRequestAnimationFrame() {\n    var nativeRequestAnimationFrame = global.requestAnimationFrame;\n    var animationFrameCallbacks = [];\n    var lastNativeAnimationFrameTimestamp = -1;\n    global.__flushAnimationFrame = function (frameTimestamp) {\n      var currentCallbacks = animationFrameCallbacks;\n      animationFrameCallbacks = [];\n      currentCallbacks.forEach(function (f) {\n        return f(frameTimestamp);\n      });\n      callMicrotasks();\n    };\n    global.requestAnimationFrame = function (callback) {\n      animationFrameCallbacks.push(callback);\n      if (animationFrameCallbacks.length === 1) {\n        nativeRequestAnimationFrame(function (timestamp) {\n          if (lastNativeAnimationFrameTimestamp >= timestamp) {\n            return;\n          }\n          lastNativeAnimationFrameTimestamp = timestamp;\n          global.__frameTimestamp = timestamp;\n          global.__flushAnimationFrame(timestamp);\n          global.__frameTimestamp = undefined;\n        });\n      }\n      return -1;\n    };\n  };\n  setupRequestAnimationFrame.__closure = {\n    callMicrotasks: callMicrotasks\n  };\n  setupRequestAnimationFrame.__workletHash = 7781445156117;\n  setupRequestAnimationFrame.__initData = _worklet_7781445156117_init_data;\n  setupRequestAnimationFrame.__stackDetails = _e;\n  return setupRequestAnimationFrame;\n}();\nvar _worklet_8852908519716_init_data = {\n  code: \"function anonymous(){const{setupCallGuard,setupConsole,SHOULD_BE_USE_WEB,setupMicrotasks,setupRequestAnimationFrame}=this.__closure;setupCallGuard();setupConsole();if(!SHOULD_BE_USE_WEB){setupMicrotasks();setupRequestAnimationFrame();}}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"setupCallGuard\\\",\\\"setupConsole\\\",\\\"SHOULD_BE_USE_WEB\\\",\\\"setupMicrotasks\\\",\\\"setupRequestAnimationFrame\\\",\\\"__closure\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/initializers.js\\\"],\\\"mappings\\\":\\\"AA6GqB,SAAAA,SAAMA,CAAA,QAAAC,cAAA,CAAAC,YAAA,CAAAC,iBAAA,CAAAC,eAAA,CAAAC,0BAAA,OAAAC,SAAA,CAGvBL,cAAc,CAAC,CAAC,CAChBC,YAAY,CAAC,CAAC,CACd,GAAI,CAACC,iBAAiB,CAAE,CACtBC,eAAe,CAAC,CAAC,CACjBC,0BAA0B,CAAC,CAAC,CAC9B,CACF\\\"}\",\n  version: \"3.6.3\"\n};\nexport function initializeUIRuntime() {\n  if (IS_JEST) {\n    globalThis.requestAnimationFrame = mockedRequestAnimationFrame;\n  }\n  runOnUIImmediately(function () {\n    var _e = [new global.Error(), -6, -27];\n    var anonymous = function anonymous() {\n      setupCallGuard();\n      setupConsole();\n      if (!SHOULD_BE_USE_WEB) {\n        setupMicrotasks();\n        setupRequestAnimationFrame();\n      }\n    };\n    anonymous.__closure = {\n      setupCallGuard: setupCallGuard,\n      setupConsole: setupConsole,\n      SHOULD_BE_USE_WEB: SHOULD_BE_USE_WEB,\n      setupMicrotasks: setupMicrotasks,\n      setupRequestAnimationFrame: setupRequestAnimationFrame\n    };\n    anonymous.__workletHash = 8852908519716;\n    anonymous.__initData = _worklet_8852908519716_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }())();\n}","map":{"version":3,"sources":["initializers.ts"],"names":["reportFatalErrorOnJS","isChromeDebugger","isJest","shouldBeUseWeb","runOnJS","setupMicrotasks","callMicrotasks","runOnUIImmediately","mockedRequestAnimationFrame","IS_JEST","SHOULD_BE_USE_WEB","IS_CHROME_DEBUGGER","callGuardDEV","fn","args","e","global","__ErrorUtils","reportFatalError","setupCallGuard","__callGuardDEV","error","message","stack","capturableConsole","console","setupConsole","assert","debug","log","warn","info","setupRequestAnimationFrame","nativeRequestAnimationFrame","requestAnimationFrame","animationFrameCallbacks","lastNativeAnimationFrameTimestamp","__flushAnimationFrame","frameTimestamp","currentCallbacks","forEach","f","callback","push","length","timestamp","__frameTimestamp","undefined","initializeUIRuntime","globalThis"],"mappings":"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","sourcesContent":["'use strict';\nimport { reportFatalErrorOnJS } from './errors';\nimport { isChromeDebugger, isJest, shouldBeUseWeb } from './PlatformChecker';\nimport {\n  runOnJS,\n  setupMicrotasks,\n  callMicrotasks,\n  runOnUIImmediately,\n} from './threads';\nimport { mockedRequestAnimationFrame } from './mockedRequestAnimationFrame';\n\nconst IS_JEST = isJest();\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\nconst IS_CHROME_DEBUGGER = isChromeDebugger();\n\n// callGuard is only used with debug builds\nexport function callGuardDEV<T extends Array<unknown>, U>(\n  fn: (...args: T) => U,\n  ...args: T\n): void {\n  'worklet';\n  try {\n    fn(...args);\n  } catch (e) {\n    if (global.__ErrorUtils) {\n      global.__ErrorUtils.reportFatalError(e as Error);\n    } else {\n      throw e;\n    }\n  }\n}\n\nexport function setupCallGuard() {\n  'worklet';\n  global.__callGuardDEV = callGuardDEV;\n  global.__ErrorUtils = {\n    reportFatalError: (error: Error) => {\n      runOnJS(reportFatalErrorOnJS)({\n        message: error.message,\n        stack: error.stack,\n      });\n    },\n  };\n}\n\n// We really have to create a copy of console here. Function runOnJS we use on elements inside\n// this object makes it not configurable\nconst capturableConsole = { ...console };\n\nexport function setupConsole() {\n  'worklet';\n  if (!IS_CHROME_DEBUGGER) {\n    // @ts-ignore TypeScript doesn't like that there are missing methods in console object, but we don't provide all the methods for the UI runtime console version\n    global.console = {\n      assert: runOnJS(capturableConsole.assert),\n      debug: runOnJS(capturableConsole.debug),\n      log: runOnJS(capturableConsole.log),\n      warn: runOnJS(capturableConsole.warn),\n      error: runOnJS(capturableConsole.error),\n      info: runOnJS(capturableConsole.info),\n    };\n  }\n}\n\nfunction setupRequestAnimationFrame() {\n  'worklet';\n\n  // Jest mocks requestAnimationFrame API and it does not like if that mock gets overridden\n  // so we avoid doing requestAnimationFrame batching in Jest environment.\n  const nativeRequestAnimationFrame = global.requestAnimationFrame;\n\n  let animationFrameCallbacks: Array<(timestamp: number) => void> = [];\n  let lastNativeAnimationFrameTimestamp = -1;\n\n  global.__flushAnimationFrame = (frameTimestamp: number) => {\n    const currentCallbacks = animationFrameCallbacks;\n    animationFrameCallbacks = [];\n    currentCallbacks.forEach((f) => f(frameTimestamp));\n    callMicrotasks();\n  };\n\n  global.requestAnimationFrame = (\n    callback: (timestamp: number) => void\n  ): number => {\n    animationFrameCallbacks.push(callback);\n    if (animationFrameCallbacks.length === 1) {\n      // We schedule native requestAnimationFrame only when the first callback\n      // is added and then use it to execute all the enqueued callbacks. Once\n      // the callbacks are run, we clear the array.\n      nativeRequestAnimationFrame((timestamp) => {\n        if (lastNativeAnimationFrameTimestamp >= timestamp) {\n          // Make sure we only execute the callbacks once for a given frame\n          return;\n        }\n        lastNativeAnimationFrameTimestamp = timestamp;\n        global.__frameTimestamp = timestamp;\n        global.__flushAnimationFrame(timestamp);\n        global.__frameTimestamp = undefined;\n      });\n    }\n    // Reanimated currently does not support cancelling callbacks requested with\n    // requestAnimationFrame. We return -1 as identifier which isn't in line\n    // with the spec but it should give users better clue in case they actually\n    // attempt to store the value returned from rAF and use it for cancelling.\n    return -1;\n  };\n}\n\nexport function initializeUIRuntime() {\n  if (IS_JEST) {\n    // requestAnimationFrame react-native jest's setup is incorrect as it polyfills\n    // the method directly using setTimeout, therefore the callback doesn't get the\n    // expected timestamp as the only argument: https://github.com/facebook/react-native/blob/main/packages/react-native/jest/setup.js#L28\n    // We override this setup here to make sure that callbacks get the proper timestamps\n    // when executed. For non-jest environments we define requestAnimationFrame in setupRequestAnimationFrame\n    // @ts-ignore TypeScript uses Node definition for rAF, setTimeout, etc which returns a Timeout object rather than a number\n    globalThis.requestAnimationFrame = mockedRequestAnimationFrame;\n  }\n\n  runOnUIImmediately(() => {\n    'worklet';\n    setupCallGuard();\n    setupConsole();\n    if (!SHOULD_BE_USE_WEB) {\n      setupMicrotasks();\n      setupRequestAnimationFrame();\n    }\n  })();\n}\n"]},"metadata":{},"sourceType":"module"}