{"ast":null,"code":"'use strict';\n\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport NativeReanimatedModule from './NativeReanimated';\nimport { isJest, shouldBeUseWeb } from './PlatformChecker';\nimport { makeShareableCloneOnUIRecursive, makeShareableCloneRecursive } from './shareables';\nvar IS_JEST = isJest();\nvar SHOULD_BE_USE_WEB = shouldBeUseWeb();\nvar _runOnUIQueue = [];\nvar _worklet_14171424909649_init_data = {\n  code: \"function setupMicrotasks(){let microtasksQueue=[];let isExecutingMicrotasksQueue=false;global.queueMicrotask=function(callback){microtasksQueue.push(callback);};global.__callMicrotasks=function(){if(isExecutingMicrotasksQueue){return;}try{isExecutingMicrotasksQueue=true;for(let index=0;index<microtasksQueue.length;index+=1){microtasksQueue[index]();}microtasksQueue=[];global._maybeFlushUIUpdatesQueue();}finally{isExecutingMicrotasksQueue=false;}};}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"setupMicrotasks\\\",\\\"microtasksQueue\\\",\\\"isExecutingMicrotasksQueue\\\",\\\"global\\\",\\\"queueMicrotask\\\",\\\"callback\\\",\\\"push\\\",\\\"__callMicrotasks\\\",\\\"index\\\",\\\"length\\\",\\\"_maybeFlushUIUpdatesQueue\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\\\"],\\\"mappings\\\":\\\"AAYO,SAAAA,eAASA,CAAA,CAAe,CAG7B,GAAI,CAAAC,eAAe,CAAG,EAAE,CACxB,GAAI,CAAAC,0BAA0B,CAAG,KAAK,CACtCC,MAAM,CAACC,cAAc,CAAG,SAAAC,QAAQ,CAAI,CAClCJ,eAAe,CAACK,IAAI,CAACD,QAAQ,CAAC,CAChC,CAAC,CACDF,MAAM,CAACI,gBAAgB,CAAG,UAAM,CAC9B,GAAIL,0BAA0B,CAAE,CAC9B,OACF,CACA,GAAI,CACFA,0BAA0B,CAAG,IAAI,CACjC,IAAK,GAAI,CAAAM,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGP,eAAe,CAACQ,MAAM,CAAED,KAAK,EAAI,CAAC,CAAE,CAE9DP,eAAe,CAACO,KAAK,CAAC,CAAC,CAAC,CAC1B,CACAP,eAAe,CAAG,EAAE,CACpBE,MAAM,CAACO,yBAAyB,CAAC,CAAC,CACpC,CAAC,OAAS,CACRR,0BAA0B,CAAG,KAAK,CACpC,CACF,CAAC,CACH\\\"}\",\n  version: \"3.6.3\"\n};\nexport var setupMicrotasks = function () {\n  var _e = [new global.Error(), 1, -27];\n  var setupMicrotasks = function setupMicrotasks() {\n    var microtasksQueue = [];\n    var isExecutingMicrotasksQueue = false;\n    global.queueMicrotask = function (callback) {\n      microtasksQueue.push(callback);\n    };\n    global.__callMicrotasks = function () {\n      if (isExecutingMicrotasksQueue) {\n        return;\n      }\n      try {\n        isExecutingMicrotasksQueue = true;\n        for (var index = 0; index < microtasksQueue.length; index += 1) {\n          microtasksQueue[index]();\n        }\n        microtasksQueue = [];\n        global._maybeFlushUIUpdatesQueue();\n      } finally {\n        isExecutingMicrotasksQueue = false;\n      }\n    };\n  };\n  setupMicrotasks.__closure = {};\n  setupMicrotasks.__workletHash = 14171424909649;\n  setupMicrotasks.__initData = _worklet_14171424909649_init_data;\n  setupMicrotasks.__stackDetails = _e;\n  return setupMicrotasks;\n}();\nvar _worklet_3679683358222_init_data = {\n  code: \"function callMicrotasksOnUIThread(){global.__callMicrotasks();}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"callMicrotasksOnUIThread\\\",\\\"global\\\",\\\"__callMicrotasks\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\\\"],\\\"mappings\\\":\\\"AAqCA,SAAAA,wBAASA,CAAA,CAAwB,CAG/BC,MAAM,CAACC,gBAAgB,CAAC,CAAC,CAC3B\\\"}\",\n  version: \"3.6.3\"\n};\nvar callMicrotasksOnUIThread = function () {\n  var _e = [new global.Error(), 1, -27];\n  var callMicrotasksOnUIThread = function callMicrotasksOnUIThread() {\n    global.__callMicrotasks();\n  };\n  callMicrotasksOnUIThread.__closure = {};\n  callMicrotasksOnUIThread.__workletHash = 3679683358222;\n  callMicrotasksOnUIThread.__initData = _worklet_3679683358222_init_data;\n  callMicrotasksOnUIThread.__stackDetails = _e;\n  return callMicrotasksOnUIThread;\n}();\nexport var callMicrotasks = SHOULD_BE_USE_WEB ? function () {} : callMicrotasksOnUIThread;\nvar _worklet_1184663255910_init_data = {\n  code: \"function runOnUI(worklet){const{__DEV__,SHOULD_BE_USE_WEB,IS_JEST,NativeReanimatedModule,makeShareableCloneRecursive,callMicrotasks}=this.__closure;if(__DEV__&&!SHOULD_BE_USE_WEB&&_WORKLET){throw new Error('[Reanimated] `runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(__DEV__&&!SHOULD_BE_USE_WEB&&worklet.__workletHash===undefined){throw new Error('[Reanimated] `runOnUI` can only be used on worklets.');}return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}if(IS_JEST){NativeReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));return;}if(__DEV__){makeShareableCloneRecursive(worklet);makeShareableCloneRecursive(args);}_runOnUIQueue.push([worklet,args]);if(_runOnUIQueue.length===1){queueMicrotask(function(){const queue=_runOnUIQueue;_runOnUIQueue=[];NativeReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){'worklet';queue.forEach(function(_ref){let[worklet,args]=_ref;worklet(...args);});callMicrotasks();}));});}};}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"runOnUI\\\",\\\"worklet\\\",\\\"__DEV__\\\",\\\"SHOULD_BE_USE_WEB\\\",\\\"IS_JEST\\\",\\\"NativeReanimatedModule\\\",\\\"makeShareableCloneRecursive\\\",\\\"callMicrotasks\\\",\\\"__closure\\\",\\\"_WORKLET\\\",\\\"Error\\\",\\\"__workletHash\\\",\\\"undefined\\\",\\\"_len\\\",\\\"arguments\\\",\\\"length\\\",\\\"args\\\",\\\"Array\\\",\\\"_key\\\",\\\"scheduleOnUI\\\",\\\"_runOnUIQueue\\\",\\\"push\\\",\\\"queueMicrotask\\\",\\\"queue\\\",\\\"forEach\\\",\\\"_ref\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\\\"],\\\"mappings\\\":\\\"AA2DO,SAAAA,OAASA,CAAQC,OAAA,CAAO,OAAAC,OAAA,CAAAC,iBAAA,CAAAC,OAAA,CAAAC,sBAAA,CAAAC,2BAAA,CAAAC,cAAA,OAAAC,SAAA,CAG7B,GAAIN,OAAO,EAAI,CAACC,iBAAiB,EAAIM,QAAQ,CAAE,CAC7C,KAAM,IAAI,CAAAC,KAAK,CAAC,+JAA+J,CAAC,CAClL,CACA,GAAIR,OAAO,EAAI,CAACC,iBAAiB,EAAIF,OAAO,CAACU,aAAa,GAAKC,SAAS,CAAE,CACxE,KAAM,IAAI,CAAAF,KAAK,CAAC,sDAAsD,CAAC,CACzE,CACA,MAAO,WAAY,CACjB,IAAK,GAAI,CAAAG,IAAI,CAAGC,SAAS,CAACC,MAAM,CAAEC,IAAI,CAAG,GAAI,CAAAC,KAAK,CAACJ,IAAI,CAAC,CAAEK,IAAI,CAAG,CAAC,CAAEA,IAAI,CAAGL,IAAI,CAAEK,IAAI,EAAE,CAAE,CACvFF,IAAI,CAACE,IAAI,CAAC,CAAGJ,SAAS,CAACI,IAAI,CAAC,CAC9B,CACA,GAAId,OAAO,CAAE,CAUXC,sBAAsB,CAACc,YAAY,CAACb,2BAA2B,CAAC,UAAM,CACpE,SAAS,CAETL,OAAO,CAAC,GAAGe,IAAI,CAAC,CAClB,CAAC,CAAC,CAAC,CACH,OACF,CACA,GAAId,OAAO,CAAE,CAMXI,2BAA2B,CAACL,OAAO,CAAC,CACpCK,2BAA2B,CAACU,IAAI,CAAC,CACnC,CAEAI,aAAa,CAACC,IAAI,CAAC,CAACpB,OAAO,CAAEe,IAAI,CAAC,CAAC,CACnC,GAAII,aAAa,CAACL,MAAM,GAAK,CAAC,CAAE,CAC9BO,cAAc,CAAC,UAAM,CACnB,KAAM,CAAAC,KAAK,CAAGH,aAAa,CAC3BA,aAAa,CAAG,EAAE,CAClBf,sBAAsB,CAACc,YAAY,CAACb,2BAA2B,CAAC,UAAM,CACpE,SAAS,CAETiB,KAAK,CAACC,OAAO,CAAC,SAAAC,IAAI,CAAI,CACpB,GAAI,CAACxB,OAAO,CAAEe,IAAI,CAAC,CAAGS,IAAI,CAC1BxB,OAAO,CAAC,GAAGe,IAAI,CAAC,CAClB,CAAC,CAAC,CACFT,cAAc,CAAC,CAAC,CAClB,CAAC,CAAC,CAAC,CACL,CAAC,CAAC,CACJ,CACF,CAAC,CACH\\\"}\",\n  version: \"3.6.3\"\n};\nvar _worklet_6225829938965_init_data = {\n  code: \"function anonymous(){const{worklet,args}=this.__closure;worklet(...args);}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"worklet\\\",\\\"args\\\",\\\"__closure\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\\\"],\\\"mappings\\\":\\\"AAkFsE,SAAAA,SAAMA,CAAA,QAAAC,OAAA,CAAAC,IAAA,OAAAC,SAAA,CAGpEF,OAAO,CAAC,GAAGC,IAAI,CAAC,CAClB\\\"}\",\n  version: \"3.6.3\"\n};\nvar _worklet_13068487485531_init_data = {\n  code: \"function anonymous(){const{queue,callMicrotasks}=this.__closure;queue.forEach(function(_ref){let[worklet,args]=_ref;worklet(...args);});callMicrotasks();}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"queue\\\",\\\"callMicrotasks\\\",\\\"__closure\\\",\\\"forEach\\\",\\\"_ref\\\",\\\"worklet\\\",\\\"args\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\\\"],\\\"mappings\\\":\\\"AAwGwE,SAAAA,SAAMA,CAAA,QAAAC,KAAA,CAAAC,cAAA,OAAAC,SAAA,CAGpEF,KAAK,CAACG,OAAO,CAAC,SAAAC,IAAI,CAAI,CACpB,GAAI,CAACC,OAAO,CAAEC,IAAI,CAAC,CAAGF,IAAI,CAC1BC,OAAO,CAAC,GAAGC,IAAI,CAAC,CAClB,CAAC,CAAC,CACFL,cAAc,CAAC,CAAC,CAClB\\\"}\",\n  version: \"3.6.3\"\n};\nexport var runOnUI = function () {\n  var _e = [new global.Error(), -7, -27];\n  var runOnUI = function runOnUI(worklet) {\n    if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n      throw new Error('[Reanimated] `runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');\n    }\n    if (__DEV__ && !SHOULD_BE_USE_WEB && worklet.__workletHash === undefined) {\n      throw new Error('[Reanimated] `runOnUI` can only be used on worklets.');\n    }\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      if (IS_JEST) {\n        NativeReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function () {\n          var _e = [new global.Error(), -3, -27];\n          var anonymous = function anonymous() {\n            worklet.apply(void 0, args);\n          };\n          anonymous.__closure = {\n            worklet: worklet,\n            args: args\n          };\n          anonymous.__workletHash = 6225829938965;\n          anonymous.__initData = _worklet_6225829938965_init_data;\n          anonymous.__stackDetails = _e;\n          return anonymous;\n        }()));\n        return;\n      }\n      if (__DEV__) {\n        makeShareableCloneRecursive(worklet);\n        makeShareableCloneRecursive(args);\n      }\n      _runOnUIQueue.push([worklet, args]);\n      if (_runOnUIQueue.length === 1) {\n        queueMicrotask(function () {\n          var queue = _runOnUIQueue;\n          _runOnUIQueue = [];\n          NativeReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function () {\n            var _e = [new global.Error(), -3, -27];\n            var anonymous = function anonymous() {\n              queue.forEach(function (_ref) {\n                var _ref2 = _slicedToArray(_ref, 2),\n                  worklet = _ref2[0],\n                  args = _ref2[1];\n                worklet.apply(void 0, _toConsumableArray(args));\n              });\n              callMicrotasks();\n            };\n            anonymous.__closure = {\n              queue: queue,\n              callMicrotasks: callMicrotasks\n            };\n            anonymous.__workletHash = 13068487485531;\n            anonymous.__initData = _worklet_13068487485531_init_data;\n            anonymous.__stackDetails = _e;\n            return anonymous;\n          }()));\n        });\n      }\n    };\n  };\n  runOnUI.__closure = {\n    __DEV__: __DEV__,\n    SHOULD_BE_USE_WEB: SHOULD_BE_USE_WEB,\n    IS_JEST: IS_JEST,\n    NativeReanimatedModule: NativeReanimatedModule,\n    makeShareableCloneRecursive: makeShareableCloneRecursive,\n    callMicrotasks: callMicrotasks\n  };\n  runOnUI.__workletHash = 1184663255910;\n  runOnUI.__initData = _worklet_1184663255910_init_data;\n  runOnUI.__stackDetails = _e;\n  return runOnUI;\n}();\nvar _worklet_10117741488730_init_data = {\n  code: \"function runOnUIImmediately(worklet){const{__DEV__,SHOULD_BE_USE_WEB,NativeReanimatedModule,makeShareableCloneRecursive}=this.__closure;if(__DEV__&&!SHOULD_BE_USE_WEB&&_WORKLET){throw new Error('[Reanimated] `runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(__DEV__&&!SHOULD_BE_USE_WEB&&worklet.__workletHash===undefined){throw new Error('[Reanimated] `runOnUIImmediately` can only be used on worklets.');}return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}NativeReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));};}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"runOnUIImmediately\\\",\\\"worklet\\\",\\\"__DEV__\\\",\\\"SHOULD_BE_USE_WEB\\\",\\\"NativeReanimatedModule\\\",\\\"makeShareableCloneRecursive\\\",\\\"__closure\\\",\\\"_WORKLET\\\",\\\"Error\\\",\\\"__workletHash\\\",\\\"undefined\\\",\\\"_len2\\\",\\\"arguments\\\",\\\"length\\\",\\\"args\\\",\\\"Array\\\",\\\"_key2\\\",\\\"scheduleOnUI\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\\\"],\\\"mappings\\\":\\\"AA2HO,SAAAA,kBAASA,CAAmBC,OAAA,CAAO,OAAAC,OAAA,CAAAC,iBAAA,CAAAC,sBAAA,CAAAC,2BAAA,OAAAC,SAAA,CAGxC,GAAIJ,OAAO,EAAI,CAACC,iBAAiB,EAAII,QAAQ,CAAE,CAC7C,KAAM,IAAI,CAAAC,KAAK,CAAC,0KAA0K,CAAC,CAC7L,CACA,GAAIN,OAAO,EAAI,CAACC,iBAAiB,EAAIF,OAAO,CAACQ,aAAa,GAAKC,SAAS,CAAE,CACxE,KAAM,IAAI,CAAAF,KAAK,CAAC,iEAAiE,CAAC,CACpF,CACA,MAAO,WAAY,CACjB,IAAK,GAAI,CAAAG,KAAK,CAAGC,SAAS,CAACC,MAAM,CAAEC,IAAI,CAAG,GAAI,CAAAC,KAAK,CAACJ,KAAK,CAAC,CAAEK,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGL,KAAK,CAAEK,KAAK,EAAE,CAAE,CAC7FF,IAAI,CAACE,KAAK,CAAC,CAAGJ,SAAS,CAACI,KAAK,CAAC,CAChC,CACAZ,sBAAsB,CAACa,YAAY,CAACZ,2BAA2B,CAAC,UAAM,CACpE,SAAS,CAETJ,OAAO,CAAC,GAAGa,IAAI,CAAC,CAClB,CAAC,CAAC,CAAC,CACL,CAAC,CACH\\\"}\",\n  version: \"3.6.3\"\n};\nvar _worklet_6225829938965_init_data2 = {\n  code: \"function anonymous(){const{worklet,args}=this.__closure;worklet(...args);}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"worklet\\\",\\\"args\\\",\\\"__closure\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\\\"],\\\"mappings\\\":\\\"AAwIoE,SAAAA,SAAMA,CAAA,QAAAC,OAAA,CAAAC,IAAA,OAAAC,SAAA,CAGpEF,OAAO,CAAC,GAAGC,IAAI,CAAC,CAClB\\\"}\",\n  version: \"3.6.3\"\n};\nexport var runOnUIImmediately = function () {\n  var _e = [new global.Error(), -5, -27];\n  var runOnUIImmediately = function runOnUIImmediately(worklet) {\n    if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n      throw new Error('[Reanimated] `runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');\n    }\n    if (__DEV__ && !SHOULD_BE_USE_WEB && worklet.__workletHash === undefined) {\n      throw new Error('[Reanimated] `runOnUIImmediately` can only be used on worklets.');\n    }\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      NativeReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function () {\n        var _e = [new global.Error(), -3, -27];\n        var anonymous = function anonymous() {\n          worklet.apply(void 0, args);\n        };\n        anonymous.__closure = {\n          worklet: worklet,\n          args: args\n        };\n        anonymous.__workletHash = 6225829938965;\n        anonymous.__initData = _worklet_6225829938965_init_data2;\n        anonymous.__stackDetails = _e;\n        return anonymous;\n      }()));\n    };\n  };\n  runOnUIImmediately.__closure = {\n    __DEV__: __DEV__,\n    SHOULD_BE_USE_WEB: SHOULD_BE_USE_WEB,\n    NativeReanimatedModule: NativeReanimatedModule,\n    makeShareableCloneRecursive: makeShareableCloneRecursive\n  };\n  runOnUIImmediately.__workletHash = 10117741488730;\n  runOnUIImmediately.__initData = _worklet_10117741488730_init_data;\n  runOnUIImmediately.__stackDetails = _e;\n  return runOnUIImmediately;\n}();\nfunction runWorkletOnJS(worklet) {\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n  worklet.apply(void 0, args);\n}\nvar _worklet_12681577252125_init_data = {\n  code: \"function runOnJS(fun){const runOnJS=this._recur;const{SHOULD_BE_USE_WEB,runWorkletOnJS,makeShareableCloneOnUIRecursive}=this.__closure;if(SHOULD_BE_USE_WEB||!_WORKLET){return function(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}return queueMicrotask(args.length?function(){return fun(...args);}:fun);};}if(fun.__workletHash){return function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5];}return runOnJS(runWorkletOnJS)(fun,...args);};}if(fun.__remoteFunction){fun=fun.__remoteFunction;}return function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6];}_scheduleOnJS(fun,args.length>0?makeShareableCloneOnUIRecursive(args):undefined);};}\",\n  location: \"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"runOnJS\\\",\\\"fun\\\",\\\"_recur\\\",\\\"SHOULD_BE_USE_WEB\\\",\\\"runWorkletOnJS\\\",\\\"makeShareableCloneOnUIRecursive\\\",\\\"__closure\\\",\\\"_WORKLET\\\",\\\"_len4\\\",\\\"arguments\\\",\\\"length\\\",\\\"args\\\",\\\"Array\\\",\\\"_key4\\\",\\\"queueMicrotask\\\",\\\"__workletHash\\\",\\\"_len5\\\",\\\"_key5\\\",\\\"__remoteFunction\\\",\\\"_len6\\\",\\\"_key6\\\",\\\"_scheduleOnJS\\\",\\\"undefined\\\"],\\\"sources\\\":[\\\"/Users/josh/src/ui/node_modules/react-native-reanimated/lib/module/reanimated2/threads.js\\\"],\\\"mappings\\\":\\\"AA+JO,SAAAA,OAASA,CAAQC,GAAA,CAAG,OAAAD,OAAA,MAAAE,MAAA,OAAAC,iBAAA,CAAAC,cAAA,CAAAC,+BAAA,OAAAC,SAAA,CAGzB,GAAIH,iBAAiB,EAAI,CAACI,QAAQ,CAAE,CAElC,MAAO,WAAY,CACjB,IAAK,GAAI,CAAAC,KAAK,CAAGC,SAAS,CAACC,MAAM,CAAEC,IAAI,CAAG,GAAI,CAAAC,KAAK,CAACJ,KAAK,CAAC,CAAEK,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGL,KAAK,CAAEK,KAAK,EAAE,CAAE,CAC7FF,IAAI,CAACE,KAAK,CAAC,CAAGJ,SAAS,CAACI,KAAK,CAAC,CAChC,CACA,MAAO,CAAAC,cAAc,CAACH,IAAI,CAACD,MAAM,CAAG,iBAAM,CAAAT,GAAG,CAAC,GAAGU,IAAI,CAAC,GAAGV,GAAG,CAAC,CAC/D,CAAC,CACH,CACA,GAAIA,GAAG,CAACc,aAAa,CAAE,CAIrB,MAAO,WAAY,CACjB,IAAK,GAAI,CAAAC,KAAK,CAAGP,SAAS,CAACC,MAAM,CAAEC,IAAI,CAAG,GAAI,CAAAC,KAAK,CAACI,KAAK,CAAC,CAAEC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGD,KAAK,CAAEC,KAAK,EAAE,CAAE,CAC7FN,IAAI,CAACM,KAAK,CAAC,CAAGR,SAAS,CAACQ,KAAK,CAAC,CAChC,CACA,MAAO,CAAAjB,OAAO,CAACI,cAAc,CAAC,CAACH,GAAG,CAAE,GAAGU,IAAI,CAAC,CAC9C,CAAC,CACH,CACA,GAAIV,GAAG,CAACiB,gBAAgB,CAAE,CAKxBjB,GAAG,CAAGA,GAAG,CAACiB,gBAAgB,CAC5B,CACA,MAAO,WAAY,CACjB,IAAK,GAAI,CAAAC,KAAK,CAAGV,SAAS,CAACC,MAAM,CAAEC,IAAI,CAAG,GAAI,CAAAC,KAAK,CAACO,KAAK,CAAC,CAAEC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGD,KAAK,CAAEC,KAAK,EAAE,CAAE,CAC7FT,IAAI,CAACS,KAAK,CAAC,CAAGX,SAAS,CAACW,KAAK,CAAC,CAChC,CACAC,aAAa,CAACpB,GAAG,CAAEU,IAAI,CAACD,MAAM,CAAG,CAAC,CAElCL,+BAA+B,CAACM,IAAI,CAAC,CAAGW,SAAS,CAAC,CACpD,CAAC,CACH\\\"}\",\n  version: \"3.6.3\"\n};\nexport var runOnJS = function () {\n  var _e = [new global.Error(), -4, -27];\n  var runOnJS = function runOnJS(fun) {\n    if (SHOULD_BE_USE_WEB || !_WORKLET) {\n      return function () {\n        for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n        return queueMicrotask(args.length ? function () {\n          return fun.apply(void 0, args);\n        } : fun);\n      };\n    }\n    if (fun.__workletHash) {\n      return function () {\n        for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n          args[_key5] = arguments[_key5];\n        }\n        return runOnJS(runWorkletOnJS).apply(void 0, [fun].concat(args));\n      };\n    }\n    if (fun.__remoteFunction) {\n      fun = fun.__remoteFunction;\n    }\n    return function () {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n      _scheduleOnJS(fun, args.length > 0 ? makeShareableCloneOnUIRecursive(args) : undefined);\n    };\n  };\n  runOnJS.__closure = {\n    SHOULD_BE_USE_WEB: SHOULD_BE_USE_WEB,\n    runWorkletOnJS: runWorkletOnJS,\n    makeShareableCloneOnUIRecursive: makeShareableCloneOnUIRecursive\n  };\n  runOnJS.__workletHash = 12681577252125;\n  runOnJS.__initData = _worklet_12681577252125_init_data;\n  runOnJS.__stackDetails = _e;\n  return runOnJS;\n}();","map":{"version":3,"sources":["threads.ts"],"names":["NativeReanimatedModule","isJest","shouldBeUseWeb","makeShareableCloneOnUIRecursive","makeShareableCloneRecursive","IS_JEST","SHOULD_BE_USE_WEB","_runOnUIQueue","setupMicrotasks","microtasksQueue","isExecutingMicrotasksQueue","global","queueMicrotask","callback","push","__callMicrotasks","index","length","_maybeFlushUIUpdatesQueue","callMicrotasksOnUIThread","callMicrotasks","runOnUI","worklet","__DEV__","_WORKLET","Error","__workletHash","undefined","args","scheduleOnUI","queue","forEach","_ref","runOnUIImmediately","runWorkletOnJS","runOnJS","fun","__remoteFunction","_scheduleOnJS"],"mappings":"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","sourcesContent":["'use strict';\nimport NativeReanimatedModule from './NativeReanimated';\nimport { isJest, shouldBeUseWeb } from './PlatformChecker';\nimport type { WorkletFunction } from './commonTypes';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\n\nconst IS_JEST = isJest();\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\n/**\n * An array of [worklet, args] pairs.\n * */\nlet _runOnUIQueue: Array<[WorkletFunction<unknown[], unknown>, unknown[]]> = [];\n\nexport function setupMicrotasks() {\n  'worklet';\n\n  let microtasksQueue: Array<() => void> = [];\n  let isExecutingMicrotasksQueue = false;\n  global.queueMicrotask = (callback: () => void) => {\n    microtasksQueue.push(callback);\n  };\n\n  global.__callMicrotasks = () => {\n    if (isExecutingMicrotasksQueue) {\n      return;\n    }\n    try {\n      isExecutingMicrotasksQueue = true;\n      for (let index = 0; index < microtasksQueue.length; index += 1) {\n        // we use classic 'for' loop because the size of the currentTasks array may change while executing some of the callbacks due to queueMicrotask calls\n        microtasksQueue[index]();\n      }\n      microtasksQueue = [];\n      global._maybeFlushUIUpdatesQueue();\n    } finally {\n      isExecutingMicrotasksQueue = false;\n    }\n  };\n}\n\nfunction callMicrotasksOnUIThread() {\n  'worklet';\n  global.__callMicrotasks();\n}\n\nexport const callMicrotasks = SHOULD_BE_USE_WEB\n  ? () => {\n      // on web flushing is a noop as immediates are handled by the browser\n    }\n  : callMicrotasksOnUIThread;\n\n/**\n * Lets you asynchronously run [workletized](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#to-workletize) functions on the [UI thread](https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI).\n *\n * This method does not schedule the work immediately but instead waits for other worklets\n * to be scheduled within the same JS loop. It uses queueMicrotask to schedule all the worklets\n * at once making sure they will run within the same frame boundaries on the UI thread.\n *\n * @param fun - A reference to a function you want to execute on the [UI thread](https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI) from the [JavaScript thread](https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI).\n * @returns A function that accepts arguments for the function passed as the first argument.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI\n */\n// @ts-expect-error This overload is correct since it's what user sees in his code\n// before it's transformed by Reanimated Babel plugin.\nexport function runOnUI<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): (...args: Args) => void;\n\nexport function runOnUI<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n    throw new Error(\n      '[Reanimated] `runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.'\n    );\n  }\n  if (__DEV__ && !SHOULD_BE_USE_WEB && worklet.__workletHash === undefined) {\n    throw new Error('[Reanimated] `runOnUI` can only be used on worklets.');\n  }\n  return (...args) => {\n    if (IS_JEST) {\n      // Mocking time in Jest is tricky as both requestAnimationFrame and queueMicrotask\n      // callbacks run on the same queue and can be interleaved. There is no way\n      // to flush particular queue in Jest and the only control over mocked timers\n      // is by using jest.advanceTimersByTime() method which advances all types\n      // of timers including immediate and animation callbacks. Ideally we'd like\n      // to have some way here to schedule work along with React updates, but\n      // that's not possible, and hence in Jest environment instead of using scheduling\n      // mechanism we just schedule the work ommiting the queue. This is ok for the\n      // uses that we currently have but may not be ok for future tests that we write.\n      NativeReanimatedModule.scheduleOnUI(\n        makeShareableCloneRecursive(() => {\n          'worklet';\n          worklet(...args);\n        })\n      );\n      return;\n    }\n    if (__DEV__) {\n      // in DEV mode we call shareable conversion here because in case the object\n      // can't be converted, we will get a meaningful stack-trace as opposed to the\n      // situation when conversion is only done via microtask queue. This does not\n      // make the app particularily less efficient as converted objects are cached\n      // and for a given worklet the conversion only happens once.\n      makeShareableCloneRecursive(worklet);\n      makeShareableCloneRecursive(args);\n    }\n    //\n    _runOnUIQueue.push([worklet as WorkletFunction<unknown[], unknown>, args]);\n    if (_runOnUIQueue.length === 1) {\n      queueMicrotask(() => {\n        const queue = _runOnUIQueue;\n        _runOnUIQueue = [];\n        NativeReanimatedModule.scheduleOnUI(\n          makeShareableCloneRecursive(() => {\n            'worklet';\n            queue.forEach(([worklet, args]) => {\n              worklet(...args);\n            });\n            callMicrotasks();\n          })\n        );\n      });\n    }\n  };\n}\n\n// @ts-expect-error Check `runOnUI` overload above.\nexport function runOnUIImmediately<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): WorkletFunction<Args, ReturnValue>;\n/**\n * Schedule a worklet to execute on the UI runtime skipping batching mechanism.\n */\nexport function runOnUIImmediately<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n    throw new Error(\n      '[Reanimated] `runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.'\n    );\n  }\n  if (__DEV__ && !SHOULD_BE_USE_WEB && worklet.__workletHash === undefined) {\n    throw new Error(\n      '[Reanimated] `runOnUIImmediately` can only be used on worklets.'\n    );\n  }\n  return (...args) => {\n    NativeReanimatedModule.scheduleOnUI(\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        worklet(...args);\n      })\n    );\n  };\n}\n\ntype ReleaseRemoteFunction<Args extends unknown[], ReturnValue> = {\n  (...args: Args): ReturnValue;\n};\n\ntype DevRemoteFunction<Args extends unknown[], ReturnValue> = {\n  __remoteFunction: (...args: Args) => ReturnValue;\n};\n\ntype RemoteFunction<Args extends unknown[], ReturnValue> =\n  | ReleaseRemoteFunction<Args, ReturnValue>\n  | DevRemoteFunction<Args, ReturnValue>;\n\nfunction runWorkletOnJS<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>,\n  ...args: Args\n): void {\n  // remote function that calls a worklet synchronously on the JS runtime\n  worklet(...args);\n}\n\n/**\n * Lets you asynchronously run non-[workletized](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#to-workletize) functions that couldn't otherwise run on the [UI thread](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#ui-thread).\n * This applies to most external libraries as they don't have their functions marked with \"worklet\"; directive.\n *\n * @param fun - A reference to a function you want to execute on the JavaScript thread from the UI thread.\n * @returns A function that accepts arguments for the function passed as the first argument.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnJS\n */\nexport function runOnJS<Args extends unknown[], ReturnValue>(\n  fun:\n    | ((...args: Args) => ReturnValue)\n    | RemoteFunction<Args, ReturnValue>\n    | WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  type FunWorklet = Extract<typeof fun, WorkletFunction<Args, ReturnValue>>;\n  type FunDevRemote = Extract<typeof fun, DevRemoteFunction<Args, ReturnValue>>;\n  if (SHOULD_BE_USE_WEB || !_WORKLET) {\n    // if we are already on the JS thread, we just schedule the worklet on the JS queue\n    return (...args) =>\n      queueMicrotask(\n        args.length\n          ? () => (fun as (...args: Args) => ReturnValue)(...args)\n          : (fun as () => ReturnValue)\n      );\n  }\n  if ((fun as FunWorklet).__workletHash) {\n    // If `fun` is a worklet, we schedule a call of a remote function `runWorkletOnJS`\n    // and pass the worklet as a first argument followed by original arguments.\n\n    return (...args) =>\n      runOnJS(runWorkletOnJS<Args, ReturnValue>)(\n        fun as WorkletFunction<Args, ReturnValue>,\n        ...args\n      );\n  }\n  if ((fun as FunDevRemote).__remoteFunction) {\n    // In development mode the function provided as `fun` throws an error message\n    // such that when someone accidentally calls it directly on the UI runtime, they\n    // see that they should use `runOnJS` instead. To facilitate that we put the\n    // reference to the original remote function in the `__functionInDEV` property.\n    fun = (fun as FunDevRemote).__remoteFunction;\n  }\n  return (...args) => {\n    _scheduleOnJS(\n      fun as\n        | ((...args: Args) => ReturnValue)\n        | WorkletFunction<Args, ReturnValue>,\n      args.length > 0\n        ? // TODO TYPESCRIPT this cast is terrible but will be fixed\n          (makeShareableCloneOnUIRecursive(args) as unknown as unknown[])\n        : undefined\n    );\n  };\n}\n"]},"metadata":{},"sourceType":"module"}