{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport React, { useContext, useImperativeHandle } from \"react\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { ThemeContext } from \".\";\nimport { SPACING } from \"./Common\";\nimport { mediaQueryLargerThan } from \"./MediaQuery\";\nimport { Unifier } from \"./Unifier\";\nvar ALIGN_CONTENT = {\n  start: \"flex-start\",\n  end: \"flex-end\",\n  center: \"center\",\n  between: \"space-between\",\n  around: \"space-around\",\n  stretch: \"stretch\"\n};\nvar ALIGN_ITEMS = {\n  start: \"flex-start\",\n  end: \"flex-end\",\n  center: \"center\",\n  baseline: \"baseline\",\n  stretch: \"stretch\"\n};\nvar ALIGN_SELF = {\n  auto: \"auto\",\n  baseline: \"baseline\",\n  start: \"flex-start\",\n  end: \"flex-end\",\n  center: \"center\",\n  between: \"space-between\",\n  around: \"space-around\",\n  stretch: \"stretch\"\n};\nvar BORDER_WIDTH = 1;\nexport var Box = React.forwardRef(function (props, ref) {\n  var _a;\n  var _useContext = useContext(ThemeContext),\n    theme = _useContext.theme;\n  useImperativeHandle(ref, function () {\n    return {\n      scrollToEnd: function scrollToEnd() {\n        if (scrollRef && scrollRef.current) {\n          setTimeout(function () {\n            scrollRef && scrollRef.current && scrollRef.current.scrollToEnd();\n          }, 50);\n        }\n      },\n      scrollTo: function scrollTo(y) {\n        if (scrollRef && scrollRef.current) {\n          setTimeout(function () {\n            scrollRef && scrollRef.current && scrollRef.current.scrollTo({\n              y: y\n            });\n          }, 50);\n        }\n      }\n    };\n  });\n  var BOX_STYLE_MAP = {\n    alignItems: function alignItems(value) {\n      return {\n        alignItems: ALIGN_ITEMS[value]\n      };\n    },\n    alignContent: function alignContent(value) {\n      return {\n        alignContent: ALIGN_CONTENT[value]\n      };\n    },\n    alignSelf: function alignSelf(value) {\n      return {\n        alignSelf: ALIGN_SELF[value]\n      };\n    },\n    color: function color(value) {\n      return {\n        backgroundColor: theme[value]\n      };\n    },\n    direction: function direction(value) {\n      return {\n        flexDirection: value,\n        display: \"flex\"\n      };\n    },\n    smDirection: function smDirection(value) {\n      return mediaQueryLargerThan(\"sm\") ? {\n        flexDirection: value,\n        display: \"flex\"\n      } : {};\n    },\n    mdDirection: function mdDirection(value) {\n      return mediaQueryLargerThan(\"md\") ? {\n        flexDirection: value,\n        display: \"flex\"\n      } : {};\n    },\n    lgDirection: function lgDirection(value) {\n      return mediaQueryLargerThan(\"lg\") ? {\n        flexDirection: value,\n        display: \"flex\"\n      } : {};\n    },\n    display: function display(value) {\n      return value === \"flex\" ? {\n        flex: undefined\n      } : {\n        flex: 0,\n        flexDirection: \"row\"\n      };\n    },\n    flex: function flex(value) {\n      if (value === \"grow\") {\n        return {\n          flexGrow: 1,\n          flexShrink: 1,\n          display: \"flex\"\n        };\n      } else if (value === \"shrink\") {\n        return {\n          flexShrink: 1,\n          display: \"flex\"\n        };\n      } else {\n        return {\n          flex: 0,\n          display: \"flex\"\n        };\n      }\n    },\n    justifyContent: function justifyContent(value) {\n      return {\n        justifyContent: ALIGN_CONTENT[value]\n      };\n    },\n    height: function height(value) {\n      if (props.border && !isNaN(Number(value))) {\n        return {\n          height: Number(value) + 2 * 2\n        };\n      } else {\n        return {\n          height: value\n        };\n      }\n    },\n    margin: function margin(value) {\n      return {\n        margin: value * SPACING\n      };\n    },\n    marginRight: function marginRight(value) {\n      return {\n        marginRight: value * SPACING\n      };\n    },\n    marginLeft: function marginLeft(value) {\n      return {\n        marginLeft: value * SPACING\n      };\n    },\n    marginTop: function marginTop(value) {\n      return {\n        marginTop: value * SPACING\n      };\n    },\n    marginBottom: function marginBottom(value) {\n      return {\n        marginBottom: value * SPACING\n      };\n    },\n    paddingX: function paddingX(value) {\n      return {\n        paddingLeft: value * SPACING,\n        paddingRight: value * SPACING\n      };\n    },\n    paddingY: function paddingY(value) {\n      return {\n        paddingTop: value * SPACING,\n        paddingBottom: value * SPACING\n      };\n    },\n    padding: function padding(value) {\n      return {\n        padding: value * SPACING\n      };\n    },\n    zIndex: function zIndex(value) {\n      return {\n        zIndex: value ? value : undefined\n      };\n    },\n    position: function position(value) {\n      return {\n        position: value\n      };\n    },\n    top: function top(_top) {\n      return {\n        top: _top ? 0 : undefined\n      };\n    },\n    bottom: function bottom(_bottom) {\n      return {\n        bottom: _bottom ? 0 : undefined\n      };\n    },\n    right: function right(_right) {\n      return {\n        right: _right ? 0 : undefined\n      };\n    },\n    left: function left(_left) {\n      return {\n        left: _left ? 0 : undefined\n      };\n    },\n    rounding: function rounding(_rounding, allProps) {\n      if (_rounding === \"circle\") {\n        if (!allProps.height && !allProps.width) {\n          console.warn(\"Cannot use Box rounding='circle' without height or width.\");\n          return {\n            borderRadius: undefined\n          };\n        }\n        return {\n          borderRadius: allProps.height || allProps.width\n        };\n      }\n      if (_rounding === \"pill\") {\n        return {\n          borderRadius: 999\n        };\n      }\n      if (typeof _rounding === \"number\") {\n        return {\n          borderRadius: _rounding * 4\n        };\n      }\n      return {\n        borderRadius: undefined\n      };\n    },\n    overflow: function overflow(value) {\n      if (value === \"scrollY\" || value === \"scroll\") {\n        return {\n          overflow: \"scroll\"\n        };\n      }\n      return {\n        overflow: value\n      };\n    },\n    width: function width(value) {\n      if (props.border && !isNaN(Number(value))) {\n        return {\n          width: Number(value) + 2 * 2\n        };\n      } else {\n        return {\n          width: value\n        };\n      }\n    },\n    wrap: function wrap(value) {\n      return {\n        flexWrap: value ? \"wrap\" : \"nowrap\",\n        alignItems: \"flex-start\"\n      };\n    },\n    shadow: function shadow(value) {\n      if (!value) {\n        return {};\n      }\n      if (Platform.OS === \"ios\" || Platform.OS === \"web\") {\n        return {\n          shadowColor: \"#999\",\n          shadowOffset: {\n            width: 2,\n            height: 2\n          },\n          shadowRadius: 2,\n          shadowOpacity: 1.0\n        };\n      } else {\n        return {\n          elevation: 4\n        };\n      }\n    },\n    border: function border(value) {\n      if (!value) {\n        return {};\n      }\n      return {\n        borderColor: theme[value],\n        borderWidth: BORDER_WIDTH\n      };\n    },\n    borderBottom: function borderBottom(value) {\n      if (!value) {\n        return {};\n      }\n      return {\n        borderBottomColor: theme[value],\n        borderBottomWidth: BORDER_WIDTH\n      };\n    },\n    borderTop: function borderTop(value) {\n      if (!value) {\n        return {};\n      }\n      return {\n        borderTopColor: theme[value],\n        borderTopWidth: BORDER_WIDTH\n      };\n    },\n    borderRight: function borderRight(value) {\n      if (!value) {\n        return {};\n      }\n      return {\n        borderRightColor: theme[value],\n        borderRightWidth: BORDER_WIDTH\n      };\n    },\n    borderLeft: function borderLeft(value) {\n      if (!value) {\n        return {};\n      }\n      return {\n        borderLeftColor: theme[value],\n        borderLeftWidth: BORDER_WIDTH\n      };\n    }\n  };\n  var scrollRef = (_a = props.scrollRef) !== null && _a !== void 0 ? _a : React.createRef();\n  var propsToStyle = function propsToStyle() {\n    var style = {};\n    for (var prop of Object.keys(props)) {\n      var value = props[prop];\n      if (BOX_STYLE_MAP[prop]) {\n        Object.assign(style, BOX_STYLE_MAP[prop](value, props));\n      } else if (prop !== \"children\" && prop !== \"onClick\") {\n        style[prop] = value;\n      }\n    }\n    if (props.wrap && props.alignItems) {\n      console.warn(\"React Native doesn't support wrap and alignItems together.\");\n    }\n    if (props.dangerouslySetInlineStyle) {\n      style = Object.assign(Object.assign({}, style), props.dangerouslySetInlineStyle.__style);\n    }\n    return style;\n  };\n  var onHoverIn = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var _a;\n      yield (_a = props.onHoverStart) === null || _a === void 0 ? void 0 : _a.call(props);\n    });\n    return function onHoverIn() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var onHoverOut = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var _a;\n      yield (_a = props.onHoverEnd) === null || _a === void 0 ? void 0 : _a.call(props);\n    });\n    return function onHoverOut() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var box;\n  if (props.onClick) {\n    box = React.createElement(Pressable, {\n      style: propsToStyle(),\n      testID: props.testID ? `${props.testID}-clickable` : undefined,\n      onLayout: props.onLayout,\n      onPointerEnter: onHoverIn,\n      onPointerLeave: onHoverOut,\n      onPress: function () {\n        var _onPress = _asyncToGenerator(function* () {\n          yield Unifier.utils.haptic();\n          yield props.onClick();\n        });\n        function onPress() {\n          return _onPress.apply(this, arguments);\n        }\n        return onPress;\n      }()\n    }, props.children);\n  } else {\n    box = React.createElement(View, {\n      style: propsToStyle(),\n      testID: props.testID,\n      onPointerEnter: onHoverIn,\n      onPointerLeave: onHoverOut\n    }, props.children);\n  }\n  if (props.scroll) {\n    var _b = propsToStyle(),\n      justifyContent = _b.justifyContent,\n      alignContent = _b.alignContent,\n      alignItems = _b.alignItems,\n      scrollStyle = __rest(_b, [\"justifyContent\", \"alignContent\", \"alignItems\"]);\n    box = React.createElement(ScrollView, {\n      ref: props.scrollRef || scrollRef,\n      contentContainerStyle: {\n        justifyContent: justifyContent,\n        alignContent: alignContent,\n        alignItems: alignItems\n      },\n      horizontal: props.overflow === \"scrollX\",\n      keyboardShouldPersistTaps: \"handled\",\n      nestedScrollEnabled: true,\n      scrollEventThrottle: 50,\n      style: scrollStyle,\n      onScroll: function onScroll(event) {\n        if (props.onScroll && event) {\n          props.onScroll(event.nativeEvent.contentOffset.y);\n        }\n      }\n    }, box);\n  }\n  if (props.avoidKeyboard) {\n    box = React.createElement(KeyboardAvoidingView, {\n      behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n      keyboardVerticalOffset: props.keyboardOffset,\n      style: {\n        flex: 1,\n        display: \"flex\"\n      }\n    }, React.createElement(SafeAreaView, {\n      style: {\n        flex: 1,\n        display: \"flex\"\n      }\n    }, box));\n  }\n  return box;\n});","map":{"version":3,"sources":["../src/Box.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable react/prop-types */\nimport React, { useContext, useImperativeHandle } from \"react\";\nimport { KeyboardAvoidingView, Platform, Pressable, SafeAreaView, ScrollView, View, } from \"react-native\";\nimport { ThemeContext } from \".\";\nimport { SPACING } from \"./Common\";\nimport { mediaQueryLargerThan } from \"./MediaQuery\";\nimport { Unifier } from \"./Unifier\";\nconst ALIGN_CONTENT = {\n    start: \"flex-start\",\n    end: \"flex-end\",\n    center: \"center\",\n    between: \"space-between\",\n    around: \"space-around\",\n    stretch: \"stretch\",\n};\nconst ALIGN_ITEMS = {\n    start: \"flex-start\",\n    end: \"flex-end\",\n    center: \"center\",\n    baseline: \"baseline\",\n    stretch: \"stretch\",\n};\nconst ALIGN_SELF = {\n    auto: \"auto\",\n    baseline: \"baseline\",\n    start: \"flex-start\",\n    end: \"flex-end\",\n    center: \"center\",\n    between: \"space-between\",\n    around: \"space-around\",\n    stretch: \"stretch\",\n};\nconst BORDER_WIDTH = 1;\n// eslint-disable-next-line react/display-name\nexport const Box = React.forwardRef((props, ref) => {\n    var _a;\n    const { theme } = useContext(ThemeContext);\n    useImperativeHandle(ref, () => ({\n        scrollToEnd: () => {\n            if (scrollRef && scrollRef.current) {\n                // HACK HACK HACK...but it works. Probably need to do some onContentSizeChange or onLayout\n                // to avoid this, but it works well enough.\n                setTimeout(() => {\n                    scrollRef && scrollRef.current && scrollRef.current.scrollToEnd();\n                }, 50);\n            }\n        },\n        scrollTo: (y) => {\n            if (scrollRef && scrollRef.current) {\n                // HACK HACK HACK...but it works. Probably need to do some onContentSizeChange or onLayout\n                // to avoid this, but it works well enough.\n                setTimeout(() => {\n                    scrollRef && scrollRef.current && scrollRef.current.scrollTo({ y });\n                }, 50);\n            }\n        },\n    }));\n    const BOX_STYLE_MAP = {\n        alignItems: (value) => ({ alignItems: ALIGN_ITEMS[value] }),\n        alignContent: (value) => ({ alignContent: ALIGN_CONTENT[value] }),\n        alignSelf: (value) => ({ alignSelf: ALIGN_SELF[value] }),\n        color: (value) => ({ backgroundColor: theme[value] }),\n        direction: (value) => ({ flexDirection: value, display: \"flex\" }),\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        smDirection: (value) => mediaQueryLargerThan(\"sm\") ? { flexDirection: value, display: \"flex\" } : {},\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        mdDirection: (value) => mediaQueryLargerThan(\"md\") ? { flexDirection: value, display: \"flex\" } : {},\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        lgDirection: (value) => mediaQueryLargerThan(\"lg\") ? { flexDirection: value, display: \"flex\" } : {},\n        display: (value) => {\n            return value === \"flex\" ? { flex: undefined } : { flex: 0, flexDirection: \"row\" };\n        },\n        flex: (value) => {\n            if (value === \"grow\") {\n                return { flexGrow: 1, flexShrink: 1, display: \"flex\" };\n            }\n            else if (value === \"shrink\") {\n                return { flexShrink: 1, display: \"flex\" };\n            }\n            else {\n                return { flex: 0, display: \"flex\" };\n            }\n        },\n        justifyContent: (value) => ({ justifyContent: ALIGN_CONTENT[value] }),\n        height: (value) => {\n            if (props.border && !isNaN(Number(value))) {\n                return { height: Number(value) + 2 * 2 };\n            }\n            else {\n                return { height: value };\n            }\n        },\n        margin: (value) => ({ margin: value * SPACING }),\n        marginRight: (value) => ({ marginRight: value * SPACING }),\n        marginLeft: (value) => ({ marginLeft: value * SPACING }),\n        marginTop: (value) => ({ marginTop: value * SPACING }),\n        marginBottom: (value) => ({ marginBottom: value * SPACING }),\n        paddingX: (value) => ({ paddingLeft: value * SPACING, paddingRight: value * SPACING }),\n        paddingY: (value) => ({ paddingTop: value * SPACING, paddingBottom: value * SPACING }),\n        padding: (value) => ({ padding: value * SPACING }),\n        zIndex: (value) => ({ zIndex: value ? value : undefined }),\n        position: (value) => ({ position: value }),\n        top: (top) => ({ top: top ? 0 : undefined }),\n        bottom: (bottom) => ({ bottom: bottom ? 0 : undefined }),\n        right: (right) => ({ right: right ? 0 : undefined }),\n        left: (left) => ({ left: left ? 0 : undefined }),\n        rounding: (rounding, allProps) => {\n            if (rounding === \"circle\") {\n                if (!allProps.height && !allProps.width) {\n                    console.warn(\"Cannot use Box rounding='circle' without height or width.\");\n                    return { borderRadius: undefined };\n                }\n                return { borderRadius: allProps.height || allProps.width };\n            }\n            if (rounding === \"pill\") {\n                return { borderRadius: 999 };\n            }\n            if (typeof rounding === \"number\") {\n                return { borderRadius: rounding * 4 };\n            }\n            return { borderRadius: undefined };\n        },\n        overflow: (value) => {\n            if (value === \"scrollY\" || value === \"scroll\") {\n                return { overflow: \"scroll\" };\n            }\n            return { overflow: value };\n        },\n        width: (value) => {\n            if (props.border && !isNaN(Number(value))) {\n                return { width: Number(value) + 2 * 2 };\n            }\n            else {\n                return { width: value };\n            }\n        },\n        wrap: (value) => ({ flexWrap: value ? \"wrap\" : \"nowrap\", alignItems: \"flex-start\" }),\n        shadow: (value) => {\n            if (!value) {\n                return {};\n            }\n            if (Platform.OS === \"ios\" || Platform.OS === \"web\") {\n                return {\n                    shadowColor: \"#999\",\n                    shadowOffset: {\n                        width: 2,\n                        height: 2,\n                    },\n                    shadowRadius: 2,\n                    shadowOpacity: 1.0,\n                };\n            }\n            else {\n                return { elevation: 4 };\n            }\n        },\n        border: (value) => {\n            if (!value) {\n                return {};\n            }\n            return { borderColor: theme[value], borderWidth: BORDER_WIDTH };\n        },\n        borderBottom: (value) => {\n            if (!value) {\n                return {};\n            }\n            return { borderBottomColor: theme[value], borderBottomWidth: BORDER_WIDTH };\n        },\n        borderTop: (value) => {\n            if (!value) {\n                return {};\n            }\n            return { borderTopColor: theme[value], borderTopWidth: BORDER_WIDTH };\n        },\n        borderRight: (value) => {\n            if (!value) {\n                return {};\n            }\n            return { borderRightColor: theme[value], borderRightWidth: BORDER_WIDTH };\n        },\n        borderLeft: (value) => {\n            if (!value) {\n                return {};\n            }\n            return { borderLeftColor: theme[value], borderLeftWidth: BORDER_WIDTH };\n        },\n    };\n    const scrollRef = (_a = props.scrollRef) !== null && _a !== void 0 ? _a : React.createRef();\n    const propsToStyle = () => {\n        let style = {};\n        for (const prop of Object.keys(props)) {\n            const value = props[prop];\n            if (BOX_STYLE_MAP[prop]) {\n                Object.assign(style, BOX_STYLE_MAP[prop](value, props));\n            }\n            else if (prop !== \"children\" && prop !== \"onClick\") {\n                style[prop] = value;\n                // console.warn(`Box: unknown property ${prop}`);\n            }\n        }\n        if (props.wrap && props.alignItems) {\n            console.warn(\"React Native doesn't support wrap and alignItems together.\");\n        }\n        // Finally, dangerously set overrides.\n        if (props.dangerouslySetInlineStyle) {\n            style = Object.assign(Object.assign({}, style), props.dangerouslySetInlineStyle.__style);\n        }\n        return style;\n    };\n    const onHoverIn = async () => {\n        var _a;\n        await ((_a = props.onHoverStart) === null || _a === void 0 ? void 0 : _a.call(props));\n    };\n    const onHoverOut = async () => {\n        var _a;\n        await ((_a = props.onHoverEnd) === null || _a === void 0 ? void 0 : _a.call(props));\n    };\n    let box;\n    if (props.onClick) {\n        box = (React.createElement(Pressable, { style: propsToStyle(), testID: props.testID ? `${props.testID}-clickable` : undefined, onLayout: props.onLayout, onPointerEnter: onHoverIn, onPointerLeave: onHoverOut, onPress: async () => {\n                await Unifier.utils.haptic();\n                await props.onClick();\n            } }, props.children));\n    }\n    else {\n        box = (React.createElement(View, { style: propsToStyle(), testID: props.testID, onPointerEnter: onHoverIn, onPointerLeave: onHoverOut }, props.children));\n    }\n    if (props.scroll) {\n        const _b = propsToStyle(), { justifyContent, alignContent, alignItems } = _b, scrollStyle = __rest(_b, [\"justifyContent\", \"alignContent\", \"alignItems\"]);\n        box = (React.createElement(ScrollView, { ref: props.scrollRef || scrollRef, contentContainerStyle: { justifyContent, alignContent, alignItems }, horizontal: props.overflow === \"scrollX\", keyboardShouldPersistTaps: \"handled\", nestedScrollEnabled: true, scrollEventThrottle: 50, style: scrollStyle, onScroll: (event) => {\n                if (props.onScroll && event) {\n                    props.onScroll(event.nativeEvent.contentOffset.y);\n                }\n            } }, box));\n    }\n    if (props.avoidKeyboard) {\n        box = (React.createElement(KeyboardAvoidingView, { behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\", keyboardVerticalOffset: props.keyboardOffset, style: { flex: 1, display: \"flex\" } },\n            React.createElement(SafeAreaView, { style: { flex: 1, display: \"flex\" } }, box)));\n    }\n    return box;\n});\n//# sourceMappingURL=Box.js.map"]},"metadata":{},"sourceType":"module"}