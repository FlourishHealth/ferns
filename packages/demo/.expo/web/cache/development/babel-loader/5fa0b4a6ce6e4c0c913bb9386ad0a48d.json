{"ast":null,"code":"import _defineProperty2 from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty2(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Toast from \"./toast\";\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  height = _Dimensions$get.height,\n  width = _Dimensions$get.width;\nvar ToastContainer = function (_Component) {\n  _inherits(ToastContainer, _Component);\n  var _super = _createSuper(ToastContainer);\n  function ToastContainer(props) {\n    var _this;\n    _classCallCheck(this, ToastContainer);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"show\", function (message, toastOptions) {\n      var id = (toastOptions === null || toastOptions === void 0 ? void 0 : toastOptions.id) || Math.random().toString();\n      var onDestroy = function onDestroy() {\n        (toastOptions === null || toastOptions === void 0 ? void 0 : toastOptions.onClose) && (toastOptions === null || toastOptions === void 0 ? void 0 : toastOptions.onClose());\n        _this.setState({\n          toasts: _this.state.toasts.filter(function (t) {\n            return t.id !== id;\n          })\n        });\n      };\n      requestAnimationFrame(function () {\n        _this.setState({\n          toasts: [_objectSpread(_objectSpread({\n            id: id,\n            onDestroy: onDestroy,\n            message: message,\n            open: true,\n            onHide: function onHide() {\n              return _this.hide(id);\n            }\n          }, _this.props), toastOptions)].concat(_toConsumableArray(_this.state.toasts.filter(function (t) {\n            return t.open;\n          })))\n        });\n      });\n      return id;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (id, message, toastOptions) {\n      _this.setState({\n        toasts: _this.state.toasts.map(function (toast) {\n          return toast.id === id ? _objectSpread(_objectSpread({}, toast), {}, {\n            message: message\n          }, toastOptions) : toast;\n        })\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"hide\", function (id) {\n      _this.setState({\n        toasts: _this.state.toasts.map(function (t) {\n          return t.id === id ? _objectSpread(_objectSpread({}, t), {}, {\n            open: false\n          }) : t;\n        })\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"hideAll\", function () {\n      _this.setState({\n        toasts: _this.state.toasts.map(function (t) {\n          return _objectSpread(_objectSpread({}, t), {}, {\n            open: false\n          });\n        })\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isOpen\", function (id) {\n      return _this.state.toasts.some(function (t) {\n        return t.id === id && t.open;\n      });\n    });\n    _this.state = {\n      toasts: []\n    };\n    return _this;\n  }\n  _createClass(ToastContainer, [{\n    key: \"renderBottomToasts\",\n    value: function renderBottomToasts() {\n      var toasts = this.state.toasts;\n      var _this$props = this.props,\n        offset = _this$props.offset,\n        offsetBottom = _this$props.offsetBottom;\n      var style = {\n        bottom: offsetBottom || offset,\n        width: width,\n        justifyContent: \"flex-end\",\n        flexDirection: \"column\"\n      };\n      return React.createElement(KeyboardAvoidingView, {\n        behavior: Platform.OS === \"ios\" ? \"position\" : undefined,\n        style: [styles.container, style],\n        pointerEvents: \"box-none\"\n      }, React.createElement(SafeAreaView, null, toasts.filter(function (t) {\n        return !t.placement || t.placement === \"bottom\";\n      }).map(function (toast) {\n        return React.createElement(Toast, _extends({\n          key: toast.id\n        }, toast));\n      })));\n    }\n  }, {\n    key: \"renderTopToasts\",\n    value: function renderTopToasts() {\n      var toasts = this.state.toasts;\n      var _this$props2 = this.props,\n        offset = _this$props2.offset,\n        offsetTop = _this$props2.offsetTop;\n      var style = {\n        top: offsetTop || offset,\n        width: width,\n        justifyContent: \"flex-start\",\n        flexDirection: \"column-reverse\"\n      };\n      return React.createElement(KeyboardAvoidingView, {\n        behavior: Platform.OS === \"ios\" ? \"position\" : undefined,\n        style: [styles.container, style],\n        pointerEvents: \"box-none\"\n      }, React.createElement(SafeAreaView, null, toasts.filter(function (t) {\n        return t.placement === \"top\";\n      }).map(function (toast) {\n        return React.createElement(Toast, _extends({\n          key: toast.id\n        }, toast));\n      })));\n    }\n  }, {\n    key: \"renderCenterToasts\",\n    value: function renderCenterToasts() {\n      var toasts = this.state.toasts;\n      var _this$props3 = this.props,\n        offset = _this$props3.offset,\n        offsetTop = _this$props3.offsetTop;\n      var style = {\n        top: offsetTop || offset,\n        height: height,\n        width: width,\n        justifyContent: \"center\",\n        flexDirection: \"column-reverse\"\n      };\n      var data = toasts.filter(function (t) {\n        return t.placement === \"center\";\n      });\n      var foundToast = data.length > 0;\n      if (!foundToast) return null;\n      return React.createElement(KeyboardAvoidingView, {\n        behavior: Platform.OS === \"ios\" ? \"position\" : undefined,\n        style: [styles.container, style],\n        pointerEvents: \"box-none\"\n      }, toasts.filter(function (t) {\n        return t.placement === \"center\";\n      }).map(function (toast) {\n        return React.createElement(Toast, _extends({\n          key: toast.id\n        }, toast));\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, null, this.renderTopToasts(), this.renderBottomToasts(), this.renderCenterToasts());\n    }\n  }]);\n  return ToastContainer;\n}(Component);\n_defineProperty(ToastContainer, \"defaultProps\", {\n  placement: \"bottom\",\n  offset: 10,\n  swipeEnabled: true\n});\nvar styles = StyleSheet.create({\n  container: _objectSpread({\n    flex: 0,\n    position: Platform.OS === \"web\" ? \"fixed\" : \"absolute\",\n    maxWidth: \"100%\",\n    zIndex: 999999,\n    elevation: 999999,\n    alignSelf: 'center'\n  }, Platform.OS === \"web\" ? {\n    overflow: \"hidden\",\n    userSelect: 'none'\n  } : null),\n  message: {\n    color: \"#333\"\n  }\n});\nexport default ToastContainer;","map":{"version":3,"sources":["toast-container.tsx"],"names":["React","Component","Toast","height","width","Dimensions","get","ToastContainer","constructor","props","state","toasts","placement","offset","swipeEnabled","message","toastOptions","id","Math","random","toString","onDestroy","onClose","setState","filter","t","requestAnimationFrame","open","onHide","hide","map","toast","some","renderBottomToasts","offsetBottom","style","bottom","justifyContent","flexDirection","Platform","OS","undefined","styles","container","renderTopToasts","offsetTop","top","renderCenterToasts","data","foundToast","length","render","create","flex","position","maxWidth","zIndex","elevation","alignSelf","overflow","userSelect","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  ViewStyle,\r\n  KeyboardAvoidingView,\r\n  Platform,\r\n  Dimensions, SafeAreaView,\r\n} from \"react-native\";\r\nimport Toast, { ToastOptions, ToastProps } from \"./toast\";\r\n\r\nconst { height, width } = Dimensions.get(\"window\");\r\n\r\nexport interface Props extends ToastOptions {\r\n  renderToast?(toast: ToastProps): JSX.Element;\r\n  renderType?: { [type: string]: (toast: ToastProps) => JSX.Element };\r\n  offset?: number;\r\n  offsetTop?: number;\r\n  offsetBottom?: number;\r\n  swipeEnabled?: boolean;\r\n}\r\n\r\ninterface State {\r\n  toasts: Array<ToastProps>;\r\n}\r\n\r\nclass ToastContainer extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      toasts: [],\r\n    };\r\n  }\r\n\r\n  static defaultProps: Props = {\r\n    placement: \"bottom\",\r\n    offset: 10,\r\n    swipeEnabled: true,\r\n  };\r\n\r\n  /**\r\n   * Shows a new toast. Returns id\r\n   */\r\n  show = (message: string | JSX.Element, toastOptions?: ToastOptions) => {\r\n    let id = toastOptions?.id || Math.random().toString();\r\n    const onDestroy = () => {\r\n      toastOptions?.onClose && toastOptions?.onClose();\r\n      this.setState({ toasts: this.state.toasts.filter((t) => t.id !== id) });\r\n    };\r\n\r\n    requestAnimationFrame(() => {\r\n      this.setState({\r\n        toasts: [\r\n          {\r\n            id,\r\n            onDestroy,\r\n            message,\r\n            open: true,\r\n            onHide: () => this.hide(id),\r\n            ...this.props,\r\n            ...toastOptions,\r\n          },\r\n          ...this.state.toasts.filter((t) => t.open),\r\n        ],\r\n      });\r\n    });\r\n\r\n    return id;\r\n  };\r\n\r\n  /**\r\n   * Updates a toast, To use this create you must pass an id to show method first, then pass it here to update the toast.\r\n   */\r\n  update = (\r\n    id: string,\r\n    message: string | JSX.Element,\r\n    toastOptions?: ToastOptions\r\n  ) => {\r\n    this.setState({\r\n      toasts: this.state.toasts.map((toast) =>\r\n        toast.id === id ? { ...toast, message, ...toastOptions } : toast\r\n      ),\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Removes a toast from stack\r\n   */\r\n  hide = (id: string) => {\r\n    this.setState({\r\n      toasts: this.state.toasts.map((t) =>\r\n        t.id === id ? { ...t, open: false } : t\r\n      ),\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Removes all toasts in stack\r\n   */\r\n  hideAll = () => {\r\n    this.setState({\r\n      toasts: this.state.toasts.map((t) => ({ ...t, open: false })),\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Check if a toast is currently open\r\n   */\r\n  isOpen = (id: string) => {\r\n    return this.state.toasts.some((t) => t.id === id && t.open);\r\n  }\r\n\r\n  renderBottomToasts() {\r\n    const { toasts } = this.state;\r\n    let { offset, offsetBottom } = this.props;\r\n    let style: ViewStyle = {\r\n      bottom: offsetBottom || offset,\r\n      width: width,\r\n      justifyContent: \"flex-end\",\r\n      flexDirection: \"column\",\r\n    };\r\n    return (\r\n      <KeyboardAvoidingView\r\n        behavior={Platform.OS === \"ios\" ? \"position\" : undefined}\r\n        style={[styles.container, style]}\r\n        pointerEvents=\"box-none\"\r\n      >\r\n        <SafeAreaView>\r\n          {toasts\r\n            .filter((t) => !t.placement || t.placement === \"bottom\")\r\n            .map((toast) => (\r\n              <Toast key={toast.id} {...toast} />\r\n            ))}\r\n        </SafeAreaView>\r\n      </KeyboardAvoidingView>\r\n    );\r\n  }\r\n\r\n  renderTopToasts() {\r\n    const { toasts } = this.state;\r\n    let { offset, offsetTop } = this.props;\r\n    let style: ViewStyle = {\r\n      top: offsetTop || offset,\r\n      width: width,\r\n      justifyContent: \"flex-start\",\r\n      flexDirection: \"column-reverse\",\r\n    };\r\n    return (\r\n      <KeyboardAvoidingView\r\n        behavior={Platform.OS === \"ios\" ? \"position\" : undefined}\r\n        style={[styles.container, style]}\r\n        pointerEvents=\"box-none\"\r\n      >\r\n        <SafeAreaView>\r\n          {toasts\r\n            .filter((t) => t.placement === \"top\")\r\n            .map((toast) => (\r\n              <Toast key={toast.id} {...toast} />\r\n            ))}\r\n        </SafeAreaView>\r\n      </KeyboardAvoidingView>\r\n    );\r\n  }\r\n\r\n  renderCenterToasts() {\r\n    const { toasts } = this.state;\r\n    let { offset, offsetTop } = this.props;\r\n    let style: ViewStyle = {\r\n      top: offsetTop || offset,\r\n      height: height,\r\n      width: width,\r\n      justifyContent: \"center\",\r\n      flexDirection: \"column-reverse\",\r\n    };\r\n\r\n    const data = toasts.filter((t) => t.placement === \"center\");\r\n    const foundToast = data.length > 0;\r\n\r\n    if (!foundToast) return null;\r\n\r\n    return (\r\n      <KeyboardAvoidingView\r\n        behavior={Platform.OS === \"ios\" ? \"position\" : undefined}\r\n        style={[styles.container, style]}\r\n        pointerEvents=\"box-none\"\r\n      >\r\n        {toasts\r\n          .filter((t) => t.placement === \"center\")\r\n          .map((toast) => (\r\n            <Toast key={toast.id} {...toast} />\r\n          ))}\r\n      </KeyboardAvoidingView>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.renderTopToasts()}\r\n        {this.renderBottomToasts()}\r\n        {this.renderCenterToasts()}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 0,\r\n    // @ts-ignore: fixed is available on web.\r\n    position: Platform.OS === \"web\" ? \"fixed\" : \"absolute\",\r\n    maxWidth: \"100%\",\r\n    zIndex: 999999,\r\n    elevation: 999999,\r\n    alignSelf: 'center',\r\n    ...(Platform.OS === \"web\" ? { overflow: \"hidden\", userSelect: 'none' } : null),\r\n  },\r\n  message: {\r\n    color: \"#333\",\r\n  },\r\n});\r\n\r\nexport default ToastContainer;\r\n"]},"metadata":{},"sourceType":"module"}