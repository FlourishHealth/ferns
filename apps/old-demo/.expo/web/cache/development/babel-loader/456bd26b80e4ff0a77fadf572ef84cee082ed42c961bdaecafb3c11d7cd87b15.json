{"ast":null,"code":"import React, { useEffect, useRef, useState } from 'react';\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nvar emptyCoordinates = Object.freeze({\n  screenX: 0,\n  screenY: 0,\n  width: 0,\n  height: 0\n});\nvar initialValue = {\n  start: emptyCoordinates,\n  end: emptyCoordinates\n};\nexport function useKeyboard(enabled) {\n  var pauseKeyboardHandler = useRef(false);\n  var _a = useState(false),\n    shown = _a[0],\n    setShown = _a[1];\n  var _b = useState(initialValue),\n    coordinates = _b[0],\n    setCoordinates = _b[1];\n  var _c = useState(0),\n    keyboardHeight = _c[0],\n    setKeyboardHeight = _c[1];\n  var handleKeyboardDidShow = React.useCallback(function (e) {\n    if (pauseKeyboardHandler.current) return;\n    setCoordinates({\n      start: e.startCoordinates,\n      end: e.endCoordinates\n    });\n    setKeyboardHeight(e.endCoordinates.height);\n    setShown(true);\n  }, []);\n  var handleKeyboardDidHide = React.useCallback(function (e) {\n    setShown(false);\n    if (e) {\n      setCoordinates({\n        start: e.startCoordinates,\n        end: e.endCoordinates\n      });\n    } else {\n      setCoordinates(initialValue);\n      setKeyboardHeight(0);\n    }\n  }, []);\n  useEffect(function () {\n    var subscriptions = [];\n    if (enabled) {\n      subscriptions = [Keyboard.addListener('keyboardDidChangeFrame', handleKeyboardDidShow), Keyboard.addListener('keyboardDidHide', handleKeyboardDidHide)];\n      if (Platform.OS == 'android') {\n        subscriptions.push(Keyboard.addListener('keyboardDidShow', handleKeyboardDidShow));\n      } else {\n        subscriptions.push(Keyboard.addListener('keyboardWillShow', handleKeyboardDidShow), Keyboard.addListener('keyboardWillHide', handleKeyboardDidHide));\n      }\n    }\n    return function () {\n      subscriptions.forEach(function (subscription) {\n        return subscription.remove();\n      });\n    };\n  }, [enabled, handleKeyboardDidHide, handleKeyboardDidShow]);\n  return {\n    keyboardShown: !enabled ? false : shown,\n    coordinates: !enabled || !shown ? emptyCoordinates : coordinates,\n    keyboardHeight: !enabled || !shown ? 0 : keyboardHeight,\n    pauseKeyboardHandler: pauseKeyboardHandler,\n    reset: function reset() {\n      setShown(false);\n      setKeyboardHeight(0);\n    }\n  };\n}","map":{"version":3,"names":["React","useEffect","useRef","useState","Keyboard","Platform","emptyCoordinates","Object","freeze","screenX","screenY","width","height","initialValue","start","end","useKeyboard","enabled","pauseKeyboardHandler","_a","shown","setShown","_b","coordinates","setCoordinates","_c","keyboardHeight","setKeyboardHeight","handleKeyboardDidShow","useCallback","e","current","startCoordinates","endCoordinates","handleKeyboardDidHide","subscriptions","addListener","OS","push","forEach","subscription","remove","keyboardShown","reset"],"sources":["/Users/josh/src/ui/apps/demo/node_modules/react-native-actions-sheet/dist/src/hooks/useKeyboard.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Keyboard, Platform, } from 'react-native';\nvar emptyCoordinates = Object.freeze({\n    screenX: 0,\n    screenY: 0,\n    width: 0,\n    height: 0,\n});\nvar initialValue = {\n    start: emptyCoordinates,\n    end: emptyCoordinates,\n};\nexport function useKeyboard(enabled) {\n    var pauseKeyboardHandler = useRef(false);\n    var _a = useState(false), shown = _a[0], setShown = _a[1];\n    var _b = useState(initialValue), coordinates = _b[0], setCoordinates = _b[1];\n    var _c = useState(0), keyboardHeight = _c[0], setKeyboardHeight = _c[1];\n    var handleKeyboardDidShow = React.useCallback(function (e) {\n        if (pauseKeyboardHandler.current)\n            return;\n        setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n        setKeyboardHeight(e.endCoordinates.height);\n        setShown(true);\n    }, []);\n    var handleKeyboardDidHide = React.useCallback(function (e) {\n        setShown(false);\n        if (e) {\n            setCoordinates({ start: e.startCoordinates, end: e.endCoordinates });\n        }\n        else {\n            setCoordinates(initialValue);\n            setKeyboardHeight(0);\n        }\n    }, []);\n    useEffect(function () {\n        var subscriptions = [];\n        if (enabled) {\n            subscriptions = [\n                Keyboard.addListener('keyboardDidChangeFrame', handleKeyboardDidShow),\n                Keyboard.addListener('keyboardDidHide', handleKeyboardDidHide),\n            ];\n            if (Platform.OS == 'android') {\n                subscriptions.push(Keyboard.addListener('keyboardDidShow', handleKeyboardDidShow));\n            }\n            else {\n                subscriptions.push(Keyboard.addListener('keyboardWillShow', handleKeyboardDidShow), Keyboard.addListener('keyboardWillHide', handleKeyboardDidHide));\n            }\n        }\n        return function () {\n            subscriptions.forEach(function (subscription) { return subscription.remove(); });\n        };\n    }, [enabled, handleKeyboardDidHide, handleKeyboardDidShow]);\n    return {\n        keyboardShown: !enabled ? false : shown,\n        coordinates: !enabled || !shown ? emptyCoordinates : coordinates,\n        keyboardHeight: !enabled || !shown ? 0 : keyboardHeight,\n        pauseKeyboardHandler: pauseKeyboardHandler,\n        reset: function () {\n            setShown(false);\n            setKeyboardHeight(0);\n        },\n    };\n}\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,QAAA;AAAA,OAAAC,QAAA;AAE3D,IAAIC,gBAAgB,GAAGC,MAAM,CAACC,MAAM,CAAC;EACjCC,OAAO,EAAE,CAAC;EACVC,OAAO,EAAE,CAAC;EACVC,KAAK,EAAE,CAAC;EACRC,MAAM,EAAE;AACZ,CAAC,CAAC;AACF,IAAIC,YAAY,GAAG;EACfC,KAAK,EAAER,gBAAgB;EACvBS,GAAG,EAAET;AACT,CAAC;AACD,OAAO,SAASU,WAAWA,CAACC,OAAO,EAAE;EACjC,IAAIC,oBAAoB,GAAGhB,MAAM,CAAC,KAAK,CAAC;EACxC,IAAIiB,EAAE,GAAGhB,QAAQ,CAAC,KAAK,CAAC;IAAEiB,KAAK,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,QAAQ,GAAGF,EAAE,CAAC,CAAC,CAAC;EACzD,IAAIG,EAAE,GAAGnB,QAAQ,CAACU,YAAY,CAAC;IAAEU,WAAW,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,cAAc,GAAGF,EAAE,CAAC,CAAC,CAAC;EAC5E,IAAIG,EAAE,GAAGtB,QAAQ,CAAC,CAAC,CAAC;IAAEuB,cAAc,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,iBAAiB,GAAGF,EAAE,CAAC,CAAC,CAAC;EACvE,IAAIG,qBAAqB,GAAG5B,KAAK,CAAC6B,WAAW,CAAC,UAAUC,CAAC,EAAE;IACvD,IAAIZ,oBAAoB,CAACa,OAAO,EAC5B;IACJP,cAAc,CAAC;MAAEV,KAAK,EAAEgB,CAAC,CAACE,gBAAgB;MAAEjB,GAAG,EAAEe,CAAC,CAACG;IAAe,CAAC,CAAC;IACpEN,iBAAiB,CAACG,CAAC,CAACG,cAAc,CAACrB,MAAM,CAAC;IAC1CS,QAAQ,CAAC,IAAI,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EACN,IAAIa,qBAAqB,GAAGlC,KAAK,CAAC6B,WAAW,CAAC,UAAUC,CAAC,EAAE;IACvDT,QAAQ,CAAC,KAAK,CAAC;IACf,IAAIS,CAAC,EAAE;MACHN,cAAc,CAAC;QAAEV,KAAK,EAAEgB,CAAC,CAACE,gBAAgB;QAAEjB,GAAG,EAAEe,CAAC,CAACG;MAAe,CAAC,CAAC;IACxE,CAAC,MACI;MACDT,cAAc,CAACX,YAAY,CAAC;MAC5Bc,iBAAiB,CAAC,CAAC,CAAC;IACxB;EACJ,CAAC,EAAE,EAAE,CAAC;EACN1B,SAAS,CAAC,YAAY;IAClB,IAAIkC,aAAa,GAAG,EAAE;IACtB,IAAIlB,OAAO,EAAE;MACTkB,aAAa,GAAG,CACZ/B,QAAQ,CAACgC,WAAW,CAAC,wBAAwB,EAAER,qBAAqB,CAAC,EACrExB,QAAQ,CAACgC,WAAW,CAAC,iBAAiB,EAAEF,qBAAqB,CAAC,CACjE;MACD,IAAI7B,QAAQ,CAACgC,EAAE,IAAI,SAAS,EAAE;QAC1BF,aAAa,CAACG,IAAI,CAAClC,QAAQ,CAACgC,WAAW,CAAC,iBAAiB,EAAER,qBAAqB,CAAC,CAAC;MACtF,CAAC,MACI;QACDO,aAAa,CAACG,IAAI,CAAClC,QAAQ,CAACgC,WAAW,CAAC,kBAAkB,EAAER,qBAAqB,CAAC,EAAExB,QAAQ,CAACgC,WAAW,CAAC,kBAAkB,EAAEF,qBAAqB,CAAC,CAAC;MACxJ;IACJ;IACA,OAAO,YAAY;MACfC,aAAa,CAACI,OAAO,CAAC,UAAUC,YAAY,EAAE;QAAE,OAAOA,YAAY,CAACC,MAAM,CAAC,CAAC;MAAE,CAAC,CAAC;IACpF,CAAC;EACL,CAAC,EAAE,CAACxB,OAAO,EAAEiB,qBAAqB,EAAEN,qBAAqB,CAAC,CAAC;EAC3D,OAAO;IACHc,aAAa,EAAE,CAACzB,OAAO,GAAG,KAAK,GAAGG,KAAK;IACvCG,WAAW,EAAE,CAACN,OAAO,IAAI,CAACG,KAAK,GAAGd,gBAAgB,GAAGiB,WAAW;IAChEG,cAAc,EAAE,CAACT,OAAO,IAAI,CAACG,KAAK,GAAG,CAAC,GAAGM,cAAc;IACvDR,oBAAoB,EAAEA,oBAAoB;IAC1CyB,KAAK,EAAE,SAAAA,MAAA,EAAY;MACftB,QAAQ,CAAC,KAAK,CAAC;MACfM,iBAAiB,CAAC,CAAC,CAAC;IACxB;EACJ,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}